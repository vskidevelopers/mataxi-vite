function AP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KE={exports:{}},Yf={},GE={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),DP=Symbol.for("react.portal"),OP=Symbol.for("react.fragment"),jP=Symbol.for("react.strict_mode"),LP=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),FP=Symbol.for("react.context"),VP=Symbol.for("react.forward_ref"),$P=Symbol.for("react.suspense"),UP=Symbol.for("react.memo"),BP=Symbol.for("react.lazy"),Ww=Symbol.iterator;function zP(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XE=Object.assign,YE={};function Oa(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||QE}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JE(){}JE.prototype=Oa.prototype;function Gv(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||QE}var Qv=Gv.prototype=new JE;Qv.constructor=Gv;XE(Qv,Oa.prototype);Qv.isPureReactComponent=!0;var qw=Array.isArray,ZE=Object.prototype.hasOwnProperty,Xv={current:null},eb={key:!0,ref:!0,__self:!0,__source:!0};function tb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZE.call(e,r)&&!eb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zu,type:t,key:s,ref:o,props:i,_owner:Xv.current}}function HP(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yv(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function WP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kw=/\/+/g;function yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WP(""+t.key):e.toString(36)}function ud(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zu:case DP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yp(o,0):r,qw(i)?(n="",t!=null&&(n=t.replace(Kw,"$&/")+"/"),ud(i,e,n,"",function(u){return u})):i!=null&&(Yv(i)&&(i=HP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yp(s,a);o+=ud(s,e,n,l,i)}else if(l=zP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yp(s,a++),o+=ud(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(t,e,n){if(t==null)return t;var r=[],i=0;return ud(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},cd={transition:null},KP={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:cd,ReactCurrentOwner:Xv};Ve.Children={map:kc,forEach:function(t,e,n){kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kc(t,function(){e++}),e},toArray:function(t){return kc(t,function(e){return e})||[]},only:function(t){if(!Yv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Oa;Ve.Fragment=OP;Ve.Profiler=LP;Ve.PureComponent=Gv;Ve.StrictMode=jP;Ve.Suspense=$P;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ZE.call(e,l)&&!eb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ve.createContext=function(t){return t={$$typeof:FP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MP,_context:t},t.Consumer=t};Ve.createElement=tb;Ve.createFactory=function(t){var e=tb.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:VP,render:t}};Ve.isValidElement=Yv;Ve.lazy=function(t){return{$$typeof:BP,_payload:{_status:-1,_result:t},_init:qP}};Ve.memo=function(t,e){return{$$typeof:UP,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=cd.transition;cd.transition={};try{t()}finally{cd.transition=e}};Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ve.useCallback=function(t,e){return Fn.current.useCallback(t,e)};Ve.useContext=function(t){return Fn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Fn.current.useEffect(t,e)};Ve.useId=function(){return Fn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Fn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};Ve.useRef=function(t){return Fn.current.useRef(t)};Ve.useState=function(t){return Fn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return Fn.current.useTransition()};Ve.version="18.2.0";GE.exports=Ve;var m=GE.exports;const te=Kv(m),fa=AP({__proto__:null,default:te},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=m,QP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),YP=Object.prototype.hasOwnProperty,JP=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZP={key:!0,ref:!0,__self:!0,__source:!0};function nb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YP.call(e,r)&&!ZP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QP,type:t,key:s,ref:o,props:i,_owner:JP.current}}Yf.Fragment=XP;Yf.jsx=nb;Yf.jsxs=nb;KE.exports=Yf;var c=KE.exports,zm={},rb={exports:{}},or={},ib={exports:{}},sb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,D){var j=A.length;A.push(D);e:for(;0<j;){var Z=j-1>>>1,re=A[Z];if(0<i(re,D))A[Z]=D,A[j]=re,j=Z;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],j=A.pop();if(j!==D){A[0]=j;e:for(var Z=0,re=A.length,ne=re>>>1;Z<ne;){var q=2*(Z+1)-1,ye=A[q],G=q+1,we=A[G];if(0>i(ye,j))G<re&&0>i(we,ye)?(A[Z]=we,A[G]=j,Z=G):(A[Z]=ye,A[q]=j,Z=q);else if(G<re&&0>i(we,j))A[Z]=we,A[G]=j,Z=G;else break e}}return D}function i(A,D){var j=A.sortIndex-D.sortIndex;return j!==0?j:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(A){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=A)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function w(A){if(y=!1,E(A),!v)if(n(l)!==null)v=!0,$(b);else{var D=n(u);D!==null&&H(w,D.startTime-A)}}function b(A,D){v=!1,y&&(y=!1,_(C),C=-1),g=!0;var j=h;try{for(E(D),f=n(l);f!==null&&(!(f.expirationTime>D)||A&&!z());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var re=Z(f.expirationTime<=D);D=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),E(D)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var q=n(u);q!==null&&H(w,q.startTime-D),ne=!1}return ne}finally{f=null,h=j,g=!1}}var T=!1,R=null,C=-1,k=5,N=-1;function z(){return!(t.unstable_now()-N<k)}function S(){if(R!==null){var A=t.unstable_now();N=A;var D=!0;try{D=R(!0,A)}finally{D?I():(T=!1,R=null)}}else T=!1}var I;if(typeof p=="function")I=function(){p(S)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,L=O.port2;O.port1.onmessage=S,I=function(){L.postMessage(null)}}else I=function(){x(S,0)};function $(A){R=A,T||(T=!0,I())}function H(A,D){C=x(function(){A(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,$(b))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var j=h;h=D;try{return A()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var j=h;h=A;try{return D()}finally{h=j}},t.unstable_scheduleCallback=function(A,D,j){var Z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Z+j:Z):j=Z,A){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=j+re,A={id:d++,callback:D,priorityLevel:A,startTime:j,expirationTime:re,sortIndex:-1},j>Z?(A.sortIndex=j,e(u,A),n(l)===null&&A===n(u)&&(y?(_(C),C=-1):y=!0,H(w,j-Z))):(A.sortIndex=re,e(l,A),v||g||(v=!0,$(b))),A},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(A){var D=h;return function(){var j=h;h=D;try{return A.apply(this,arguments)}finally{h=j}}}})(sb);ib.exports=sb;var eA=ib.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=m,rr=eA;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ab=new Set,nu={};function uo(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(nu[t]=e,t=0;t<e.length;t++)ab.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hm=Object.prototype.hasOwnProperty,tA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gw={},Qw={};function nA(t){return Hm.call(Qw,t)?!0:Hm.call(Gw,t)?!1:tA.test(t)?Qw[t]=!0:(Gw[t]=!0,!1)}function rA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iA(t,e,n,r){if(e===null||typeof e>"u"||rA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mn[t]=new Vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mn[e]=new Vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mn[t]=new Vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mn[t]=new Vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mn[t]=new Vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mn[t]=new Vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mn[t]=new Vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mn[t]=new Vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mn[t]=new Vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function Zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);mn[e]=new Vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);mn[e]=new Vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jv,Zv);mn[e]=new Vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ey(t,e,n,r){var i=mn.hasOwnProperty(e)?mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iA(e,n,i,r)&&(n=null),r||i===null?nA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),ub=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),ry=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),cb=Symbol.for("react.offscreen"),Xw=Symbol.iterator;function il(t){return t===null||typeof t!="object"?null:(t=Xw&&t[Xw]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,wp;function Tl(t){if(wp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wp=e&&e[1]||""}return`
`+wp+t}var _p=!1;function xp(t,e){if(!t||_p)return"";_p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_p=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tl(t):""}function sA(t){switch(t.tag){case 5:return Tl(t.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function Gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case Oo:return"Portal";case Wm:return"Profiler";case ty:return"StrictMode";case qm:return"Suspense";case Km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ub:return(t.displayName||"Context")+".Consumer";case lb:return(t._context.displayName||"Context")+".Provider";case ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ry:return e=t.displayName||null,e!==null?e:Gm(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Gm(t(e))}catch{}}return null}function oA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gm(e);case 8:return e===ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function db(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aA(t){var e=db(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=aA(t))}function fb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=db(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qm(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hb(t,e){e=e.checked,e!=null&&ey(t,"checked",e,!1)}function Xm(t,e){hb(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ym(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ym(t,e,n){(e!=="number"||Ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Il=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Il(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function pb(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nc,gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nc=Nc||document.createElement("div"),Nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ru(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lA=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(t){lA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ml[e]=Ml[t]})});function vb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ml.hasOwnProperty(t)&&Ml[t]?(""+e).trim():e+"px"}function yb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uA=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eg(t,e){if(e){if(uA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function tg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rg=null,Zo=null,ea=null;function t_(t){if(t=qu(t)){if(typeof rg!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=nh(e),rg(t.stateNode,t.type,e))}}function wb(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function _b(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,t_(t),e)for(t=0;t<e.length;t++)t_(e[t])}}function xb(t,e){return t(e)}function Eb(){}var Ep=!1;function bb(t,e,n){if(Ep)return t(e,n);Ep=!0;try{return xb(t,e,n)}finally{Ep=!1,(Zo!==null||ea!==null)&&(Eb(),_b())}}function iu(t,e){var n=t.stateNode;if(n===null)return null;var r=nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var ig=!1;if(xi)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){ig=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{ig=!1}function cA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Fl=!1,Nd=null,Dd=!1,sg=null,dA={onError:function(t){Fl=!0,Nd=t}};function fA(t,e,n,r,i,s,o,a,l){Fl=!1,Nd=null,cA.apply(dA,arguments)}function hA(t,e,n,r,i,s,o,a,l){if(fA.apply(this,arguments),Fl){if(Fl){var u=Nd;Fl=!1,Nd=null}else throw Error(Y(198));Dd||(Dd=!0,sg=u)}}function co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n_(t){if(co(t)!==t)throw Error(Y(188))}function pA(t){var e=t.alternate;if(!e){if(e=co(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return n_(i),t;if(s===r)return n_(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Tb(t){return t=pA(t),t!==null?Ib(t):null}function Ib(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ib(t);if(e!==null)return e;t=t.sibling}return null}var Cb=rr.unstable_scheduleCallback,r_=rr.unstable_cancelCallback,mA=rr.unstable_shouldYield,gA=rr.unstable_requestPaint,Vt=rr.unstable_now,vA=rr.unstable_getCurrentPriorityLevel,sy=rr.unstable_ImmediatePriority,Rb=rr.unstable_UserBlockingPriority,Od=rr.unstable_NormalPriority,yA=rr.unstable_LowPriority,kb=rr.unstable_IdlePriority,Jf=null,Kr=null;function wA(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:EA,_A=Math.log,xA=Math.LN2;function EA(t){return t>>>=0,t===0?32:31-(_A(t)/xA|0)|0}var Dc=64,Oc=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Cl(a):(s&=o,s!==0&&(r=Cl(s)))}else o=n&~i,o!==0?r=Cl(o):s!==0&&(r=Cl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kr(e),i=1<<n,r|=t[n],e&=~i;return r}function bA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function og(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pb(){var t=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),t}function bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=n}function TA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function Ab(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nb,ay,Db,Ob,jb,ag=!1,jc=[],ts=null,ns=null,rs=null,su=new Map,ou=new Map,Ui=[],IA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i_(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(e.pointerId)}}function ol(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qu(e),e!==null&&ay(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CA(t,e,n,r,i){switch(e){case"focusin":return ts=ol(ts,t,e,n,r,i),!0;case"dragenter":return ns=ol(ns,t,e,n,r,i),!0;case"mouseover":return rs=ol(rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return su.set(s,ol(su.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ou.set(s,ol(ou.get(s)||null,t,e,n,r,i)),!0}return!1}function Lb(t){var e=Os(t.target);if(e!==null){var n=co(e);if(n!==null){if(e=n.tag,e===13){if(e=Sb(n),e!==null){t.blockedOn=e,jb(t.priority,function(){Db(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ng=r,n.target.dispatchEvent(r),ng=null}else return e=qu(n),e!==null&&ay(e),t.blockedOn=n,!1;e.shift()}return!0}function s_(t,e,n){dd(t)&&n.delete(e)}function RA(){ag=!1,ts!==null&&dd(ts)&&(ts=null),ns!==null&&dd(ns)&&(ns=null),rs!==null&&dd(rs)&&(rs=null),su.forEach(s_),ou.forEach(s_)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,ag||(ag=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,RA)))}function au(t){function e(i){return al(i,t)}if(0<jc.length){al(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&al(ts,t),ns!==null&&al(ns,t),rs!==null&&al(rs,t),su.forEach(e),ou.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)Lb(n),n.blockedOn===null&&Ui.shift()}var ta=ki.ReactCurrentBatchConfig,Ld=!0;function kA(t,e,n,r){var i=et,s=ta.transition;ta.transition=null;try{et=1,ly(t,e,n,r)}finally{et=i,ta.transition=s}}function PA(t,e,n,r){var i=et,s=ta.transition;ta.transition=null;try{et=4,ly(t,e,n,r)}finally{et=i,ta.transition=s}}function ly(t,e,n,r){if(Ld){var i=lg(t,e,n,r);if(i===null)Dp(t,e,r,Md,n),i_(t,r);else if(CA(i,t,e,n,r))r.stopPropagation();else if(i_(t,r),e&4&&-1<IA.indexOf(t)){for(;i!==null;){var s=qu(i);if(s!==null&&Nb(s),s=lg(t,e,n,r),s===null&&Dp(t,e,r,Md,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dp(t,e,r,null,n)}}var Md=null;function lg(t,e,n,r){if(Md=null,t=iy(r),t=Os(t),t!==null)if(e=co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function Mb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vA()){case sy:return 1;case Rb:return 4;case Od:case yA:return 16;case kb:return 536870912;default:return 16}default:return 16}}var Qi=null,uy=null,fd=null;function Fb(){if(fd)return fd;var t,e=uy,n=e.length,r,i="value"in Qi?Qi.value:Qi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fd=i.slice(t,1<r?1-r:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lc(){return!0}function o_(){return!1}function ar(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lc:o_,this.isPropagationStopped=o_,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),e}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=ar(ja),Wu=kt({},ja,{view:0,detail:0}),AA=ar(Wu),Sp,Tp,ll,Zf=kt({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(Sp=t.screenX-ll.screenX,Tp=t.screenY-ll.screenY):Tp=Sp=0,ll=t),Sp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),a_=ar(Zf),NA=kt({},Zf,{dataTransfer:0}),DA=ar(NA),OA=kt({},Wu,{relatedTarget:0}),Ip=ar(OA),jA=kt({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),LA=ar(jA),MA=kt({},ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FA=ar(MA),VA=kt({},ja,{data:0}),l_=ar(VA),$A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BA[t])?!!e[t]:!1}function dy(){return zA}var HA=kt({},Wu,{key:function(t){if(t.key){var e=$A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dy,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WA=ar(HA),qA=kt({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u_=ar(qA),KA=kt({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dy}),GA=ar(KA),QA=kt({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),XA=ar(QA),YA=kt({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JA=ar(YA),ZA=[9,13,27,32],fy=xi&&"CompositionEvent"in window,Vl=null;xi&&"documentMode"in document&&(Vl=document.documentMode);var eN=xi&&"TextEvent"in window&&!Vl,Vb=xi&&(!fy||Vl&&8<Vl&&11>=Vl),c_=String.fromCharCode(32),d_=!1;function $b(t,e){switch(t){case"keyup":return ZA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ub(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function tN(t,e){switch(t){case"compositionend":return Ub(e);case"keypress":return e.which!==32?null:(d_=!0,c_);case"textInput":return t=e.data,t===c_&&d_?null:t;default:return null}}function nN(t,e){if(Lo)return t==="compositionend"||!fy&&$b(t,e)?(t=Fb(),fd=uy=Qi=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vb&&e.locale!=="ko"?null:e.data;default:return null}}var rN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rN[t.type]:e==="textarea"}function Bb(t,e,n,r){wb(r),e=Fd(e,"onChange"),0<e.length&&(n=new cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $l=null,lu=null;function iN(t){Zb(t,0)}function eh(t){var e=Vo(t);if(fb(e))return t}function sN(t,e){if(t==="change")return e}var zb=!1;if(xi){var Cp;if(xi){var Rp="oninput"in document;if(!Rp){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),Rp=typeof h_.oninput=="function"}Cp=Rp}else Cp=!1;zb=Cp&&(!document.documentMode||9<document.documentMode)}function p_(){$l&&($l.detachEvent("onpropertychange",Hb),lu=$l=null)}function Hb(t){if(t.propertyName==="value"&&eh(lu)){var e=[];Bb(e,lu,t,iy(t)),bb(iN,e)}}function oN(t,e,n){t==="focusin"?(p_(),$l=e,lu=n,$l.attachEvent("onpropertychange",Hb)):t==="focusout"&&p_()}function aN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eh(lu)}function lN(t,e){if(t==="click")return eh(e)}function uN(t,e){if(t==="input"||t==="change")return eh(e)}function cN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:cN;function uu(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hm.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function m_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g_(t,e){var n=m_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m_(n)}}function Wb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qb(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ad(t.document)}return e}function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dN(t){var e=qb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wb(n.ownerDocument.documentElement,n)){if(r!==null&&hy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=g_(n,s);var o=g_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fN=xi&&"documentMode"in document&&11>=document.documentMode,Mo=null,ug=null,Ul=null,cg=!1;function v_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cg||Mo==null||Mo!==Ad(r)||(r=Mo,"selectionStart"in r&&hy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&uu(Ul,r)||(Ul=r,r=Fd(ug,"onSelect"),0<r.length&&(e=new cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mo)))}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},kp={},Kb={};xi&&(Kb=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function th(t){if(kp[t])return kp[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kb)return kp[t]=e[n];return t}var Gb=th("animationend"),Qb=th("animationiteration"),Xb=th("animationstart"),Yb=th("transitionend"),Jb=new Map,y_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(t,e){Jb.set(t,e),uo(e,[t])}for(var Pp=0;Pp<y_.length;Pp++){var Ap=y_[Pp],hN=Ap.toLowerCase(),pN=Ap[0].toUpperCase()+Ap.slice(1);ws(hN,"on"+pN)}ws(Gb,"onAnimationEnd");ws(Qb,"onAnimationIteration");ws(Xb,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws(Yb,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function w_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hA(r,e,void 0,t),t.currentTarget=null}function Zb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;w_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;w_(i,a,u),s=l}}}if(Dd)throw t=sg,Dd=!1,sg=null,t}function dt(t,e){var n=e[mg];n===void 0&&(n=e[mg]=new Set);var r=t+"__bubble";n.has(r)||(eS(e,t,2,!1),n.add(r))}function Np(t,e,n){var r=0;e&&(r|=4),eS(n,t,r,e)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function cu(t){if(!t[Fc]){t[Fc]=!0,ab.forEach(function(n){n!=="selectionchange"&&(mN.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fc]||(e[Fc]=!0,Np("selectionchange",!1,e))}}function eS(t,e,n,r){switch(Mb(e)){case 1:var i=kA;break;case 4:i=PA;break;default:i=ly}n=i.bind(null,e,n,t),i=void 0,!ig||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Os(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bb(function(){var u=s,d=iy(n),f=[];e:{var h=Jb.get(t);if(h!==void 0){var g=cy,v=t;switch(t){case"keypress":if(hd(n)===0)break e;case"keydown":case"keyup":g=WA;break;case"focusin":v="focus",g=Ip;break;case"focusout":v="blur",g=Ip;break;case"beforeblur":case"afterblur":g=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=a_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=GA;break;case Gb:case Qb:case Xb:g=LA;break;case Yb:g=XA;break;case"scroll":g=AA;break;case"wheel":g=JA;break;case"copy":case"cut":case"paste":g=FA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=u_}var y=(e&4)!==0,x=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,E;p!==null;){E=p;var w=E.stateNode;if(E.tag===5&&w!==null&&(E=w,_!==null&&(w=iu(p,_),w!=null&&y.push(du(p,w,E)))),x)break;p=p.return}0<y.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==ng&&(v=n.relatedTarget||n.fromElement)&&(Os(v)||v[Ei]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Os(v):null,v!==null&&(x=co(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=a_,w="onMouseLeave",_="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=u_,w="onPointerLeave",_="onPointerEnter",p="pointer"),x=g==null?h:Vo(g),E=v==null?h:Vo(v),h=new y(w,p+"leave",g,n,d),h.target=x,h.relatedTarget=E,w=null,Os(d)===u&&(y=new y(_,p+"enter",v,n,d),y.target=E,y.relatedTarget=x,w=y),x=w,g&&v)t:{for(y=g,_=v,p=0,E=y;E;E=Eo(E))p++;for(E=0,w=_;w;w=Eo(w))E++;for(;0<p-E;)y=Eo(y),p--;for(;0<E-p;)_=Eo(_),E--;for(;p--;){if(y===_||_!==null&&y===_.alternate)break t;y=Eo(y),_=Eo(_)}y=null}else y=null;g!==null&&__(f,h,g,y,!1),v!==null&&x!==null&&__(f,x,v,y,!0)}}e:{if(h=u?Vo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var b=sN;else if(f_(h))if(zb)b=uN;else{b=aN;var T=oN}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=lN);if(b&&(b=b(t,u))){Bb(f,b,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Ym(h,"number",h.value)}switch(T=u?Vo(u):window,t){case"focusin":(f_(T)||T.contentEditable==="true")&&(Mo=T,ug=u,Ul=null);break;case"focusout":Ul=ug=Mo=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,v_(f,n,d);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":v_(f,n,d)}var R;if(fy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Lo?$b(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Vb&&n.locale!=="ko"&&(Lo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Lo&&(R=Fb()):(Qi=d,uy="value"in Qi?Qi.value:Qi.textContent,Lo=!0)),T=Fd(u,C),0<T.length&&(C=new l_(C,t,null,n,d),f.push({event:C,listeners:T}),R?C.data=R:(R=Ub(n),R!==null&&(C.data=R)))),(R=eN?tN(t,n):nN(t,n))&&(u=Fd(u,"onBeforeInput"),0<u.length&&(d=new l_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}Zb(f,e)})}function du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=iu(t,n),s!=null&&r.unshift(du(t,s,i)),s=iu(t,e),s!=null&&r.push(du(t,s,i))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function __(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=iu(n,s),l!=null&&o.unshift(du(n,l,a))):i||(l=iu(n,s),l!=null&&o.push(du(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(gN,`
`).replace(vN,"")}function Vc(t,e,n){if(e=x_(e),x_(t)!==e&&n)throw Error(Y(425))}function Vd(){}var dg=null,fg=null;function hg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pg=typeof setTimeout=="function"?setTimeout:void 0,yN=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,wN=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(_N)}:pg;function _N(t){setTimeout(function(){throw t})}function Op(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);au(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var La=Math.random().toString(36).slice(2),Ur="__reactFiber$"+La,fu="__reactProps$"+La,Ei="__reactContainer$"+La,mg="__reactEvents$"+La,xN="__reactListeners$"+La,EN="__reactHandles$"+La;function Os(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b_(t);t!==null;){if(n=t[Ur])return n;t=b_(t)}return e}t=n,n=t.parentNode}return null}function qu(t){return t=t[Ur]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function nh(t){return t[fu]||null}var gg=[],$o=-1;function _s(t){return{current:t}}function mt(t){0>$o||(t.current=gg[$o],gg[$o]=null,$o--)}function ut(t,e){$o++,gg[$o]=t.current,t.current=e}var ps={},Cn=_s(ps),Gn=_s(!1),Qs=ps;function pa(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function $d(){mt(Gn),mt(Cn)}function S_(t,e,n){if(Cn.current!==ps)throw Error(Y(168));ut(Cn,e),ut(Gn,n)}function tS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,oA(t)||"Unknown",i));return kt({},n,r)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,Qs=Cn.current,ut(Cn,t),ut(Gn,Gn.current),!0}function T_(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=tS(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,mt(Gn),mt(Cn),ut(Cn,t)):mt(Gn),ut(Gn,n)}var ui=null,rh=!1,jp=!1;function nS(t){ui===null?ui=[t]:ui.push(t)}function bN(t){rh=!0,nS(t)}function xs(){if(!jp&&ui!==null){jp=!0;var t=0,e=et;try{var n=ui;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,rh=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),Cb(sy,xs),i}finally{et=e,jp=!1}}return null}var Uo=[],Bo=0,Bd=null,zd=0,dr=[],fr=0,Xs=null,di=1,fi="";function Ps(t,e){Uo[Bo++]=zd,Uo[Bo++]=Bd,Bd=t,zd=e}function rS(t,e,n){dr[fr++]=di,dr[fr++]=fi,dr[fr++]=Xs,Xs=t;var r=di;t=fi;var i=32-kr(r)-1;r&=~(1<<i),n+=1;var s=32-kr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,di=1<<32-kr(e)+i|n<<i|r,fi=s+t}else di=1<<s|n<<i|r,fi=t}function py(t){t.return!==null&&(Ps(t,1),rS(t,1,0))}function my(t){for(;t===Bd;)Bd=Uo[--Bo],Uo[Bo]=null,zd=Uo[--Bo],Uo[Bo]=null;for(;t===Xs;)Xs=dr[--fr],dr[fr]=null,fi=dr[--fr],dr[fr]=null,di=dr[--fr],dr[fr]=null}var nr=null,Zn=null,xt=!1,Ir=null;function iS(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function I_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,Zn=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xs!==null?{id:di,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,Zn=null,!0):!1;default:return!1}}function vg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yg(t){if(xt){var e=Zn;if(e){var n=e;if(!I_(t,e)){if(vg(t))throw Error(Y(418));e=is(n.nextSibling);var r=nr;e&&I_(t,e)?iS(r,n):(t.flags=t.flags&-4097|2,xt=!1,nr=t)}}else{if(vg(t))throw Error(Y(418));t.flags=t.flags&-4097|2,xt=!1,nr=t}}}function C_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function $c(t){if(t!==nr)return!1;if(!xt)return C_(t),xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hg(t.type,t.memoizedProps)),e&&(e=Zn)){if(vg(t))throw sS(),Error(Y(418));for(;e;)iS(t,e),e=is(e.nextSibling)}if(C_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=nr?is(t.stateNode.nextSibling):null;return!0}function sS(){for(var t=Zn;t;)t=is(t.nextSibling)}function ma(){Zn=nr=null,xt=!1}function gy(t){Ir===null?Ir=[t]:Ir.push(t)}var SN=ki.ReactCurrentBatchConfig;function br(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hd=_s(null),Wd=null,zo=null,vy=null;function yy(){vy=zo=Wd=null}function wy(t){var e=Hd.current;mt(Hd),t._currentValue=e}function wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){Wd=t,vy=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(vy!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(Wd===null)throw Error(Y(308));zo=t,Wd.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var js=null;function _y(t){js===null?js=[t]:js.push(t)}function oS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_y(e)):(n.next=i.next,i.next=n),e.interleaved=n,bi(t,r)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vi=!1;function xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bi(t,n)}return i=r.interleaved,i===null?(e.next=e,_y(r)):(e.next=i.next,i.next=e),r.interleaved=e,bi(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oy(t,n)}}function R_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qd(t,e,n,r){var i=t.updateQueue;Vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=kt({},f,h);break e;case 2:Vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=o,t.lanes=o,t.memoizedState=f}}function k_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var lS=new ob.Component().refs;function _g(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ih={isMounted:function(t){return(t=t._reactInternals)?co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=as(t),s=gi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(Pr(e,t,i,r),pd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=as(t),s=gi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(Pr(e,t,i,r),pd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=as(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ss(t,i,r),e!==null&&(Pr(e,t,r,n),pd(e,t,r))}};function P_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!uu(n,r)||!uu(i,s):!0}function uS(t,e,n){var r=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(i=Qn(e)?Qs:Cn.current,r=e.contextTypes,s=(r=r!=null)?pa(t,i):ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ih.enqueueReplaceState(e,e.state,null)}function xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lS,xy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gr(s):(s=Qn(e)?Qs:Cn.current,i.context=pa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_g(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ih.enqueueReplaceState(i,i.state,null),qd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===lS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Uc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N_(t){var e=t._init;return e(t._payload)}function cS(t){function e(_,p){if(t){var E=_.deletions;E===null?(_.deletions=[p],_.flags|=16):E.push(p)}}function n(_,p){if(!t)return null;for(;p!==null;)e(_,p),p=p.sibling;return null}function r(_,p){for(_=new Map;p!==null;)p.key!==null?_.set(p.key,p):_.set(p.index,p),p=p.sibling;return _}function i(_,p){return _=ls(_,p),_.index=0,_.sibling=null,_}function s(_,p,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<p?(_.flags|=2,p):E):(_.flags|=2,p)):(_.flags|=1048576,p)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,p,E,w){return p===null||p.tag!==6?(p=Bp(E,_.mode,w),p.return=_,p):(p=i(p,E),p.return=_,p)}function l(_,p,E,w){var b=E.type;return b===jo?d(_,p,E.props.children,w,E.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Fi&&N_(b)===p.type)?(w=i(p,E.props),w.ref=ul(_,p,E),w.return=_,w):(w=_d(E.type,E.key,E.props,null,_.mode,w),w.ref=ul(_,p,E),w.return=_,w)}function u(_,p,E,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==E.containerInfo||p.stateNode.implementation!==E.implementation?(p=zp(E,_.mode,w),p.return=_,p):(p=i(p,E.children||[]),p.return=_,p)}function d(_,p,E,w,b){return p===null||p.tag!==7?(p=Hs(E,_.mode,w,b),p.return=_,p):(p=i(p,E),p.return=_,p)}function f(_,p,E){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Bp(""+p,_.mode,E),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pc:return E=_d(p.type,p.key,p.props,null,_.mode,E),E.ref=ul(_,null,p),E.return=_,E;case Oo:return p=zp(p,_.mode,E),p.return=_,p;case Fi:var w=p._init;return f(_,w(p._payload),E)}if(Il(p)||il(p))return p=Hs(p,_.mode,E,null),p.return=_,p;Uc(_,p)}return null}function h(_,p,E,w){var b=p!==null?p.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return b!==null?null:a(_,p,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pc:return E.key===b?l(_,p,E,w):null;case Oo:return E.key===b?u(_,p,E,w):null;case Fi:return b=E._init,h(_,p,b(E._payload),w)}if(Il(E)||il(E))return b!==null?null:d(_,p,E,w,null);Uc(_,E)}return null}function g(_,p,E,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(E)||null,a(p,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pc:return _=_.get(w.key===null?E:w.key)||null,l(p,_,w,b);case Oo:return _=_.get(w.key===null?E:w.key)||null,u(p,_,w,b);case Fi:var T=w._init;return g(_,p,E,T(w._payload),b)}if(Il(w)||il(w))return _=_.get(E)||null,d(p,_,w,b,null);Uc(p,w)}return null}function v(_,p,E,w){for(var b=null,T=null,R=p,C=p=0,k=null;R!==null&&C<E.length;C++){R.index>C?(k=R,R=null):k=R.sibling;var N=h(_,R,E[C],w);if(N===null){R===null&&(R=k);break}t&&R&&N.alternate===null&&e(_,R),p=s(N,p,C),T===null?b=N:T.sibling=N,T=N,R=k}if(C===E.length)return n(_,R),xt&&Ps(_,C),b;if(R===null){for(;C<E.length;C++)R=f(_,E[C],w),R!==null&&(p=s(R,p,C),T===null?b=R:T.sibling=R,T=R);return xt&&Ps(_,C),b}for(R=r(_,R);C<E.length;C++)k=g(R,_,C,E[C],w),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?C:k.key),p=s(k,p,C),T===null?b=k:T.sibling=k,T=k);return t&&R.forEach(function(z){return e(_,z)}),xt&&Ps(_,C),b}function y(_,p,E,w){var b=il(E);if(typeof b!="function")throw Error(Y(150));if(E=b.call(E),E==null)throw Error(Y(151));for(var T=b=null,R=p,C=p=0,k=null,N=E.next();R!==null&&!N.done;C++,N=E.next()){R.index>C?(k=R,R=null):k=R.sibling;var z=h(_,R,N.value,w);if(z===null){R===null&&(R=k);break}t&&R&&z.alternate===null&&e(_,R),p=s(z,p,C),T===null?b=z:T.sibling=z,T=z,R=k}if(N.done)return n(_,R),xt&&Ps(_,C),b;if(R===null){for(;!N.done;C++,N=E.next())N=f(_,N.value,w),N!==null&&(p=s(N,p,C),T===null?b=N:T.sibling=N,T=N);return xt&&Ps(_,C),b}for(R=r(_,R);!N.done;C++,N=E.next())N=g(R,_,C,N.value,w),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?C:N.key),p=s(N,p,C),T===null?b=N:T.sibling=N,T=N);return t&&R.forEach(function(S){return e(_,S)}),xt&&Ps(_,C),b}function x(_,p,E,w){if(typeof E=="object"&&E!==null&&E.type===jo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pc:e:{for(var b=E.key,T=p;T!==null;){if(T.key===b){if(b=E.type,b===jo){if(T.tag===7){n(_,T.sibling),p=i(T,E.props.children),p.return=_,_=p;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Fi&&N_(b)===T.type){n(_,T.sibling),p=i(T,E.props),p.ref=ul(_,T,E),p.return=_,_=p;break e}n(_,T);break}else e(_,T);T=T.sibling}E.type===jo?(p=Hs(E.props.children,_.mode,w,E.key),p.return=_,_=p):(w=_d(E.type,E.key,E.props,null,_.mode,w),w.ref=ul(_,p,E),w.return=_,_=w)}return o(_);case Oo:e:{for(T=E.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===E.containerInfo&&p.stateNode.implementation===E.implementation){n(_,p.sibling),p=i(p,E.children||[]),p.return=_,_=p;break e}else{n(_,p);break}else e(_,p);p=p.sibling}p=zp(E,_.mode,w),p.return=_,_=p}return o(_);case Fi:return T=E._init,x(_,p,T(E._payload),w)}if(Il(E))return v(_,p,E,w);if(il(E))return y(_,p,E,w);Uc(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,p!==null&&p.tag===6?(n(_,p.sibling),p=i(p,E),p.return=_,_=p):(n(_,p),p=Bp(E,_.mode,w),p.return=_,_=p),o(_)):n(_,p)}return x}var ga=cS(!0),dS=cS(!1),Ku={},Gr=_s(Ku),hu=_s(Ku),pu=_s(Ku);function Ls(t){if(t===Ku)throw Error(Y(174));return t}function Ey(t,e){switch(ut(pu,e),ut(hu,t),ut(Gr,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zm(e,t)}mt(Gr),ut(Gr,e)}function va(){mt(Gr),mt(hu),mt(pu)}function fS(t){Ls(pu.current);var e=Ls(Gr.current),n=Zm(e,t.type);e!==n&&(ut(hu,t),ut(Gr,n))}function by(t){hu.current===t&&(mt(Gr),mt(hu))}var Ct=_s(0);function Kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lp=[];function Sy(){for(var t=0;t<Lp.length;t++)Lp[t]._workInProgressVersionPrimary=null;Lp.length=0}var md=ki.ReactCurrentDispatcher,Mp=ki.ReactCurrentBatchConfig,Ys=0,Rt=null,Gt=null,tn=null,Gd=!1,Bl=!1,mu=0,TN=0;function vn(){throw Error(Y(321))}function Ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Iy(t,e,n,r,i,s){if(Ys=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?kN:PN,t=n(r,i),Bl){s=0;do{if(Bl=!1,mu=0,25<=s)throw Error(Y(301));s+=1,tn=Gt=null,e.updateQueue=null,md.current=AN,t=n(r,i)}while(Bl)}if(md.current=Qd,e=Gt!==null&&Gt.next!==null,Ys=0,tn=Gt=Rt=null,Gd=!1,e)throw Error(Y(300));return t}function Cy(){var t=mu!==0;return mu=0,t}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Rt.memoizedState=tn=t:tn=tn.next=t,tn}function vr(){if(Gt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=tn===null?Rt.memoizedState:tn.next;if(e!==null)tn=e,Gt=t;else{if(t===null)throw Error(Y(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},tn===null?Rt.memoizedState=tn=t:tn=tn.next=t}return tn}function gu(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=vr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ys&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Rt.lanes|=d,Js|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rt.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vp(t){var e=vr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nr(s,e.memoizedState)||(Kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hS(){}function pS(t,e){var n=Rt,r=vr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,Kn=!0),r=r.queue,Ry(vS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,vu(9,gS.bind(null,n,r,i,e),void 0,null),nn===null)throw Error(Y(349));Ys&30||mS(n,e,i)}return i}function mS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gS(t,e,n,r){e.value=n,e.getSnapshot=r,yS(e)&&wS(t)}function vS(t,e,n){return n(function(){yS(e)&&wS(t)})}function yS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function wS(t){var e=bi(t,1);e!==null&&Pr(e,t,1,-1)}function D_(t){var e=Vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:t},e.queue=t,t=t.dispatch=RN.bind(null,Rt,t),[e.memoizedState,t]}function vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _S(){return vr().memoizedState}function gd(t,e,n,r){var i=Vr();Rt.flags|=t,i.memoizedState=vu(1|e,n,void 0,r===void 0?null:r)}function sh(t,e,n,r){var i=vr();r=r===void 0?null:r;var s=void 0;if(Gt!==null){var o=Gt.memoizedState;if(s=o.destroy,r!==null&&Ty(r,o.deps)){i.memoizedState=vu(e,n,s,r);return}}Rt.flags|=t,i.memoizedState=vu(1|e,n,s,r)}function O_(t,e){return gd(8390656,8,t,e)}function Ry(t,e){return sh(2048,8,t,e)}function xS(t,e){return sh(4,2,t,e)}function ES(t,e){return sh(4,4,t,e)}function bS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SS(t,e,n){return n=n!=null?n.concat([t]):null,sh(4,4,bS.bind(null,e,t),n)}function ky(){}function TS(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IS(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CS(t,e,n){return Ys&21?(Nr(n,e)||(n=Pb(),Rt.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function IN(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=Mp.transition;Mp.transition={};try{t(!1),e()}finally{et=n,Mp.transition=r}}function RS(){return vr().memoizedState}function CN(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kS(t))PS(e,n);else if(n=oS(t,e,n,r),n!==null){var i=Ln();Pr(n,t,r,i),AS(n,e,r)}}function RN(t,e,n){var r=as(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kS(t))PS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(i.next=i,_y(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oS(t,e,i,r),n!==null&&(i=Ln(),Pr(n,t,r,i),AS(n,e,r))}}function kS(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function PS(t,e){Bl=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oy(t,n)}}var Qd={readContext:gr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},kN={readContext:gr,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:O_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,bS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=Vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CN.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:D_,useDebugValue:ky,useDeferredValue:function(t){return Vr().memoizedState=t},useTransition:function(){var t=D_(!1),e=t[0];return t=IN.bind(null,t[1]),Vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=Vr();if(xt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),nn===null)throw Error(Y(349));Ys&30||mS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,O_(vS.bind(null,r,s,t),[t]),r.flags|=2048,vu(9,gS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vr(),e=nn.identifierPrefix;if(xt){var n=fi,r=di;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PN={readContext:gr,useCallback:TS,useContext:gr,useEffect:Ry,useImperativeHandle:SS,useInsertionEffect:xS,useLayoutEffect:ES,useMemo:IS,useReducer:Fp,useRef:_S,useState:function(){return Fp(gu)},useDebugValue:ky,useDeferredValue:function(t){var e=vr();return CS(e,Gt.memoizedState,t)},useTransition:function(){var t=Fp(gu)[0],e=vr().memoizedState;return[t,e]},useMutableSource:hS,useSyncExternalStore:pS,useId:RS,unstable_isNewReconciler:!1},AN={readContext:gr,useCallback:TS,useContext:gr,useEffect:Ry,useImperativeHandle:SS,useInsertionEffect:xS,useLayoutEffect:ES,useMemo:IS,useReducer:Vp,useRef:_S,useState:function(){return Vp(gu)},useDebugValue:ky,useDeferredValue:function(t){var e=vr();return Gt===null?e.memoizedState=t:CS(e,Gt.memoizedState,t)},useTransition:function(){var t=Vp(gu)[0],e=vr().memoizedState;return[t,e]},useMutableSource:hS,useSyncExternalStore:pS,useId:RS,unstable_isNewReconciler:!1};function ya(t,e){try{var n="",r=e;do n+=sA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NN=typeof WeakMap=="function"?WeakMap:Map;function NS(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,Ng=r),Eg(t,e)},n}function DS(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Eg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Eg(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function j_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qN.bind(null,t,e,n),e.then(t,t))}function L_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,ss(n,e,1))),n.lanes|=1),t)}var DN=ki.ReactCurrentOwner,Kn=!1;function Dn(t,e,n,r){e.child=t===null?dS(e,null,n,r):ga(e,t.child,n,r)}function F_(t,e,n,r,i){n=n.render;var s=e.ref;return na(e,i),r=Iy(t,e,n,r,s,i),n=Cy(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(xt&&n&&py(e),e.flags|=1,Dn(t,e,r,i),e.child)}function V_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!My(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OS(t,e,s,r,i)):(t=_d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uu,n(o,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=ls(s,r),t.ref=e.ref,t.return=e,e.child=t}function OS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(uu(s,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,Si(t,e,i)}return bg(t,e,n,r,i)}function jS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Wo,Jn),Jn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(Wo,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ut(Wo,Jn),Jn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ut(Wo,Jn),Jn|=r;return Dn(t,e,i,n),e.child}function LS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bg(t,e,n,r,i){var s=Qn(n)?Qs:Cn.current;return s=pa(e,s),na(e,i),n=Iy(t,e,n,r,s,i),r=Cy(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(xt&&r&&py(e),e.flags|=1,Dn(t,e,n,i),e.child)}function $_(t,e,n,r,i){if(Qn(n)){var s=!0;Ud(e)}else s=!1;if(na(e,i),e.stateNode===null)vd(t,e),uS(e,n,r),xg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Qn(n)?Qs:Cn.current,u=pa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&A_(e,o,r,u),Vi=!1;var h=e.memoizedState;o.state=h,qd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Gn.current||Vi?(typeof d=="function"&&(_g(e,n,d,r),l=e.memoizedState),(a=Vi||P_(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Qn(n)?Qs:Cn.current,l=pa(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&A_(e,o,r,l),Vi=!1,h=e.memoizedState,o.state=h,qd(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||Gn.current||Vi?(typeof g=="function"&&(_g(e,n,g,r),v=e.memoizedState),(u=Vi||P_(e,n,u,r,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sg(t,e,n,r,s,i)}function Sg(t,e,n,r,i,s){LS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&T_(e,n,!1),Si(t,e,s);r=e.stateNode,DN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ga(e,t.child,null,s),e.child=ga(e,null,a,s)):Dn(t,e,a,s),e.memoizedState=r.state,i&&T_(e,n,!0),e.child}function MS(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),Ey(t,e.containerInfo)}function U_(t,e,n,r,i){return ma(),gy(i),e.flags|=256,Dn(t,e,n,r),e.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function Ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function FS(t,e,n){var r=e.pendingProps,i=Ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(Ct,i&1),t===null)return yg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lh(o,r,0,null),t=Hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ig(n),e.memoizedState=Tg,t):Py(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ON(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ls(a,s):(s=Hs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Tg,r}return s=t.child,t=s.sibling,r=ls(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bc(t,e,n,r){return r!==null&&gy(r),ga(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ON(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$p(Error(Y(422))),Bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lh({mode:"visible",children:r.children},i,0,null),s=Hs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ga(e,t.child,null,o),e.child.memoizedState=Ig(o),e.memoizedState=Tg,s);if(!(e.mode&1))return Bc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Y(419)),r=$p(s,r,void 0),Bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kn||a){if(r=nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bi(t,i),Pr(r,t,i,-1))}return Ly(),r=$p(Error(Y(421))),Bc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zn=is(i.nextSibling),nr=e,xt=!0,Ir=null,t!==null&&(dr[fr++]=di,dr[fr++]=fi,dr[fr++]=Xs,di=t.id,fi=t.overflow,Xs=e),e=Py(e,r.children),e.flags|=4096,e)}function B_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wg(t.return,e,n)}function Up(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function VS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dn(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,n,e);else if(t.tag===19)B_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Up(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Up(e,!0,n,null,s);break;case"together":Up(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jN(t,e,n){switch(e.tag){case 3:MS(e),ma();break;case 5:fS(e);break;case 1:Qn(e.type)&&Ud(e);break;case 4:Ey(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut(Hd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?FS(t,e,n):(ut(Ct,Ct.current&1),t=Si(t,e,n),t!==null?t.sibling:null);ut(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,jS(t,e,n)}return Si(t,e,n)}var $S,Cg,US,BS;$S=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cg=function(){};US=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ls(Gr.current);var s=null;switch(n){case"input":i=Qm(t,i),r=Qm(t,r),s=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),s=[];break;case"textarea":i=Jm(t,i),r=Jm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}eg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BS=function(t,e,n,r){n!==r&&(e.flags|=4)};function cl(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LN(t,e,n){var r=e.pendingProps;switch(my(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Qn(e.type)&&$d(),yn(e),null;case 3:return r=e.stateNode,va(),mt(Gn),mt(Cn),Sy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(jg(Ir),Ir=null))),Cg(t,e),yn(e),null;case 5:by(e);var i=Ls(pu.current);if(n=e.type,t!==null&&e.stateNode!=null)US(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return yn(e),null}if(t=Ls(Gr.current),$c(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ur]=e,r[fu]=s,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<Rl.length;i++)dt(Rl[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":Yw(r,s),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r);break;case"textarea":Zw(r,s),dt("invalid",r)}eg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,a,t),i=["children",""+a]):nu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":Ac(r),Jw(r,s,!0);break;case"textarea":Ac(r),e_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ur]=e,t[fu]=r,$S(t,e,!1,!1),e.stateNode=t;e:{switch(o=tg(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rl.length;i++)dt(Rl[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":Yw(t,r),i=Qm(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":Zw(t,r),i=Jm(t,r),dt("invalid",t);break;default:i=r}eg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ru(t,l):typeof l=="number"&&ru(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",t):l!=null&&ey(t,s,l,o))}switch(n){case"input":Ac(t),Jw(t,r,!1);break;case"textarea":Ac(t),e_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)BS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ls(pu.current),Ls(Gr.current),$c(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(s=r.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:Vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return yn(e),null;case 13:if(mt(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&Zn!==null&&e.mode&1&&!(e.flags&128))sS(),ma(),e.flags|=98560,s=!1;else if(s=$c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Ur]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),s=!1}else Ir!==null&&(jg(Ir),Ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?Qt===0&&(Qt=3):Ly())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return va(),Cg(t,e),t===null&&cu(e.stateNode.containerInfo),yn(e),null;case 10:return wy(e.type._context),yn(e),null;case 17:return Qn(e.type)&&$d(),yn(e),null;case 19:if(mt(Ct),s=e.memoizedState,s===null)return yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)cl(s,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kd(t),o!==null){for(e.flags|=128,cl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(Ct,Ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vt()>wa&&(e.flags|=128,r=!0,cl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xt)return yn(e),null}else 2*Vt()-s.renderingStartTime>wa&&n!==1073741824&&(e.flags|=128,r=!0,cl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vt(),e.sibling=null,n=Ct.current,ut(Ct,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return jy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function MN(t,e){switch(my(e),e.tag){case 1:return Qn(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return va(),mt(Gn),mt(Cn),Sy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return by(e),null;case 13:if(mt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(Ct),null;case 4:return va(),null;case 10:return wy(e.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var zc=!1,xn=!1,FN=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function Rg(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var z_=!1;function VN(t,e){if(dg=Ld,t=qb(),hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fg={focusedElem:t,selectionRange:n},Ld=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,_=e.stateNode,p=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:br(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(w){Dt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return v=z_,z_=!1,v}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rg(e,n,s)}i=i.next}while(i!==r)}}function oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zS(t){var e=t.alternate;e!==null&&(t.alternate=null,zS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[fu],delete e[mg],delete e[xN],delete e[EN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HS(t){return t.tag===5||t.tag===3||t.tag===4}function H_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(Pg(t,e,n),t=t.sibling;t!==null;)Pg(t,e,n),t=t.sibling}function Ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ag(t,e,n),t=t.sibling;t!==null;)Ag(t,e,n),t=t.sibling}var un=null,Sr=!1;function Oi(t,e,n){for(n=n.child;n!==null;)WS(t,e,n),n=n.sibling}function WS(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:xn||Ho(n,e);case 6:var r=un,i=Sr;un=null,Oi(t,e,n),un=r,Sr=i,un!==null&&(Sr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(Sr?(t=un,n=n.stateNode,t.nodeType===8?Op(t.parentNode,n):t.nodeType===1&&Op(t,n),au(t)):Op(un,n.stateNode));break;case 4:r=un,i=Sr,un=n.stateNode.containerInfo,Sr=!0,Oi(t,e,n),un=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rg(n,e,o),i=i.next}while(i!==r)}Oi(t,e,n);break;case 1:if(!xn&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Dt(n,e,a)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,Oi(t,e,n),xn=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function W_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FN),e.forEach(function(r){var i=GN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:un=a.stateNode,Sr=!1;break e;case 3:un=a.stateNode.containerInfo,Sr=!0;break e;case 4:un=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(un===null)throw Error(Y(160));WS(s,o,i),un=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qS(e,t),e=e.sibling}function qS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Mr(t),r&4){try{zl(3,t,t.return),oh(3,t)}catch(y){Dt(t,t.return,y)}try{zl(5,t,t.return)}catch(y){Dt(t,t.return,y)}}break;case 1:xr(e,t),Mr(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(xr(e,t),Mr(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{ru(i,"")}catch(y){Dt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hb(i,s),tg(a,o);var u=tg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?yb(i,f):d==="dangerouslySetInnerHTML"?gb(i,f):d==="children"?ru(i,f):ey(i,d,f,u)}switch(a){case"input":Xm(i,s);break;case"textarea":pb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Jo(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[fu]=s}catch(y){Dt(t,t.return,y)}}break;case 6:if(xr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Dt(t,t.return,y)}}break;case 3:if(xr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{au(e.containerInfo)}catch(y){Dt(t,t.return,y)}break;case 4:xr(e,t),Mr(t);break;case 13:xr(e,t),Mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dy=Vt())),r&4&&W_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(u=xn)||d,xr(e,t),xn=u):xr(e,t),Mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(de=t,d=t.child;d!==null;){for(f=de=d;de!==null;){switch(h=de,g=h.child,h.tag){case 0:case 11:case 14:case 15:zl(4,h,h.return);break;case 1:Ho(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Dt(r,n,y)}}break;case 5:Ho(h,h.return);break;case 22:if(h.memoizedState!==null){K_(f);continue}}g!==null?(g.return=h,de=g):K_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vb("display",o))}catch(y){Dt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Dt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xr(e,t),Mr(t),r&4&&W_(t);break;case 21:break;default:xr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HS(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ru(i,""),r.flags&=-33);var s=H_(t);Ag(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=H_(t);Pg(t,a,o);break;default:throw Error(Y(161))}}catch(l){Dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $N(t,e,n){de=t,KS(t)}function KS(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xn;a=zc;var u=xn;if(zc=o,(xn=l)&&!u)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?G_(i):l!==null?(l.return=o,de=l):G_(i);for(;s!==null;)de=s,KS(s),s=s.sibling;de=i,zc=a,xn=u}q_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):q_(t)}}function q_(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&au(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}xn||e.flags&512&&kg(e)}catch(h){Dt(e,e.return,h)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function K_(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function G_(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oh(4,e)}catch(l){Dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Dt(e,i,l)}}var s=e.return;try{kg(e)}catch(l){Dt(e,s,l)}break;case 5:var o=e.return;try{kg(e)}catch(l){Dt(e,o,l)}}}catch(l){Dt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var UN=Math.ceil,Xd=ki.ReactCurrentDispatcher,Ay=ki.ReactCurrentOwner,mr=ki.ReactCurrentBatchConfig,We=0,nn=null,Ht=null,hn=0,Jn=0,Wo=_s(0),Qt=0,yu=null,Js=0,ah=0,Ny=0,Hl=null,Wn=null,Dy=0,wa=1/0,li=null,Yd=!1,Ng=null,os=null,Hc=!1,Xi=null,Jd=0,Wl=0,Dg=null,yd=-1,wd=0;function Ln(){return We&6?Vt():yd!==-1?yd:yd=Vt()}function as(t){return t.mode&1?We&2&&hn!==0?hn&-hn:SN.transition!==null?(wd===0&&(wd=Pb()),wd):(t=et,t!==0||(t=window.event,t=t===void 0?16:Mb(t.type)),t):1}function Pr(t,e,n,r){if(50<Wl)throw Wl=0,Dg=null,Error(Y(185));Hu(t,n,r),(!(We&2)||t!==nn)&&(t===nn&&(!(We&2)&&(ah|=n),Qt===4&&Bi(t,hn)),Xn(t,r),n===1&&We===0&&!(e.mode&1)&&(wa=Vt()+500,rh&&xs()))}function Xn(t,e){var n=t.callbackNode;SA(t,e);var r=jd(t,t===nn?hn:0);if(r===0)n!==null&&r_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r_(n),e===1)t.tag===0?bN(Q_.bind(null,t)):nS(Q_.bind(null,t)),wN(function(){!(We&6)&&xs()}),n=null;else{switch(Ab(r)){case 1:n=sy;break;case 4:n=Rb;break;case 16:n=Od;break;case 536870912:n=kb;break;default:n=Od}n=tT(n,GS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GS(t,e){if(yd=-1,wd=0,We&6)throw Error(Y(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=jd(t,t===nn?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zd(t,r);else{e=r;var i=We;We|=2;var s=XS();(nn!==t||hn!==e)&&(li=null,wa=Vt()+500,zs(t,e));do try{HN();break}catch(a){QS(t,a)}while(1);yy(),Xd.current=s,We=i,Ht!==null?e=0:(nn=null,hn=0,e=Qt)}if(e!==0){if(e===2&&(i=og(t),i!==0&&(r=i,e=Og(t,i))),e===1)throw n=yu,zs(t,0),Bi(t,r),Xn(t,Vt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!BN(i)&&(e=Zd(t,r),e===2&&(s=og(t),s!==0&&(r=s,e=Og(t,s))),e===1))throw n=yu,zs(t,0),Bi(t,r),Xn(t,Vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:As(t,Wn,li);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=Dy+500-Vt(),10<e)){if(jd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pg(As.bind(null,t,Wn,li),e);break}As(t,Wn,li);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UN(r/1960))-r,10<r){t.timeoutHandle=pg(As.bind(null,t,Wn,li),r);break}As(t,Wn,li);break;case 5:As(t,Wn,li);break;default:throw Error(Y(329))}}}return Xn(t,Vt()),t.callbackNode===n?GS.bind(null,t):null}function Og(t,e){var n=Hl;return t.current.memoizedState.isDehydrated&&(zs(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&jg(e)),t}function jg(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function BN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Ny,e&=~ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kr(e),r=1<<n;t[n]=-1,e&=~r}}function Q_(t){if(We&6)throw Error(Y(327));ra();var e=jd(t,0);if(!(e&1))return Xn(t,Vt()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var r=og(t);r!==0&&(e=r,n=Og(t,r))}if(n===1)throw n=yu,zs(t,0),Bi(t,e),Xn(t,Vt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,Wn,li),Xn(t,Vt()),null}function Oy(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(wa=Vt()+500,rh&&xs())}}function Zs(t){Xi!==null&&Xi.tag===0&&!(We&6)&&ra();var e=We;We|=1;var n=mr.transition,r=et;try{if(mr.transition=null,et=1,t)return t()}finally{et=r,mr.transition=n,We=e,!(We&6)&&xs()}}function jy(){Jn=Wo.current,mt(Wo)}function zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yN(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(my(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$d();break;case 3:va(),mt(Gn),mt(Cn),Sy();break;case 5:by(r);break;case 4:va();break;case 13:mt(Ct);break;case 19:mt(Ct);break;case 10:wy(r.type._context);break;case 22:case 23:jy()}n=n.return}if(nn=t,Ht=t=ls(t.current,null),hn=Jn=e,Qt=0,yu=null,Ny=ah=Js=0,Wn=Hl=null,js!==null){for(e=0;e<js.length;e++)if(n=js[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}js=null}return t}function QS(t,e){do{var n=Ht;try{if(yy(),md.current=Qd,Gd){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gd=!1}if(Ys=0,tn=Gt=Rt=null,Bl=!1,mu=0,Ay.current=null,n===null||n.return===null){Qt=1,yu=e,Ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=L_(o);if(g!==null){g.flags&=-257,M_(g,o,a,s,e),g.mode&1&&j_(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){j_(s,u,e),Ly();break e}l=Error(Y(426))}}else if(xt&&a.mode&1){var x=L_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),M_(x,o,a,s,e),gy(ya(l,a));break e}}s=l=ya(l,a),Qt!==4&&(Qt=2),Hl===null?Hl=[s]:Hl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=NS(s,l,e);R_(s,_);break e;case 1:a=l;var p=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(os===null||!os.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=DS(s,a,e);R_(s,w);break e}}s=s.return}while(s!==null)}JS(n)}catch(b){e=b,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(1)}function XS(){var t=Xd.current;return Xd.current=Qd,t===null?Qd:t}function Ly(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),nn===null||!(Js&268435455)&&!(ah&268435455)||Bi(nn,hn)}function Zd(t,e){var n=We;We|=2;var r=XS();(nn!==t||hn!==e)&&(li=null,zs(t,e));do try{zN();break}catch(i){QS(t,i)}while(1);if(yy(),We=n,Xd.current=r,Ht!==null)throw Error(Y(261));return nn=null,hn=0,Qt}function zN(){for(;Ht!==null;)YS(Ht)}function HN(){for(;Ht!==null&&!mA();)YS(Ht)}function YS(t){var e=eT(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?JS(t):Ht=e,Ay.current=null}function JS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MN(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Ht=null;return}}else if(n=LN(n,e,Jn),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Qt===0&&(Qt=5)}function As(t,e,n){var r=et,i=mr.transition;try{mr.transition=null,et=1,WN(t,e,n,r)}finally{mr.transition=i,et=r}return null}function WN(t,e,n,r){do ra();while(Xi!==null);if(We&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TA(t,s),t===nn&&(Ht=nn=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hc||(Hc=!0,tT(Od,function(){return ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mr.transition,mr.transition=null;var o=et;et=1;var a=We;We|=4,Ay.current=null,VN(t,n),qS(n,t),dN(fg),Ld=!!dg,fg=dg=null,t.current=n,$N(n),gA(),We=a,et=o,mr.transition=s}else t.current=n;if(Hc&&(Hc=!1,Xi=t,Jd=i),s=t.pendingLanes,s===0&&(os=null),wA(n.stateNode),Xn(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yd)throw Yd=!1,t=Ng,Ng=null,t;return Jd&1&&t.tag!==0&&ra(),s=t.pendingLanes,s&1?t===Dg?Wl++:(Wl=0,Dg=t):Wl=0,xs(),null}function ra(){if(Xi!==null){var t=Ab(Jd),e=mr.transition,n=et;try{if(mr.transition=null,et=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,Jd=0,We&6)throw Error(Y(331));var i=We;for(We|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:zl(8,d,s)}var f=d.child;if(f!==null)f.return=d,de=f;else for(;de!==null;){d=de;var h=d.sibling,g=d.return;if(zS(d),d===u){de=null;break}if(h!==null){h.return=g,de=h;break}de=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,de=_;break e}de=s.return}}var p=t.current;for(de=p;de!==null;){o=de;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,de=E;else e:for(o=p;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oh(9,a)}}catch(b){Dt(a,a.return,b)}if(a===o){de=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,de=w;break e}de=a.return}}if(We=i,xs(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{et=n,mr.transition=e}}return!1}function X_(t,e,n){e=ya(n,e),e=NS(t,e,1),t=ss(t,e,1),e=Ln(),t!==null&&(Hu(t,1,e),Xn(t,e))}function Dt(t,e,n){if(t.tag===3)X_(t,t,n);else for(;e!==null;){if(e.tag===3){X_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=ya(n,t),t=DS(e,t,1),e=ss(e,t,1),t=Ln(),e!==null&&(Hu(e,1,t),Xn(e,t));break}}e=e.return}}function qN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(hn&n)===n&&(Qt===4||Qt===3&&(hn&130023424)===hn&&500>Vt()-Dy?zs(t,0):Ny|=n),Xn(t,e)}function ZS(t,e){e===0&&(t.mode&1?(e=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):e=1);var n=Ln();t=bi(t,e),t!==null&&(Hu(t,e,n),Xn(t,n))}function KN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZS(t,n)}function GN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),ZS(t,n)}var eT;eT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,jN(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,xt&&e.flags&1048576&&rS(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vd(t,e),t=e.pendingProps;var i=pa(e,Cn.current);na(e,n),i=Iy(null,e,r,t,i,n);var s=Cy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,Ud(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xy(e),i.updater=ih,e.stateNode=i,i._reactInternals=e,xg(e,r,t,n),e=Sg(null,e,r,!0,s,n)):(e.tag=0,xt&&s&&py(e),Dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XN(r),t=br(r,t),i){case 0:e=bg(null,e,r,t,n);break e;case 1:e=$_(null,e,r,t,n);break e;case 11:e=F_(null,e,r,t,n);break e;case 14:e=V_(null,e,r,br(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),bg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),$_(t,e,r,i,n);case 3:e:{if(MS(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aS(t,e),qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ya(Error(Y(423)),e),e=U_(t,e,r,n,i);break e}else if(r!==i){i=ya(Error(Y(424)),e),e=U_(t,e,r,n,i);break e}else for(Zn=is(e.stateNode.containerInfo.firstChild),nr=e,xt=!0,Ir=null,n=dS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),r===i){e=Si(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return fS(e),t===null&&yg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hg(r,i)?o=null:s!==null&&hg(r,s)&&(e.flags|=32),LS(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&yg(e),null;case 13:return FS(t,e,n);case 4:return Ey(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ga(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),F_(t,e,r,i,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ut(Hd,r._currentValue),r._currentValue=o,s!==null)if(Nr(s.value,o)){if(s.children===i.children&&!Gn.current){e=Si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,na(e,n),i=gr(i),r=r(i),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),V_(t,e,r,i,n);case 15:return OS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),vd(t,e),e.tag=1,Qn(r)?(t=!0,Ud(e)):t=!1,na(e,n),uS(e,r,i),xg(e,r,i,n),Sg(null,e,r,!0,t,n);case 19:return VS(t,e,n);case 22:return jS(t,e,n)}throw Error(Y(156,e.tag))};function tT(t,e){return Cb(t,e)}function QN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new QN(t,e,n,r)}function My(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XN(t){if(typeof t=="function")return My(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ny)return 11;if(t===ry)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")My(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jo:return Hs(n.children,i,s,e);case ty:o=8,i|=8;break;case Wm:return t=pr(12,n,e,i|2),t.elementType=Wm,t.lanes=s,t;case qm:return t=pr(13,n,e,i),t.elementType=qm,t.lanes=s,t;case Km:return t=pr(19,n,e,i),t.elementType=Km,t.lanes=s,t;case cb:return lh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lb:o=10;break e;case ub:o=9;break e;case ny:o=11;break e;case ry:o=14;break e;case Fi:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=pr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hs(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function lh(t,e,n,r){return t=pr(22,t,r,e),t.elementType=cb,t.lanes=n,t.stateNode={isHidden:!1},t}function Bp(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function zp(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fy(t,e,n,r,i,s,o,a,l){return t=new YN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xy(s),t}function JN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nT(t){if(!t)return ps;t=t._reactInternals;e:{if(co(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Qn(n))return tS(t,n,e)}return e}function rT(t,e,n,r,i,s,o,a,l){return t=Fy(n,r,!0,t,i,s,o,a,l),t.context=nT(null),n=t.current,r=Ln(),i=as(n),s=gi(r,i),s.callback=e??null,ss(n,s,i),t.current.lanes=i,Hu(t,i,r),Xn(t,r),t}function uh(t,e,n,r){var i=e.current,s=Ln(),o=as(i);return n=nT(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ss(i,e,o),t!==null&&(Pr(t,i,o,s),pd(t,i,o)),o}function ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vy(t,e){Y_(t,e),(t=t.alternate)&&Y_(t,e)}function ZN(){return null}var iT=typeof reportError=="function"?reportError:function(t){console.error(t)};function $y(t){this._internalRoot=t}ch.prototype.render=$y.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));uh(t,e,null,null)};ch.prototype.unmount=$y.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){uh(null,t,null,null)}),e[Ei]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ob();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&Lb(t)}};function Uy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J_(){}function e2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ef(o);s.call(u)}}var o=rT(e,r,t,0,null,!1,!1,"",J_);return t._reactRootContainer=o,t[Ei]=o.current,cu(t.nodeType===8?t.parentNode:t),Zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ef(l);a.call(u)}}var l=Fy(t,0,!1,null,null,!1,!1,"",J_);return t._reactRootContainer=l,t[Ei]=l.current,cu(t.nodeType===8?t.parentNode:t),Zs(function(){uh(e,l,n,r)}),l}function fh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ef(o);a.call(l)}}uh(e,o,t,i)}else o=e2(n,e,t,i,r);return ef(o)}Nb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&(oy(e,n|1),Xn(e,Vt()),!(We&6)&&(wa=Vt()+500,xs()))}break;case 13:Zs(function(){var r=bi(t,1);if(r!==null){var i=Ln();Pr(r,t,1,i)}}),Vy(t,1)}};ay=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=Ln();Pr(e,t,134217728,n)}Vy(t,134217728)}};Db=function(t){if(t.tag===13){var e=as(t),n=bi(t,e);if(n!==null){var r=Ln();Pr(n,t,e,r)}Vy(t,e)}};Ob=function(){return et};jb=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};rg=function(t,e,n){switch(e){case"input":if(Xm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nh(r);if(!i)throw Error(Y(90));fb(r),Xm(r,i)}}}break;case"textarea":pb(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};xb=Oy;Eb=Zs;var t2={usingClientEntryPoint:!1,Events:[qu,Vo,nh,wb,_b,Oy]},dl={findFiberByHostInstance:Os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},n2={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tb(t),t===null?null:t.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||ZN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Jf=Wc.inject(n2),Kr=Wc}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(e))throw Error(Y(200));return JN(t,e,null,n)};or.createRoot=function(t,e){if(!Uy(t))throw Error(Y(299));var n=!1,r="",i=iT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fy(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,cu(t.nodeType===8?t.parentNode:t),new $y(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Tb(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return Zs(t)};or.hydrate=function(t,e,n){if(!dh(e))throw Error(Y(200));return fh(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!Uy(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=iT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rT(e,null,t,1,n??null,i,!1,s,o),t[Ei]=e.current,cu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ch(e)};or.render=function(t,e,n){if(!dh(e))throw Error(Y(200));return fh(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!dh(t))throw Error(Y(40));return t._reactRootContainer?(Zs(function(){fh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};or.unstable_batchedUpdates=Oy;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dh(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return fh(t,e,n,!1,r)};or.version="18.2.0-next-9e3b772b8-20220608";function sT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sT)}catch(t){console.error(t)}}sT(),rb.exports=or;var oT=rb.exports,Z_=oT;zm.createRoot=Z_.createRoot,zm.hydrateRoot=Z_.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wt.apply(this,arguments)}var Ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ut||(Ut={}));const ex="popstate";function r2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:eo(i)}return s2(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _a(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i2(){return Math.random().toString(36).substr(2,8)}function tx(t,e){return{usr:t.state,key:t.key,idx:e}}function wu(t,e,n,r){return n===void 0&&(n=null),wt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pi(e):e,{state:n,key:e&&e.key||r||i2()})}function eo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function s2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ut.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(wt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ut.Pop;let x=d(),_=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:_})}function h(x,_){a=Ut.Push;let p=wu(y.location,x,_);n&&n(p,x),u=d()+1;let E=tx(p,u),w=y.createHref(p);try{o.pushState(E,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function g(x,_){a=Ut.Replace;let p=wu(y.location,x,_);n&&n(p,x),u=d();let E=tx(p,u),w=y.createHref(p);o.replaceState(E,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof x=="string"?x:eo(x);return je(_,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,_)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ex,f),l=x,()=>{i.removeEventListener(ex,f),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:g,go(x){return o.go(x)}};return y}var Mt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Mt||(Mt={}));const o2=new Set(["lazy","caseSensitive","path","id","index","children"]);function a2(t){return t.index===!0}function Lg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(je(i.index!==!0||!i.children,"Cannot specify children on an index route"),je(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),a2(i)){let l=wt({},i,e(i),{id:a});return r[a]=l,l}else{let l=wt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Lg(i.children,e,o,r)),l}})}function qo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Pi(e):e,i=Ma(r.pathname||"/",n);if(i==null)return null;let s=aT(t);l2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=v2(s[a],_2(i));return o}function aT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=vi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aT(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:m2(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lT(s.path))i(s,o,l)}),e}function lT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function l2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const u2=/^:\w+$/,c2=3,d2=2,f2=1,h2=10,p2=-2,nx=t=>t==="*";function m2(t,e){let n=t.split("/"),r=n.length;return n.some(nx)&&(r+=p2),e&&(r+=d2),n.filter(i=>!nx(i)).reduce((i,s)=>i+(u2.test(s)?c2:s===""?f2:h2),r)}function g2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function v2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=y2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:vi([i,d.pathname]),pathnameBase:S2(vi([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=vi([i,d.pathnameBase]))}return s}function y2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=w2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{if(d==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[d]=x2(a[f]||"",d),u},{}),pathname:s,pathnameBase:o,pattern:t}}function w2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_a(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _2(t){try{return decodeURI(t)}catch(e){return _a(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function x2(t,e){try{return decodeURIComponent(t)}catch(n){return _a(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ma(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Pi(t):t;return{pathname:n?n.startsWith("/")?n:b2(n,e):e,search:T2(r),hash:I2(i)}}function b2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function By(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Pi(t):(i=wt({},t),je(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=E2(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const vi=t=>t.join("/").replace(/\/\/+/g,"/"),S2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class zy{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function uT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cT=["post","put","patch","delete"],C2=new Set(cT),R2=["get",...cT],k2=new Set(R2),P2=new Set([301,302,303,307,308]),A2=new Set([307,308]),Wp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},N2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D2=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function O2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=V=>({hasErrorBoundary:M(V)})}else i=D2;let s={},o=Lg(t.routes,i,void 0,s),a,l=t.basename||"/",u=wt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),d=null,f=new Set,h=null,g=null,v=null,y=t.hydrationData!=null,x=qo(o,t.history.location,l),_=null;if(x==null){let M=ur(404,{pathname:t.history.location.pathname}),{matches:V,route:K}=cx(o);x=V,_={[K.id]:M}}let p=!x.some(M=>M.route.lazy)&&(!x.some(M=>M.route.loader)||t.hydrationData!=null),E,w={historyAction:t.history.action,location:t.history.location,matches:x,initialized:p,navigation:Wp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},b=Ut.Pop,T=!1,R,C=!1,k=!1,N=[],z=[],S=new Map,I=0,O=-1,L=new Map,$=new Set,H=new Map,A=new Map,D=new Map,j=!1;function Z(){return d=t.history.listen(M=>{let{action:V,location:K,delta:ue}=M;if(j){j=!1;return}_a(D.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=fe({currentLocation:w.location,nextLocation:K,historyAction:V});if(Se&&ue!=null){j=!0,t.history.go(ue*-1),ve(Se,{state:"blocked",location:K,proceed(){ve(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(ue)},reset(){let Te=new Map(w.blockers);Te.set(Se,fl),q({blockers:Te})}});return}return ze(V,K)}),w.initialized||ze(Ut.Pop,w.location),E}function re(){d&&d(),f.clear(),R&&R.abort(),w.fetchers.forEach((M,V)=>le(V)),w.blockers.forEach((M,V)=>W(V))}function ne(M){return f.add(M),()=>f.delete(M)}function q(M){w=wt({},w,M),f.forEach(V=>V(w))}function ye(M,V){var K,ue;let Se=w.actionData!=null&&w.navigation.formMethod!=null&&Tr(w.navigation.formMethod)&&w.navigation.state==="loading"&&((K=M.state)==null?void 0:K._isRedirect)!==!0,Te;V.actionData?Object.keys(V.actionData).length>0?Te=V.actionData:Te=null:Se?Te=w.actionData:Te=null;let Pe=V.loaderData?ux(w.loaderData,V.loaderData,V.matches||[],V.errors):w.loaderData,_e=w.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((st,an)=>_e.set(an,fl)));let me=T===!0||w.navigation.formMethod!=null&&Tr(w.navigation.formMethod)&&((ue=M.state)==null?void 0:ue._isRedirect)!==!0;a&&(o=a,a=void 0),C||b===Ut.Pop||(b===Ut.Push?t.history.push(M,M.state):b===Ut.Replace&&t.history.replace(M,M.state)),q(wt({},V,{actionData:Te,loaderData:Pe,historyAction:b,location:M,initialized:!0,navigation:Wp,revalidation:"idle",restoreScrollPosition:ri(M,V.matches||w.matches),preventScrollReset:me,blockers:_e})),b=Ut.Pop,T=!1,C=!1,k=!1,N=[],z=[]}async function G(M,V){if(typeof M=="number"){t.history.go(M);return}let K=Mg(w.location,w.matches,l,u.v7_prependBasename,M,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:ue,submission:Se,error:Te}=rx(u.v7_normalizeFormMethod,!1,K,V),Pe=w.location,_e=wu(w.location,ue,V&&V.state);_e=wt({},_e,t.history.encodeLocation(_e));let me=V&&V.replace!=null?V.replace:void 0,st=Ut.Push;me===!0?st=Ut.Replace:me===!1||Se!=null&&Tr(Se.formMethod)&&Se.formAction===w.location.pathname+w.location.search&&(st=Ut.Replace);let an=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,nt=fe({currentLocation:Pe,nextLocation:_e,historyAction:st});if(nt){ve(nt,{state:"blocked",location:_e,proceed(){ve(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),G(M,V)},reset(){let Lt=new Map(w.blockers);Lt.set(nt,fl),q({blockers:Lt})}});return}return await ze(st,_e,{submission:Se,pendingError:Te,preventScrollReset:an,replace:V&&V.replace})}function we(){if(F(),q({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){ze(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}ze(b||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function ze(M,V,K){R&&R.abort(),R=null,b=M,C=(K&&K.startUninterruptedRevalidation)===!0,Is(w.location,w.matches),T=(K&&K.preventScrollReset)===!0;let ue=a||o,Se=K&&K.overrideNavigation,Te=qo(ue,V,l);if(!Te){let Lt=ur(404,{pathname:V.pathname}),{matches:Jt,route:Cs}=cx(ue);Ee(),ye(V,{matches:Jt,loaderData:{},errors:{[Cs.id]:Lt}});return}if(w.initialized&&!k&&V2(w.location,V)&&!(K&&K.submission&&Tr(K.submission.formMethod))){ye(V,{matches:Te});return}R=new AbortController;let Pe=pl(t.history,V,R.signal,K&&K.submission),_e,me;if(K&&K.pendingError)me={[Ko(Te).route.id]:K.pendingError};else if(K&&K.submission&&Tr(K.submission.formMethod)){let Lt=await $e(Pe,V,K.submission,Te,{replace:K.replace});if(Lt.shortCircuited)return;_e=Lt.pendingActionData,me=Lt.pendingActionError,Se=qc(V,K.submission),Pe=new Request(Pe.url,{signal:Pe.signal})}let{shortCircuited:st,loaderData:an,errors:nt}=await ct(Pe,V,Te,Se,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,_e,me);st||(R=null,ye(V,wt({matches:Te},_e?{actionData:_e}:{},{loaderData:an,errors:nt})))}async function $e(M,V,K,ue,Se){Se===void 0&&(Se={}),F();let Te=H2(V,K);q({navigation:Te});let Pe,_e=Vg(ue,V);if(!_e.route.action&&!_e.route.lazy)Pe={type:Mt.error,error:ur(405,{method:M.method,pathname:V.pathname,routeId:_e.route.id})};else if(Pe=await hl("action",M,_e,ue,s,i,l),M.signal.aborted)return{shortCircuited:!0};if(ia(Pe)){let me;return Se&&Se.replace!=null?me=Se.replace:me=Pe.location===w.location.pathname+w.location.search,await gn(w,Pe,{submission:K,replace:me}),{shortCircuited:!0}}if(ql(Pe)){let me=Ko(ue,_e.route.id);return(Se&&Se.replace)!==!0&&(b=Ut.Push),{pendingActionData:{},pendingActionError:{[me.route.id]:Pe.error}}}if(Ms(Pe))throw ur(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Pe.data}}}async function ct(M,V,K,ue,Se,Te,Pe,_e,me){let st=ue||qc(V,Se),an=Se||Te||hx(st),nt=a||o,[Lt,Jt]=ix(t.history,w,K,an,V,k,N,z,H,$,nt,l,_e,me);if(Ee(rt=>!(K&&K.some(_r=>_r.route.id===rt))||Lt&&Lt.some(_r=>_r.route.id===rt)),O=++I,Lt.length===0&&Jt.length===0){let rt=pe();return ye(V,wt({matches:K,loaderData:{},errors:me||null},_e?{actionData:_e}:{},rt?{fetchers:new Map(w.fetchers)}:{})),{shortCircuited:!0}}if(!C){Jt.forEach(_r=>{let Di=w.fetchers.get(_r.key),vp=ml(void 0,Di?Di.data:void 0);w.fetchers.set(_r.key,vp)});let rt=_e||w.actionData;q(wt({navigation:st},rt?Object.keys(rt).length===0?{actionData:null}:{actionData:rt}:{},Jt.length>0?{fetchers:new Map(w.fetchers)}:{}))}Jt.forEach(rt=>{S.has(rt.key)&&ee(rt.key),rt.controller&&S.set(rt.key,rt.controller)});let Cs=()=>Jt.forEach(rt=>ee(rt.key));R&&R.signal.addEventListener("abort",Cs);let{results:Rs,loaderResults:nl,fetcherResults:hp}=await P(w.matches,K,Lt,Jt,M);if(M.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Cs),Jt.forEach(rt=>S.delete(rt.key));let ii=dx(Rs);if(ii){if(ii.idx>=Lt.length){let rt=Jt[ii.idx-Lt.length].key;$.add(rt)}return await gn(w,ii.result,{replace:Pe}),{shortCircuited:!0}}let{loaderData:si,errors:Cc}=lx(w,K,Lt,nl,me,Jt,hp,A);A.forEach((rt,_r)=>{rt.subscribe(Di=>{(Di||rt.done)&&A.delete(_r)})});let pp=pe(),mp=Ye(O),gp=pp||mp||Jt.length>0;return wt({loaderData:si,errors:Cc},gp?{fetchers:new Map(w.fetchers)}:{})}function Ke(M){return w.fetchers.get(M)||N2}function Et(M,V,K,ue){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");S.has(M)&&ee(M);let Se=a||o,Te=Mg(w.location,w.matches,l,u.v7_prependBasename,K,V,ue==null?void 0:ue.relative),Pe=qo(Se,Te,l);if(!Pe){U(M,V,ur(404,{pathname:Te}));return}let{path:_e,submission:me,error:st}=rx(u.v7_normalizeFormMethod,!0,Te,ue);if(st){U(M,V,st);return}let an=Vg(Pe,_e);if(T=(ue&&ue.preventScrollReset)===!0,me&&Tr(me.formMethod)){Nt(M,V,_e,an,Pe,me);return}H.set(M,{routeId:V,path:_e}),Lr(M,V,_e,an,Pe,me)}async function Nt(M,V,K,ue,Se,Te){if(F(),H.delete(M),!ue.route.action&&!ue.route.lazy){let qt=ur(405,{method:Te.formMethod,pathname:K,routeId:V});U(M,V,qt);return}let Pe=w.fetchers.get(M),_e=W2(Te,Pe);w.fetchers.set(M,_e),q({fetchers:new Map(w.fetchers)});let me=new AbortController,st=pl(t.history,K,me.signal,Te);S.set(M,me);let an=I,nt=await hl("action",st,ue,Se,s,i,l);if(st.signal.aborted){S.get(M)===me&&S.delete(M);return}if(ia(nt))if(S.delete(M),O>an){let qt=ko(void 0);w.fetchers.set(M,qt),q({fetchers:new Map(w.fetchers)});return}else{$.add(M);let qt=ml(Te);return w.fetchers.set(M,qt),q({fetchers:new Map(w.fetchers)}),gn(w,nt,{submission:Te,isFetchActionRedirect:!0})}if(ql(nt)){U(M,V,nt.error);return}if(Ms(nt))throw ur(400,{type:"defer-action"});let Lt=w.navigation.location||w.location,Jt=pl(t.history,Lt,me.signal),Cs=a||o,Rs=w.navigation.state!=="idle"?qo(Cs,w.navigation.location,l):w.matches;je(Rs,"Didn't find any matches after fetcher action");let nl=++I;L.set(M,nl);let hp=ml(Te,nt.data);w.fetchers.set(M,hp);let[ii,si]=ix(t.history,w,Rs,Te,Lt,k,N,z,H,$,Cs,l,{[ue.route.id]:nt.data},void 0);si.filter(qt=>qt.key!==M).forEach(qt=>{let rl=qt.key,Hw=w.fetchers.get(rl),PP=ml(void 0,Hw?Hw.data:void 0);w.fetchers.set(rl,PP),S.has(rl)&&ee(rl),qt.controller&&S.set(rl,qt.controller)}),q({fetchers:new Map(w.fetchers)});let Cc=()=>si.forEach(qt=>ee(qt.key));me.signal.addEventListener("abort",Cc);let{results:pp,loaderResults:mp,fetcherResults:gp}=await P(w.matches,Rs,ii,si,Jt);if(me.signal.aborted)return;me.signal.removeEventListener("abort",Cc),L.delete(M),S.delete(M),si.forEach(qt=>S.delete(qt.key));let rt=dx(pp);if(rt){if(rt.idx>=ii.length){let qt=si[rt.idx-ii.length].key;$.add(qt)}return gn(w,rt.result)}let{loaderData:_r,errors:Di}=lx(w,w.matches,ii,mp,void 0,si,gp,A);if(w.fetchers.has(M)){let qt=ko(nt.data);w.fetchers.set(M,qt)}let vp=Ye(nl);w.navigation.state==="loading"&&nl>O?(je(b,"Expected pending action"),R&&R.abort(),ye(w.navigation.location,{matches:Rs,loaderData:_r,errors:Di,fetchers:new Map(w.fetchers)})):(q(wt({errors:Di,loaderData:ux(w.loaderData,_r,Rs,Di)},vp||si.length>0?{fetchers:new Map(w.fetchers)}:{})),k=!1)}async function Lr(M,V,K,ue,Se,Te){let Pe=w.fetchers.get(M),_e=ml(Te,Pe?Pe.data:void 0);w.fetchers.set(M,_e),q({fetchers:new Map(w.fetchers)});let me=new AbortController,st=pl(t.history,K,me.signal);S.set(M,me);let an=I,nt=await hl("loader",st,ue,Se,s,i,l);if(Ms(nt)&&(nt=await pT(nt,st.signal,!0)||nt),S.get(M)===me&&S.delete(M),st.signal.aborted)return;if(ia(nt))if(O>an){let Jt=ko(void 0);w.fetchers.set(M,Jt),q({fetchers:new Map(w.fetchers)});return}else{$.add(M),await gn(w,nt);return}if(ql(nt)){let Jt=Ko(w.matches,V);w.fetchers.delete(M),q({fetchers:new Map(w.fetchers),errors:{[Jt.route.id]:nt.error}});return}je(!Ms(nt),"Unhandled fetcher deferred data");let Lt=ko(nt.data);w.fetchers.set(M,Lt),q({fetchers:new Map(w.fetchers)})}async function gn(M,V,K){let{submission:ue,replace:Se,isFetchActionRedirect:Te}=K===void 0?{}:K;V.revalidate&&(k=!0);let Pe=wu(M.location,V.location,wt({_isRedirect:!0},Te?{_isFetchActionRedirect:!0}:{}));if(je(Pe,"Expected a location on the redirect navigation"),n){let st=!1;if(V.reloadDocument)st=!0;else if(dT.test(V.location)){const an=t.history.createURL(V.location);st=an.origin!==e.location.origin||Ma(an.pathname,l)==null}if(st){Se?e.location.replace(V.location):e.location.assign(V.location);return}}R=null;let _e=Se===!0?Ut.Replace:Ut.Push,me=ue||hx(M.navigation);if(A2.has(V.status)&&me&&Tr(me.formMethod))await ze(_e,Pe,{submission:wt({},me,{formAction:V.location}),preventScrollReset:T});else if(Te)await ze(_e,Pe,{overrideNavigation:qc(Pe),fetcherSubmission:me,preventScrollReset:T});else{let st=qc(Pe,me);await ze(_e,Pe,{overrideNavigation:st,preventScrollReset:T})}}async function P(M,V,K,ue,Se){let Te=await Promise.all([...K.map(me=>hl("loader",Se,me,V,s,i,l)),...ue.map(me=>me.matches&&me.match&&me.controller?hl("loader",pl(t.history,me.path,me.controller.signal),me.match,me.matches,s,i,l):{type:Mt.error,error:ur(404,{pathname:me.path})})]),Pe=Te.slice(0,K.length),_e=Te.slice(K.length);return await Promise.all([fx(M,K,Pe,Pe.map(()=>Se.signal),!1,w.loaderData),fx(M,ue.map(me=>me.match),_e,ue.map(me=>me.controller?me.controller.signal:null),!0)]),{results:Te,loaderResults:Pe,fetcherResults:_e}}function F(){k=!0,N.push(...Ee()),H.forEach((M,V)=>{S.has(V)&&(z.push(V),ee(V))})}function U(M,V,K){let ue=Ko(w.matches,V);le(M),q({errors:{[ue.route.id]:K},fetchers:new Map(w.fetchers)})}function le(M){let V=w.fetchers.get(M);S.has(M)&&!(V&&V.state==="loading"&&L.has(M))&&ee(M),H.delete(M),L.delete(M),$.delete(M),w.fetchers.delete(M)}function ee(M){let V=S.get(M);je(V,"Expected fetch controller: "+M),V.abort(),S.delete(M)}function J(M){for(let V of M){let K=Ke(V),ue=ko(K.data);w.fetchers.set(V,ue)}}function pe(){let M=[],V=!1;for(let K of $){let ue=w.fetchers.get(K);je(ue,"Expected fetcher: "+K),ue.state==="loading"&&($.delete(K),M.push(K),V=!0)}return J(M),V}function Ye(M){let V=[];for(let[K,ue]of L)if(ue<M){let Se=w.fetchers.get(K);je(Se,"Expected fetcher: "+K),Se.state==="loading"&&(ee(K),L.delete(K),V.push(K))}return J(V),V.length>0}function Q(M,V){let K=w.blockers.get(M)||fl;return D.get(M)!==V&&D.set(M,V),K}function W(M){w.blockers.delete(M),D.delete(M)}function ve(M,V){let K=w.blockers.get(M)||fl;je(K.state==="unblocked"&&V.state==="blocked"||K.state==="blocked"&&V.state==="blocked"||K.state==="blocked"&&V.state==="proceeding"||K.state==="blocked"&&V.state==="unblocked"||K.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+V.state);let ue=new Map(w.blockers);ue.set(M,V),q({blockers:ue})}function fe(M){let{currentLocation:V,nextLocation:K,historyAction:ue}=M;if(D.size===0)return;D.size>1&&_a(!1,"A router only supports one blocker at a time");let Se=Array.from(D.entries()),[Te,Pe]=Se[Se.length-1],_e=w.blockers.get(Te);if(!(_e&&_e.state==="proceeding")&&Pe({currentLocation:V,nextLocation:K,historyAction:ue}))return Te}function Ee(M){let V=[];return A.forEach((K,ue)=>{(!M||M(ue))&&(K.cancel(),V.push(ue),A.delete(ue))}),V}function Ne(M,V,K){if(h=M,v=V,g=K||null,!y&&w.navigation===Wp){y=!0;let ue=ri(w.location,w.matches);ue!=null&&q({restoreScrollPosition:ue})}return()=>{h=null,v=null,g=null}}function Un(M,V){return g&&g(M,V.map(ue=>z2(ue,w.loaderData)))||M.key}function Is(M,V){if(h&&v){let K=Un(M,V);h[K]=v()}}function ri(M,V){if(h){let K=Un(M,V),ue=h[K];if(typeof ue=="number")return ue}return null}function tl(M){s={},a=Lg(M,i,void 0,s)}return E={get basename(){return l},get state(){return w},get routes(){return o},initialize:Z,subscribe:ne,enableScrollRestoration:Ne,navigate:G,fetch:Et,revalidate:we,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:Ke,deleteFetcher:le,dispose:re,getBlocker:Q,deleteBlocker:W,_internalFetchControllers:S,_internalActiveDeferreds:A,_internalSetRoutes:tl},E}function j2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Mg(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let d of e)if(a.push(d),d.route.id===s){l=d;break}}else a=e,l=e[e.length-1];let u=By(i||".",hh(a).map(d=>d.pathnameBase),Ma(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Hy(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:vi([n,u.pathname])),eo(u)}function rx(t,e,n,r){if(!r||!j2(r))return{path:n};if(r.formMethod&&!B2(r.formMethod))return{path:n,error:ur(405,{method:r.formMethod})};let i=()=>({path:n,error:ur(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=hT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Tr(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[y,x]=v;return""+g+y+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Tr(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}je(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Fg(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Fg(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=ax(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=ax(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Tr(d.formMethod))return{path:n,submission:d};let f=Pi(n);return e&&f.search&&Hy(f.search)&&l.append("index",""),f.search="?"+l,{path:eo(f),submission:d}}function L2(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ix(t,e,n,r,i,s,o,a,l,u,d,f,h,g){let v=g?Object.values(g)[0]:h?Object.values(h)[0]:void 0,y=t.createURL(e.location),x=t.createURL(i),_=g?Object.keys(g)[0]:void 0,E=L2(n,_).filter((b,T)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(M2(e.loaderData,e.matches[T],b)||o.some(k=>k===b.route.id))return!0;let R=e.matches[T],C=b;return sx(b,wt({currentUrl:y,currentParams:R.params,nextUrl:x,nextParams:C.params},r,{actionResult:v,defaultShouldRevalidate:s||y.pathname+y.search===x.pathname+x.search||y.search!==x.search||fT(R,C)}))}),w=[];return l.forEach((b,T)=>{if(!n.some(z=>z.route.id===b.routeId))return;let R=qo(d,b.path,f);if(!R){w.push({key:T,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(T),k=Vg(R,b.path),N=!1;u.has(T)?N=!1:a.includes(T)?N=!0:C&&C.state!=="idle"&&C.data===void 0?N=s:N=sx(k,wt({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:s})),N&&w.push({key:T,routeId:b.routeId,path:b.path,matches:R,match:k,controller:new AbortController})}),[E,w]}function M2(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function fT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function sx(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function ox(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];je(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";_a(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!o2.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,wt({},e(i),{lazy:void 0}))}async function hl(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,u,d,f=v=>{let y,x=new Promise((_,p)=>y=p);return d=()=>y(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:a.requestContext}),x])};try{let v=n.route[t];if(n.route.lazy)if(v)u=(await Promise.all([f(v),ox(n.route,s,i)]))[0];else if(await ox(n.route,s,i),v=n.route[t],v)u=await f(v);else if(t==="action"){let y=new URL(e.url),x=y.pathname+y.search;throw ur(405,{method:e.method,pathname:x,routeId:n.route.id})}else return{type:Mt.data,data:void 0};else if(v)u=await f(v);else{let y=new URL(e.url),x=y.pathname+y.search;throw ur(404,{pathname:x})}je(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){l=Mt.error,u=v}finally{d&&e.signal.removeEventListener("abort",d)}if(U2(u)){let v=u.status;if(P2.has(v)){let _=u.headers.get("Location");if(je(_,"Redirects returned/thrown from loaders/actions must have a Location header"),!dT.test(_))_=Mg(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,_);else if(!a.isStaticRequest){let p=new URL(e.url),E=_.startsWith("//")?new URL(p.protocol+_):new URL(_),w=Ma(E.pathname,o)!=null;E.origin===p.origin&&w&&(_=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw u.headers.set("Location",_),u;return{type:Mt.redirect,status:v,location:_,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Mt.error?Mt.error:Mt.data,response:u};let y,x=u.headers.get("Content-Type");return x&&/\bapplication\/json\b/.test(x)?y=await u.json():y=await u.text(),l===Mt.error?{type:l,error:new zy(v,u.statusText,y),headers:u.headers}:{type:Mt.data,data:y,statusCode:u.status,headers:u.headers}}if(l===Mt.error)return{type:l,error:u};if($2(u)){var h,g;return{type:Mt.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((g=u.init)==null?void 0:g.headers)&&new Headers(u.init.headers)}}return{type:Mt.data,data:u}}function pl(t,e,n,r){let i=t.createURL(hT(e)).toString(),s={signal:n};if(r&&Tr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Fg(r.formData):s.body=r.formData}return new Request(i,s)}function Fg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ax(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function F2(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((d,f)=>{let h=e[f].route.id;if(je(!ia(d),"Cannot handle redirect results in processLoaderData"),ql(d)){let g=Ko(t,h),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),s[h]=void 0,l||(l=!0,a=uT(d.error)?d.error.status:500),d.headers&&(u[h]=d.headers)}else Ms(d)?(i.set(h,d.deferredData),s[h]=d.deferredData.data):s[h]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(u[h]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function lx(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=F2(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:h,controller:g}=s[d];je(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let v=o[d];if(!(g&&g.signal.aborted))if(ql(v)){let y=Ko(t.matches,h==null?void 0:h.route.id);u&&u[y.route.id]||(u=wt({},u,{[y.route.id]:v.error})),t.fetchers.delete(f)}else if(ia(v))je(!1,"Unhandled fetcher revalidation redirect");else if(Ms(v))je(!1,"Unhandled fetcher deferred data");else{let y=ko(v.data);t.fetchers.set(f,y)}}return{loaderData:l,errors:u}}function ux(t,e,n,r){let i=wt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ko(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function cx(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new zy(t||500,o,new Error(a),!0)}function dx(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ia(n))return{result:n,idx:e}}}function hT(t){let e=typeof t=="string"?Pi(t):t;return eo(wt({},e,{hash:""}))}function V2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ms(t){return t.type===Mt.deferred}function ql(t){return t.type===Mt.error}function ia(t){return(t&&t.type)===Mt.redirect}function $2(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function U2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function B2(t){return k2.has(t.toLowerCase())}function Tr(t){return C2.has(t.toLowerCase())}async function fx(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),d=u!=null&&!fT(u,l)&&(s&&s[l.route.id])!==void 0;if(Ms(a)&&(i||d)){let f=r[o];je(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await pT(a,f,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function pT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Mt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Mt.error,error:i}}return{type:Mt.data,data:t.deferredData.data}}}function Hy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function z2(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Vg(t,e){let n=typeof e=="string"?Pi(e).search:e.search;if(t[t.length-1].route.index&&Hy(n||""))return t[t.length-1];let r=hh(t);return r[r.length-1]}function hx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function qc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function H2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ml(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function W2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function ko(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}const ph=m.createContext(null),mT=m.createContext(null),Fa=m.createContext(null),mh=m.createContext(null),Ai=m.createContext({outlet:null,matches:[],isDataRoute:!1}),gT=m.createContext(null);function q2(t,e){let{relative:n}=e===void 0?{}:e;Gu()||je(!1);let{basename:r,navigator:i}=m.useContext(Fa),{hash:s,pathname:o,search:a}=yT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:vi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gu(){return m.useContext(mh)!=null}function gh(){return Gu()||je(!1),m.useContext(mh).location}function vT(t){m.useContext(Fa).static||m.useLayoutEffect(t)}function wr(){let{isDataRoute:t}=m.useContext(Ai);return t?oD():K2()}function K2(){Gu()||je(!1);let t=m.useContext(ph),{basename:e,navigator:n}=m.useContext(Fa),{matches:r}=m.useContext(Ai),{pathname:i}=gh(),s=JSON.stringify(hh(r).map(l=>l.pathnameBase)),o=m.useRef(!1);return vT(()=>{o.current=!0}),m.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=By(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vi([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}const G2=m.createContext(null);function Q2(t){let e=m.useContext(Ai).outlet;return e&&m.createElement(G2.Provider,{value:t},e)}function $n(){let{matches:t}=m.useContext(Ai),e=t[t.length-1];return e?e.params:{}}function yT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=m.useContext(Ai),{pathname:i}=gh(),s=JSON.stringify(hh(r).map(o=>o.pathnameBase));return m.useMemo(()=>By(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function X2(t,e,n){Gu()||je(!1);let{navigator:r}=m.useContext(Fa),{matches:i}=m.useContext(Ai),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=gh(),u;if(e){var d;let y=typeof e=="string"?Pi(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||je(!1),u=y}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",g=qo(t,{pathname:h}),v=tD(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:vi([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:vi([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&v?m.createElement(mh.Provider,{value:{location:tf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ut.Pop}},v):v}function Y2(){let t=sD(),e=uT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,s)}const J2=m.createElement(Y2,null);class Z2 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(Ai.Provider,{value:this.props.routeContext},m.createElement(gT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eD(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(ph);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ai.Provider,{value:e},r)}function tD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||je(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||J2);let h=e.concat(s.slice(0,u+1)),g=()=>{let v;return d?v=f:l.route.Component?v=m.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,m.createElement(eD,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?m.createElement(Z2,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var wT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wT||{}),nf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nf||{});function nD(t){let e=m.useContext(ph);return e||je(!1),e}function rD(t){let e=m.useContext(mT);return e||je(!1),e}function iD(t){let e=m.useContext(Ai);return e||je(!1),e}function _T(t){let e=iD(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function sD(){var t;let e=m.useContext(gT),n=rD(nf.UseRouteError),r=_T(nf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function oD(){let{router:t}=nD(wT.UseNavigateStable),e=_T(nf.UseNavigateStable),n=m.useRef(!1);return vT(()=>{n.current=!0}),m.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tf({fromRouteId:e},s)))},[t,e])}const aD="startTransition",px=fa[aD];function lD(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=m.useState(n.state),{v7_startTransition:o}=r||{},a=m.useCallback(f=>{o&&px?px(()=>s(f)):s(f)},[s,o]);m.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:f=>n.navigate(f),push:(f,h,g)=>n.navigate(f,{state:h,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(f,h,g)=>n.navigate(f,{replace:!0,state:h,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[n]),u=n.basename||"/",d=m.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return m.createElement(m.Fragment,null,m.createElement(ph.Provider,{value:d},m.createElement(mT.Provider,{value:i},m.createElement(cD,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?m.createElement(uD,{routes:n.routes,state:i}):e))),null)}function uD(t){let{routes:e,state:n}=t;return X2(e,void 0,n)}function Wy(t){return Q2(t.context)}function Oe(t){je(!1)}function cD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ut.Pop,navigator:s,static:o=!1}=t;Gu()&&je(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Pi(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,v=m.useMemo(()=>{let y=Ma(u,a);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:g},navigationType:i}},[a,u,d,f,h,g,i]);return v==null?null:m.createElement(Fa.Provider,{value:l},m.createElement(mh.Provider,{children:n,value:v}))}new Promise(()=>{});function $g(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let s=[...e,i];if(r.type===m.Fragment){n.push.apply(n,$g(r.props.children,s));return}r.type!==Oe&&je(!1),!r.props.index||!r.props.children||je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$g(r.props.children,s)),n.push(o)}),n}function dD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}function fD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pD(t,e){return t.button===0&&(!e||e==="_self")&&!hD(t)}const mD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function gD(t,e){return O2({basename:e==null?void 0:e.basename,future:_u({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:r2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||vD(),routes:t,mapRouteProperties:dD}).initialize()}function vD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=_u({},e,{errors:yD(e.errors)})),e}function yD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new zy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const wD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_D=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,f=fD(e,mD),{basename:h}=m.useContext(Fa),g,v=!1;if(typeof u=="string"&&_D.test(u)&&(g=u,wD))try{let p=new URL(window.location.href),E=u.startsWith("//")?new URL(p.protocol+u):new URL(u),w=Ma(E.pathname,h);E.origin===p.origin&&w!=null?u=w+E.search+E.hash:v=!0}catch{}let y=q2(u,{relative:i}),x=xD(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function _(p){r&&r(p),p.defaultPrevented||x(p)}return m.createElement("a",_u({},f,{href:g||y,onClick:v||s?r:_,ref:n,target:l}))});var mx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(mx||(mx={}));var gx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));function xD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=wr(),l=gh(),u=yT(t,{relative:o});return m.useCallback(d=>{if(pD(d,n)){d.preventDefault();let f=r!==void 0?r:eo(l)===eo(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const ED="/assets/amico-8aff1fdd.png",bD="/assets/cuate-b4a5a626.png",SD="/assets/car-driving-booking-46c7d509.png",TD="/assets/nairobi-bc3c12d4.png",ID="/assets/mombasa-60efb92b.png",CD="/assets/naivasha-04955756.png",RD="/assets/nakuru-49c7e938.png",kD="/assets/busia-a5325a04.png",PD="/assets/thika-e491a0f9.png",AD="/assets/kes-cb4c606b.png",ND="/assets/usdc-989a7552.png",DD="/assets/btc-809de917.png",OD="/assets/xlm-04304c5a.png",jD="/assets/tzs-946cd034.png",LD="/assets/ngnc-a8059e0d.png",MD=[{id:"welcome-to-mataxi",title:"Welcome to Mataxi",message:"The hassle-free travel platform that digitizes public transport and makes payment easy. With Mataxi, you can schedule your travel plans, book seats, and trade seats if you need to.",svgSrc:bD,screenHref:"welcome-screen-1",screenTarget:"Get Started",nextHref:"/welcome-screen/find-your-routes",prevHref:"/welcome-screen/welcome-to-mataxi"},{id:"find-your-routes",title:"Finding Your Routes Made Easy",message:"Effortlessly explore and book your preferred route with Mataxi. Compare schedules, prices, and trip details to make an informed decision. Simply select and let us take you there",svgSrc:ED,screenHref:"welcome-screen-2",screenTarget:"Book now",nextHref:"/welcome-screen/booking-made-simple",prevHref:"/welcome-screen/welcome-to-mataxi"},{id:"booking-made-simple",title:"Booking Made Simple",message:"Booking with Mataxi is easy. Choose your transport mode, select a seat, and make a secure payment. Opt for carpooling options for an affordable and fun ride",svgSrc:SD,screenHref:"welcome-screen-3",screenTarget:"Find a ride",nextHref:"/home",prevHref:"/welcome-screen/find-your-routes"}],FD=[{title:"Book Trip",content:"Booking a new trip with Mataxi is quick and easy",button:"Book Now",link:"/settings/rider/book-trip"},{title:"My Trips",content:"Easily keep track of all the trips you've booked through our platform.",button:"Plan Trip"},{title:"Discover Trips",content:"Browse through our curated collection of trips and discover new places to explore.",button:"Start Exploring"},{title:"Carpool",content:"Easily search and connect with other travelers going in the same direction",button:"Get Started"}],bo=[{name:"Nairobi",imageSrc:TD},{name:"Mombasa",imageSrc:ID},{name:"Naivasha",imageSrc:CD},{name:"Nakuru",imageSrc:RD},{name:"Busia",imageSrc:kD},{name:"Thika",imageSrc:PD}],rf=[{code:"KES",fullName:"Kenya Shilling",icon:AD,domain:"clickpesa"},{code:"USDC",fullName:"US Dollar Coin",icon:ND,domain:"ultrastellar"},{code:"BTC",fullName:"Bitcoin",icon:DD,domain:"ultrastellar"},{code:"XLM",fullName:"Stellar",icon:OD,domain:"ultrastellar"},{code:"TZS",fullName:"Tanzania Shilling",icon:jD,domain:"clickpesa"},{code:"NGNC",fullName:"Nigerian Coin",icon:LD,domain:"anclap"}],xT="/assets/background-map-2b4d047c.png";function VD(){const t=wr();return m.useEffect(()=>{const e=setTimeout(()=>{t("/welcome-screen/welcome-to-mataxi")},3e3);return()=>clearTimeout(e)},[t]),c.jsxs("div",{className:"h-screen w-full flex items-center justify-center bg-[#F66E3C] overflow-clip",children:[c.jsx("img",{src:xT,className:"w-full h-[120%] object-cover",alt:""}),c.jsx("h1",{className:"text-9xl font-bold text-black absolute",children:"Mataxi"})]})}var $D=Object.defineProperty,UD=(t,e,n)=>e in t?$D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qp=(t,e,n)=>(UD(t,typeof e!="symbol"?e+"":e,n),n);let BD=class{constructor(){qp(this,"current",this.detect()),qp(this,"handoffState","pending"),qp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},yi=new BD,Je=(t,e)=>{yi.isServer?m.useEffect(t,e):m.useLayoutEffect(t,e)};function Yn(t){let e=m.useRef(t);return Je(()=>{e.current=t},[t]),e}function qy(t,e){let[n,r]=m.useState(t),i=Yn(t);return Je(()=>r(i.current),[i,r,...e]),n}function Qu(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ir(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Qu(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ir();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Es(){let[t]=m.useState(ir);return m.useEffect(()=>()=>t.dispose(),[t]),t}let oe=function(t){let e=Yn(t);return te.useCallback((...n)=>e.current(...n),[e])};function zD(){let t=typeof document>"u";return"useSyncExternalStore"in fa?(e=>e.useSyncExternalStore)(fa)(()=>()=>{},()=>!1,()=>!t):!1}function Va(){let t=zD(),[e,n]=m.useState(yi.isHandoffComplete);return e&&yi.isHandoffComplete===!1&&n(!1),m.useEffect(()=>{e!==!0&&n(!0)},[e]),m.useEffect(()=>yi.handoff(),[]),t?!1:e}var vx;let sn=(vx=te.useId)!=null?vx:function(){let t=Va(),[e,n]=te.useState(t?()=>yi.nextId():null);return Je(()=>{e===null&&n(yi.nextId())},[e]),e!=null?""+e:void 0};function qe(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,qe),r}function $a(t){return yi.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Ug=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Kt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Kt||{}),Go=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Go||{}),HD=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(HD||{});function ET(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ug)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ky=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Ky||{});function Gy(t,e=0){var n;return t===((n=$a(t))==null?void 0:n.body)?!1:qe(e,{0(){return t.matches(Ug)},1(){let r=t;for(;r!==null;){if(r.matches(Ug))return!0;r=r.parentElement}return!1}})}function bT(t){let e=$a(t);ir().nextFrame(()=>{e&&!Gy(e.activeElement,0)&&us(t)})}var WD=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(WD||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function us(t){t==null||t.focus({preventScroll:!0})}let qD=["textarea","input"].join(",");function KD(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,qD))!=null?n:!1}function Yi(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function GD(t,e){return Cr(ET(),e,{relativeTo:t})}function Cr(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?Yi(t):t:ET(t);i.length>0&&o.length>1&&(o=o.filter(g=>!i.includes(g))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=o.length,h;do{if(d>=f||d+f<=0)return 0;let g=l+d;if(e&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}h=o[g],h==null||h.focus(u),d+=a}while(h!==s.activeElement);return e&6&&KD(h)&&h.select(),2}function Kc(t,e,n){let r=Yn(e);m.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function ST(t,e,n){let r=Yn(e);m.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function Qy(t,e,n=!0){let r=m.useRef(!1);m.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(l)||o.composed&&o.composedPath().includes(f))return}return!Gy(l,Ky.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=m.useRef(null);Kc("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Kc("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Kc("click",o=>{s.current&&(i(o,()=>s.current),s.current=null)},!0),Kc("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),ST("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function yx(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function vh(t,e){let[n,r]=m.useState(()=>yx(t));return Je(()=>{r(yx(t))},[t.type,t.as]),Je(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let TT=Symbol();function IT(t,e=!0){return Object.assign(t,{[TT]:e})}function it(...t){let e=m.useRef(t);m.useEffect(()=>{e.current=t},[t]);let n=oe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[TT]))?void 0:n}function CT({container:t,accept:e,walk:n,enabled:r=!0}){let i=m.useRef(e),s=m.useRef(n);m.useEffect(()=>{i.current=e,s.current=n},[e,n]),Je(()=>{if(!t||!r)return;let o=$a(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(f=>a(f),{acceptNode:a}),d=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[t,r,i,s])}function QD(t){throw new Error("Unexpected object: "+t)}var at=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(at||{});function RT(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1,s=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:QD(t)}})();return s===-1?r:s}function sf(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var yr=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(yr||{}),Ji=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ji||{});function Ze({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=kT(e,t);if(s)return Gc(a,n,r,o);let l=i??0;if(l&2){let{static:u=!1,...d}=a;if(u)return Gc(d,n,r,o)}if(l&1){let{unmount:u=!0,...d}=a;return qe(u?0:1,{0(){return null},1(){return Gc({...d,hidden:!0,style:{display:"none"}},n,r,o)}})}return Gc(a,n,r,o)}function Gc(t,e={},n,r){let{as:i=n,children:s,refName:o="ref",...a}=Kp(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},u=typeof s=="function"?s(e):s;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(e));let d={};if(e){let f=!1,h=[];for(let[g,v]of Object.entries(e))typeof v=="boolean"&&(f=!0),v===!0&&h.push(g);f&&(d["data-headlessui-state"]=h.join(" "))}if(i===m.Fragment&&Object.keys(Bg(a)).length>0){if(!m.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let f=u.props,h=typeof(f==null?void 0:f.className)=="function"?(...v)=>sf(f==null?void 0:f.className(...v),a.className):sf(f==null?void 0:f.className,a.className),g=h?{className:h}:{};return m.cloneElement(u,Object.assign({},kT(u.props,Bg(Kp(a,["ref"]))),d,l,XD(u.ref,l.ref),g))}return m.createElement(i,Object.assign({},Kp(a,["ref"]),i!==m.Fragment&&l,i!==m.Fragment&&d),u)}function XD(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function kT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Xe(t){var e;return Object.assign(m.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Bg(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Kp(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function yh(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&YD(n)?!1:r}function YD(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function PT(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))NT(n,AT(e,r),i);return n}function AT(t,e){return t?t+"["+e+"]":e}function NT(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())NT(t,AT(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):PT(n,e,t)}let JD="div";var xa=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(xa||{});function ZD(t,e){let{features:n=1,...r}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ze({ourProps:i,theirProps:r,slot:{},defaultTag:JD,name:"Hidden"})}let Ea=Xe(ZD),Xy=m.createContext(null);Xy.displayName="OpenClosedContext";var ft=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ft||{});function Ua(){return m.useContext(Xy)}function wh({value:t,children:e}){return te.createElement(Xy.Provider,{value:t},e)}var Re=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Re||{});function eO(t,e,n){let[r,i]=m.useState(n),s=t!==void 0,o=m.useRef(s),a=m.useRef(!1),l=m.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,oe(u=>(s||i(u),e==null?void 0:e(u)))]}function xu(t,e){let n=m.useRef([]),r=oe(t);m.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function wx(t){return[t.screenX,t.screenY]}function DT(){let t=m.useRef([-1,-1]);return{wasMoved(e){let n=wx(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=wx(e)}}}function OT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tO(){return/Android/gi.test(window.navigator.userAgent)}function nO(){return OT()||tO()}function fo(...t){return m.useMemo(()=>$a(...t),[...t])}var rO=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(rO||{}),iO=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(iO||{}),sO=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(sO||{}),oO=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t))(oO||{});function Gp(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=Yi(e(t.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let aO={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;let n=t.activeOptionIndex;if(t.dataRef.current){let{isSelected:r}=t.dataRef.current,i=t.options.findIndex(s=>r(s.dataRef.current.value));i!==-1&&(n=i)}return{...t,comboboxState:0,activeOptionIndex:n}},2(t,e){var n,r,i,s;if((n=t.dataRef.current)!=null&&n.disabled||(r=t.dataRef.current)!=null&&r.optionsRef.current&&!((i=t.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&t.comboboxState===1)return t;let o=Gp(t);if(o.activeOptionIndex===null){let l=o.options.findIndex(u=>!u.dataRef.current.disabled);l!==-1&&(o.activeOptionIndex=l)}let a=RT(e,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...t,...o,activeOptionIndex:a,activationTrigger:(s=e.trigger)!=null?s:1}},3:(t,e)=>{var n,r;let i={id:e.id,dataRef:e.dataRef},s=Gp(t,a=>[...a,i]);t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(i));let o={...t,...s,activationTrigger:1};return(r=t.dataRef.current)!=null&&r.__demoMode&&t.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},4:(t,e)=>{let n=Gp(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},5:(t,e)=>({...t,labelId:e.id})},Yy=m.createContext(null);Yy.displayName="ComboboxActionsContext";function Xu(t){let e=m.useContext(Yy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xu),n}return e}let Jy=m.createContext(null);Jy.displayName="ComboboxDataContext";function Ba(t){let e=m.useContext(Jy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ba),n}return e}function lO(t,e){return qe(e.type,aO,t,e)}let uO=m.Fragment;function cO(t,e){let{value:n,defaultValue:r,onChange:i,form:s,name:o,by:a=(q,ye)=>q===ye,disabled:l=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,...h}=t,[g=f?[]:void 0,v]=eO(n,i,r),[y,x]=m.useReducer(lO,{dataRef:m.createRef(),comboboxState:u?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),_=m.useRef(!1),p=m.useRef({static:!1,hold:!1}),E=m.useRef(null),w=m.useRef(null),b=m.useRef(null),T=m.useRef(null),R=oe(typeof a=="string"?(q,ye)=>{let G=a;return(q==null?void 0:q[G])===(ye==null?void 0:ye[G])}:a),C=m.useCallback(q=>qe(k.mode,{1:()=>g.some(ye=>R(ye,q)),0:()=>R(g,q)}),[g]),k=m.useMemo(()=>({...y,optionsPropsRef:p,labelRef:E,inputRef:w,buttonRef:b,optionsRef:T,value:g,defaultValue:r,disabled:l,mode:f?1:0,get activeOptionIndex(){if(_.current&&y.activeOptionIndex===null&&y.options.length>0){let q=y.options.findIndex(ye=>!ye.dataRef.current.disabled);if(q!==-1)return q}return y.activeOptionIndex},compare:R,isSelected:C,nullable:d,__demoMode:u}),[g,r,l,f,d,u,y]),N=m.useRef(k.activeOptionIndex!==null?k.options[k.activeOptionIndex]:null);m.useEffect(()=>{let q=k.activeOptionIndex!==null?k.options[k.activeOptionIndex]:null;N.current!==q&&(N.current=q)}),Je(()=>{y.dataRef.current=k},[k]),Qy([k.buttonRef,k.inputRef,k.optionsRef],()=>j.closeCombobox(),k.comboboxState===0);let z=m.useMemo(()=>({open:k.comboboxState===0,disabled:l,activeIndex:k.activeOptionIndex,activeOption:k.activeOptionIndex===null?null:k.options[k.activeOptionIndex].dataRef.current.value,value:g}),[k,l,g]),S=oe(q=>{let ye=k.options.find(G=>G.id===q);ye&&D(ye.dataRef.current.value)}),I=oe(()=>{if(k.activeOptionIndex!==null){let{dataRef:q,id:ye}=k.options[k.activeOptionIndex];D(q.current.value),j.goToOption(at.Specific,ye)}}),O=oe(()=>{x({type:0}),_.current=!0}),L=oe(()=>{x({type:1}),_.current=!1}),$=oe((q,ye,G)=>(_.current=!1,q===at.Specific?x({type:2,focus:at.Specific,id:ye,trigger:G}):x({type:2,focus:q,trigger:G}))),H=oe((q,ye)=>(x({type:3,id:q,dataRef:ye}),()=>{var G;((G=N.current)==null?void 0:G.id)===q&&(_.current=!0),x({type:4,id:q})})),A=oe(q=>(x({type:5,id:q}),()=>x({type:5,id:null}))),D=oe(q=>qe(k.mode,{0(){return v==null?void 0:v(q)},1(){let ye=k.value.slice(),G=ye.findIndex(we=>R(we,q));return G===-1?ye.push(q):ye.splice(G,1),v==null?void 0:v(ye)}})),j=m.useMemo(()=>({onChange:D,registerOption:H,registerLabel:A,goToOption:$,closeCombobox:L,openCombobox:O,selectActiveOption:I,selectOption:S}),[]),Z=e===null?{}:{ref:e},re=m.useRef(null),ne=Es();return m.useEffect(()=>{re.current&&r!==void 0&&ne.addEventListener(re.current,"reset",()=>{v==null||v(r)})},[re,v]),te.createElement(Yy.Provider,{value:j},te.createElement(Jy.Provider,{value:k},te.createElement(wh,{value:qe(k.comboboxState,{0:ft.Open,1:ft.Closed})},o!=null&&g!=null&&PT({[o]:g}).map(([q,ye],G)=>te.createElement(Ea,{features:xa.Hidden,ref:G===0?we=>{var ze;re.current=(ze=we==null?void 0:we.closest("form"))!=null?ze:null}:void 0,...Bg({key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,name:q,value:ye})})),Ze({ourProps:Z,theirProps:h,slot:z,defaultTag:uO,name:"Combobox"}))))}let dO="input";function fO(t,e){var n,r,i,s;let o=sn(),{id:a=`headlessui-combobox-input-${o}`,onChange:l,displayValue:u,type:d="text",...f}=t,h=Ba("Combobox.Input"),g=Xu("Combobox.Input"),v=it(h.inputRef,e),y=fo(h.inputRef),x=m.useRef(!1),_=Es(),p=oe(()=>{g.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),g.goToOption(at.Nothing)}),E=function(){var I;return typeof u=="function"&&h.value!==void 0?(I=u(h.value))!=null?I:"":typeof h.value=="string"?h.value:""}();xu(([I,O],[L,$])=>{if(x.current)return;let H=h.inputRef.current;H&&(($===0&&O===1||I!==L)&&(H.value=I),requestAnimationFrame(()=>{if(x.current||!H||(y==null?void 0:y.activeElement)!==H)return;let{selectionStart:A,selectionEnd:D}=H;Math.abs((D??0)-(A??0))===0&&A===0&&H.setSelectionRange(H.value.length,H.value.length)}))},[E,h.comboboxState,y]),xu(([I],[O])=>{if(I===0&&O===1){if(x.current)return;let L=h.inputRef.current;if(!L)return;let $=L.value,{selectionStart:H,selectionEnd:A,selectionDirection:D}=L;L.value="",L.value=$,D!==null?L.setSelectionRange(H,A,D):L.setSelectionRange(H,A)}},[h.comboboxState]);let w=m.useRef(!1),b=oe(()=>{w.current=!0}),T=oe(()=>{_.nextFrame(()=>{w.current=!1})}),R=oe(I=>{switch(x.current=!0,I.key){case Re.Enter:if(x.current=!1,h.comboboxState!==0||w.current)return;if(I.preventDefault(),I.stopPropagation(),h.activeOptionIndex===null){g.closeCombobox();return}g.selectActiveOption(),h.mode===0&&g.closeCombobox();break;case Re.ArrowDown:return x.current=!1,I.preventDefault(),I.stopPropagation(),qe(h.comboboxState,{0:()=>{g.goToOption(at.Next)},1:()=>{g.openCombobox()}});case Re.ArrowUp:return x.current=!1,I.preventDefault(),I.stopPropagation(),qe(h.comboboxState,{0:()=>{g.goToOption(at.Previous)},1:()=>{g.openCombobox(),_.nextFrame(()=>{h.value||g.goToOption(at.Last)})}});case Re.Home:if(I.shiftKey)break;return x.current=!1,I.preventDefault(),I.stopPropagation(),g.goToOption(at.First);case Re.PageUp:return x.current=!1,I.preventDefault(),I.stopPropagation(),g.goToOption(at.First);case Re.End:if(I.shiftKey)break;return x.current=!1,I.preventDefault(),I.stopPropagation(),g.goToOption(at.Last);case Re.PageDown:return x.current=!1,I.preventDefault(),I.stopPropagation(),g.goToOption(at.Last);case Re.Escape:return x.current=!1,h.comboboxState!==0?void 0:(I.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&I.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&p(),g.closeCombobox());case Re.Tab:if(x.current=!1,h.comboboxState!==0)return;h.mode===0&&g.selectActiveOption(),g.closeCombobox();break}}),C=oe(I=>{l==null||l(I),h.nullable&&h.mode===0&&I.target.value===""&&p(),g.openCombobox()}),k=oe(()=>{x.current=!1}),N=qy(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),z=m.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),S={ref:v,id:a,role:"combobox",type:d,"aria-controls":(n=h.optionsRef.current)==null?void 0:n.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null||(r=h.options[h.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":N,"aria-autocomplete":"list",defaultValue:(s=(i=t.defaultValue)!=null?i:h.defaultValue!==void 0?u==null?void 0:u(h.defaultValue):null)!=null?s:h.defaultValue,disabled:h.disabled,onCompositionStart:b,onCompositionEnd:T,onKeyDown:R,onChange:C,onBlur:k};return Ze({ourProps:S,theirProps:f,slot:z,defaultTag:dO,name:"Combobox.Input"})}let hO="button";function pO(t,e){var n;let r=Ba("Combobox.Button"),i=Xu("Combobox.Button"),s=it(r.buttonRef,e),o=sn(),{id:a=`headlessui-combobox-button-${o}`,...l}=t,u=Es(),d=oe(y=>{switch(y.key){case Re.ArrowDown:return y.preventDefault(),y.stopPropagation(),r.comboboxState===1&&i.openCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case Re.ArrowUp:return y.preventDefault(),y.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),u.nextFrame(()=>{r.value||i.goToOption(at.Last)})),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case Re.Escape:return r.comboboxState!==0?void 0:(y.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&y.stopPropagation(),i.closeCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),f=oe(y=>{if(yh(y.currentTarget))return y.preventDefault();r.comboboxState===0?i.closeCombobox():(y.preventDefault(),i.openCombobox()),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),h=qy(()=>{if(r.labelId)return[r.labelId,a].join(" ")},[r.labelId,a]),g=m.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),v={ref:s,id:a,type:vh(t,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":h,disabled:r.disabled,onClick:f,onKeyDown:d};return Ze({ourProps:v,theirProps:l,slot:g,defaultTag:hO,name:"Combobox.Button"})}let mO="label";function gO(t,e){let n=sn(),{id:r=`headlessui-combobox-label-${n}`,...i}=t,s=Ba("Combobox.Label"),o=Xu("Combobox.Label"),a=it(s.labelRef,e);Je(()=>o.registerLabel(r),[r]);let l=oe(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=m.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Ze({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:u,defaultTag:mO,name:"Combobox.Label"})}let vO="ul",yO=yr.RenderStrategy|yr.Static;function wO(t,e){let n=sn(),{id:r=`headlessui-combobox-options-${n}`,hold:i=!1,...s}=t,o=Ba("Combobox.Options"),a=it(o.optionsRef,e),l=Ua(),u=(()=>l!==null?(l&ft.Open)===ft.Open:o.comboboxState===0)();Je(()=>{var g;o.optionsPropsRef.current.static=(g=t.static)!=null?g:!1},[o.optionsPropsRef,t.static]),Je(()=>{o.optionsPropsRef.current.hold=i},[o.optionsPropsRef,i]),CT({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(g){return g.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});let d=qy(()=>{var g,v;return(v=o.labelId)!=null?v:(g=o.buttonRef.current)==null?void 0:g.id},[o.labelId,o.buttonRef.current]),f=m.useMemo(()=>({open:o.comboboxState===0}),[o]),h={"aria-labelledby":d,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:r,ref:a};return Ze({ourProps:h,theirProps:s,slot:f,defaultTag:vO,features:yO,visible:u,name:"Combobox.Options"})}let _O="li";function xO(t,e){var n,r;let i=sn(),{id:s=`headlessui-combobox-option-${i}`,disabled:o=!1,value:a,...l}=t,u=Ba("Combobox.Option"),d=Xu("Combobox.Option"),f=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===s:!1,h=u.isSelected(a),g=m.useRef(null),v=Yn({disabled:o,value:a,domRef:g,textValue:(r=(n=g.current)==null?void 0:n.textContent)==null?void 0:r.toLowerCase()}),y=it(e,g),x=oe(()=>d.selectOption(s));Je(()=>d.registerOption(s,v),[v,s]);let _=m.useRef(!u.__demoMode);Je(()=>{if(!u.__demoMode)return;let k=ir();return k.requestAnimationFrame(()=>{_.current=!0}),k.dispose},[]),Je(()=>{if(u.comboboxState!==0||!f||!_.current||u.activationTrigger===0)return;let k=ir();return k.requestAnimationFrame(()=>{var N,z;(z=(N=g.current)==null?void 0:N.scrollIntoView)==null||z.call(N,{block:"nearest"})}),k.dispose},[g,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let p=oe(k=>{if(o)return k.preventDefault();x(),u.mode===0&&d.closeCombobox(),nO()||requestAnimationFrame(()=>{var N;return(N=u.inputRef.current)==null?void 0:N.focus()})}),E=oe(()=>{if(o)return d.goToOption(at.Nothing);d.goToOption(at.Specific,s)}),w=DT(),b=oe(k=>w.update(k)),T=oe(k=>{w.wasMoved(k)&&(o||f||d.goToOption(at.Specific,s,0))}),R=oe(k=>{w.wasMoved(k)&&(o||f&&(u.optionsPropsRef.current.hold||d.goToOption(at.Nothing)))}),C=m.useMemo(()=>({active:f,selected:h,disabled:o}),[f,h,o]);return Ze({ourProps:{id:s,ref:y,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:p,onFocus:E,onPointerEnter:b,onMouseEnter:b,onPointerMove:T,onMouseMove:T,onPointerLeave:R,onMouseLeave:R},theirProps:l,slot:C,defaultTag:_O,name:"Combobox.Option"})}let EO=Xe(cO),bO=Xe(pO),SO=Xe(fO),TO=Xe(gO),IO=Xe(wO),CO=Xe(xO),Bt=Object.assign(EO,{Input:SO,Button:bO,Label:TO,Options:IO,Option:CO});var kl=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(kl||{});function RO(){let t=m.useRef(0);return ST("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function za(){let t=m.useRef(!1);return Je(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function jT(t,e,n,r){let i=Yn(n);m.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function kO(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function LT(t){let e=oe(t),n=m.useRef(!1);m.useEffect(()=>(n.current=!1,()=>{n.current=!0,Qu(()=>{n.current&&e()})}),[e])}function MT(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let PO="div";var FT=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(FT||{});function AO(t,e){let n=m.useRef(null),r=it(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;Va()||(o=1);let l=fo(n);OO({ownerDocument:l},!!(o&16));let u=jO({ownerDocument:l,container:n,initialFocus:i},!!(o&2));LO({ownerDocument:l,container:n,containers:s,previousActiveElement:u},!!(o&8));let d=RO(),f=oe(y=>{let x=n.current;x&&(_=>_())(()=>{qe(d.current,{[kl.Forwards]:()=>{Cr(x,Kt.First,{skipElements:[y.relatedTarget]})},[kl.Backwards]:()=>{Cr(x,Kt.Last,{skipElements:[y.relatedTarget]})}})})}),h=Es(),g=m.useRef(!1),v={ref:r,onKeyDown(y){y.key=="Tab"&&(g.current=!0,h.requestAnimationFrame(()=>{g.current=!1}))},onBlur(y){let x=MT(s);n.current instanceof HTMLElement&&x.add(n.current);let _=y.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(VT(x,_)||(g.current?Cr(n.current,qe(d.current,{[kl.Forwards]:()=>Kt.Next,[kl.Backwards]:()=>Kt.Previous})|Kt.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&us(y.target)))}};return te.createElement(te.Fragment,null,!!(o&4)&&te.createElement(Ea,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:xa.Focusable}),Ze({ourProps:v,theirProps:a,defaultTag:PO,name:"FocusTrap"}),!!(o&4)&&te.createElement(Ea,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:xa.Focusable}))}let NO=Xe(AO),gl=Object.assign(NO,{features:FT}),zi=[];kO(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&zi[0]!==e.target&&(zi.unshift(e.target),zi=zi.filter(n=>n!=null&&n.isConnected),zi.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function DO(t=!0){let e=m.useRef(zi.slice());return xu(([n],[r])=>{r===!0&&n===!1&&Qu(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=zi.slice())},[t,zi,e]),oe(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function OO({ownerDocument:t},e){let n=DO(e);xu(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&us(n())},[e]),LT(()=>{e&&us(n())})}function jO({ownerDocument:t,container:e,initialFocus:n},r){let i=m.useRef(null),s=za();return xu(()=>{if(!r)return;let o=e.current;o&&Qu(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?us(n.current):Cr(o,Kt.First)===Go.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function LO({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=za();jT(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=MT(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?VT(a,u)?(r.current=u,us(u)):(o.preventDefault(),o.stopPropagation(),us(l)):us(r.current)},!0)}function VT(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let $T=m.createContext(!1);function MO(){return m.useContext($T)}function zg(t){return te.createElement($T.Provider,{value:t.force},t.children)}function FO(t){let e=MO(),n=m.useContext(UT),r=fo(t),[i,s]=m.useState(()=>{if(!e&&n!==null||yi.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return m.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),m.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let VO=m.Fragment;function $O(t,e){let n=t,r=m.useRef(null),i=it(IT(d=>{r.current=d}),e),s=fo(r),o=FO(r),[a]=m.useState(()=>{var d;return yi.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=m.useContext(Hg),u=Va();return Je(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),Je(()=>{if(a&&l)return l.register(a)},[l,a]),LT(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:oT.createPortal(Ze({ourProps:{ref:i},theirProps:n,defaultTag:VO,name:"Portal"}),a):null}let UO=m.Fragment,UT=m.createContext(null);function BO(t,e){let{target:n,...r}=t,i={ref:it(e)};return te.createElement(UT.Provider,{value:n},Ze({ourProps:i,theirProps:r,defaultTag:UO,name:"Popover.Group"}))}let Hg=m.createContext(null);function zO(){let t=m.useContext(Hg),e=m.useRef([]),n=oe(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=oe(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=m.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,m.useMemo(()=>function({children:s}){return te.createElement(Hg.Provider,{value:i},s)},[i])]}let HO=Xe($O),WO=Xe(BO),Wg=Object.assign(HO,{Group:WO}),BT=m.createContext(null);function zT(){let t=m.useContext(BT);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,zT),e}return t}function qO(){let[t,e]=m.useState([]);return[t.length>0?t.join(" "):void 0,m.useMemo(()=>function(n){let r=oe(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=m.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return te.createElement(BT.Provider,{value:i},n.children)},[e])]}let KO="p";function GO(t,e){let n=sn(),{id:r=`headlessui-description-${n}`,...i}=t,s=zT(),o=it(e);Je(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return Ze({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:KO,name:s.name||"Description"})}let QO=Xe(GO),XO=Object.assign(QO,{}),Zy=m.createContext(()=>{});Zy.displayName="StackContext";var qg=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(qg||{});function YO(){return m.useContext(Zy)}function JO({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=YO(),o=oe((...a)=>{e==null||e(...a),s(...a)});return Je(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),te.createElement(Zy.Provider,{value:o},t)}function ZO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const ej=typeof Object.is=="function"?Object.is:ZO,{useState:tj,useEffect:nj,useLayoutEffect:rj,useDebugValue:ij}=fa;function sj(t,e,n){const r=e(),[{inst:i},s]=tj({inst:{value:r,getSnapshot:e}});return rj(()=>{i.value=r,i.getSnapshot=e,Qp(i)&&s({inst:i})},[t,r,e]),nj(()=>(Qp(i)&&s({inst:i}),t(()=>{Qp(i)&&s({inst:i})})),[t]),ij(r),r}function Qp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!ej(n,r)}catch{return!0}}function oj(t,e,n){return e()}const aj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lj=!aj,uj=lj?oj:sj,cj="useSyncExternalStore"in fa?(t=>t.useSyncExternalStore)(fa):uj;function dj(t){return cj(t.subscribe,t.getSnapshot,t.getSnapshot)}function fj(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function hj(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,s=t-i;n.style(r,"paddingRight",`${s}px`)}}}function pj(){if(!OT())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:r}){function i(s){return r.containers.flatMap(o=>o()).some(o=>o.contains(s))}n.microTask(()=>{if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=ir();o.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>o.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let s=null;n.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let a=o.target.closest("a");if(!a)return;let{hash:l}=new URL(a.href),u=e.querySelector(l);u&&!i(u)&&(s=u)}catch{}},!0),n.addEventListener(e,"touchmove",o=>{o.target instanceof HTMLElement&&!i(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}}function mj(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function gj(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Fs=fj(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ir(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:gj(n)},i=[pj(),hj(),mj()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Fs.subscribe(()=>{let t=Fs.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Fs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Fs.dispatch("TEARDOWN",n)}});function vj(t,e,n){let r=dj(Fs),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Je(()=>{if(!(!t||!e))return Fs.dispatch("PUSH",t,n),()=>Fs.dispatch("POP",t,n)},[e,t]),s}let Xp=new Map,vl=new Map;function _x(t,e=!0){Je(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=vl.get(r))!=null?o:1;if(a===1?vl.delete(r):vl.set(r,a-1),a!==1)return;let l=Xp.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,Xp.delete(r))}let s=(n=vl.get(r))!=null?n:0;return vl.set(r,s+1),s!==0||(Xp.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}function yj({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let i=m.useRef((r=n==null?void 0:n.current)!=null?r:null),s=fo(i),o=oe(()=>{var a;let l=[];for(let u of t)u!==null&&(u instanceof HTMLElement?l.push(u):"current"in u&&u.current instanceof HTMLElement&&l.push(u.current));if(e!=null&&e.current)for(let u of e.current)l.push(u);for(let u of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(i.current)||l.some(d=>u.contains(d))||l.push(u));return l});return{resolveContainers:o,contains:oe(a=>o().some(l=>l.contains(a))),mainTreeNodeRef:i,MainTreeNode:m.useMemo(()=>function(){return n!=null?null:te.createElement(Ea,{features:xa.Hidden,ref:i})},[i,n])}}var wj=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(wj||{}),_j=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(_j||{});let xj={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},of=m.createContext(null);of.displayName="DialogContext";function Yu(t){let e=m.useContext(of);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yu),n}return e}function Ej(t,e,n=()=>[document.body]){vj(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function bj(t,e){return qe(e.type,xj,t,e)}let Sj="div",Tj=yr.RenderStrategy|yr.Static;function Ij(t,e){var n;let r=sn(),{id:i=`headlessui-dialog-${r}`,open:s,onClose:o,initialFocus:a,__demoMode:l=!1,...u}=t,[d,f]=m.useState(0),h=Ua();s===void 0&&h!==null&&(s=(h&ft.Open)===ft.Open);let g=m.useRef(null),v=it(g,e),y=fo(g),x=t.hasOwnProperty("open")||h!==null,_=t.hasOwnProperty("onClose");if(!x&&!_)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!_)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let p=s?0:1,[E,w]=m.useReducer(bj,{titleId:null,descriptionId:null,panelRef:m.createRef()}),b=oe(()=>o(!1)),T=oe($e=>w({type:0,id:$e})),R=Va()?l?!1:p===0:!1,C=d>1,k=m.useContext(of)!==null,[N,z]=zO(),{resolveContainers:S,mainTreeNodeRef:I,MainTreeNode:O}=yj({portals:N,defaultContainers:[(n=E.panelRef.current)!=null?n:g.current]}),L=C?"parent":"leaf",$=h!==null?(h&ft.Closing)===ft.Closing:!1,H=(()=>k||$?!1:R)(),A=m.useCallback(()=>{var $e,ct;return(ct=Array.from(($e=y==null?void 0:y.querySelectorAll("body > *"))!=null?$e:[]).find(Ke=>Ke.id==="headlessui-portal-root"?!1:Ke.contains(I.current)&&Ke instanceof HTMLElement))!=null?ct:null},[I]);_x(A,H);let D=(()=>C?!0:R)(),j=m.useCallback(()=>{var $e,ct;return(ct=Array.from(($e=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?$e:[]).find(Ke=>Ke.contains(I.current)&&Ke instanceof HTMLElement))!=null?ct:null},[I]);_x(j,D);let Z=(()=>!(!R||C))();Qy(S,b,Z);let re=(()=>!(C||p!==0))();jT(y==null?void 0:y.defaultView,"keydown",$e=>{re&&($e.defaultPrevented||$e.key===Re.Escape&&($e.preventDefault(),$e.stopPropagation(),b()))});let ne=(()=>!($||p!==0||k))();Ej(y,ne,S),m.useEffect(()=>{if(p!==0||!g.current)return;let $e=new ResizeObserver(ct=>{for(let Ke of ct){let Et=Ke.target.getBoundingClientRect();Et.x===0&&Et.y===0&&Et.width===0&&Et.height===0&&b()}});return $e.observe(g.current),()=>$e.disconnect()},[p,g,b]);let[q,ye]=qO(),G=m.useMemo(()=>[{dialogState:p,close:b,setTitleId:T},E],[p,E,b,T]),we=m.useMemo(()=>({open:p===0}),[p]),ze={ref:v,id:i,role:"dialog","aria-modal":p===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":q};return te.createElement(JO,{type:"Dialog",enabled:p===0,element:g,onUpdate:oe(($e,ct)=>{ct==="Dialog"&&qe($e,{[qg.Add]:()=>f(Ke=>Ke+1),[qg.Remove]:()=>f(Ke=>Ke-1)})})},te.createElement(zg,{force:!0},te.createElement(Wg,null,te.createElement(of.Provider,{value:G},te.createElement(Wg.Group,{target:g},te.createElement(zg,{force:!1},te.createElement(ye,{slot:we,name:"Dialog.Description"},te.createElement(gl,{initialFocus:a,containers:S,features:R?qe(L,{parent:gl.features.RestoreFocus,leaf:gl.features.All&~gl.features.FocusLock}):gl.features.None},te.createElement(z,null,Ze({ourProps:ze,theirProps:u,slot:we,defaultTag:Sj,features:Tj,visible:p===0,name:"Dialog"}))))))))),te.createElement(O,null))}let Cj="div";function Rj(t,e){let n=sn(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=Yu("Dialog.Overlay"),a=it(e),l=oe(d=>{if(d.target===d.currentTarget){if(yh(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=m.useMemo(()=>({open:s===0}),[s]);return Ze({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:Cj,name:"Dialog.Overlay"})}let kj="div";function Pj(t,e){let n=sn(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=Yu("Dialog.Backdrop"),a=it(e);m.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=m.useMemo(()=>({open:s===0}),[s]);return te.createElement(zg,{force:!0},te.createElement(Wg,null,Ze({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:kj,name:"Dialog.Backdrop"})))}let Aj="div";function Nj(t,e){let n=sn(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=Yu("Dialog.Panel"),a=it(e,o.panelRef),l=m.useMemo(()=>({open:s===0}),[s]),u=oe(d=>{d.stopPropagation()});return Ze({ourProps:{ref:a,id:r,onClick:u},theirProps:i,slot:l,defaultTag:Aj,name:"Dialog.Panel"})}let Dj="h2";function Oj(t,e){let n=sn(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Yu("Dialog.Title"),a=it(e);m.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=m.useMemo(()=>({open:s===0}),[s]);return Ze({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:Dj,name:"Dialog.Title"})}let jj=Xe(Ij),Lj=Xe(Pj),Mj=Xe(Nj),Fj=Xe(Rj),Vj=Xe(Oj),Zt=Object.assign(jj,{Backdrop:Lj,Panel:Mj,Overlay:Fj,Title:Vj,Description:XO});var xx;let $j=(xx=te.startTransition)!=null?xx:function(t){t()};var Uj=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Uj||{}),Bj=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.LinkPanel=4]="LinkPanel",t[t.UnlinkPanel=5]="UnlinkPanel",t))(Bj||{});let zj={0:t=>({...t,disclosureState:qe(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},4(t){return t.linkedPanel===!0?t:{...t,linkedPanel:!0}},5(t){return t.linkedPanel===!1?t:{...t,linkedPanel:!1}},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}}},e0=m.createContext(null);e0.displayName="DisclosureContext";function t0(t){let e=m.useContext(e0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,t0),n}return e}let n0=m.createContext(null);n0.displayName="DisclosureAPIContext";function HT(t){let e=m.useContext(n0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,HT),n}return e}let r0=m.createContext(null);r0.displayName="DisclosurePanelContext";function Hj(){return m.useContext(r0)}function Wj(t,e){return qe(e.type,zj,t,e)}let qj=m.Fragment;function Kj(t,e){let{defaultOpen:n=!1,...r}=t,i=m.useRef(null),s=it(e,IT(x=>{i.current=x},t.as===void 0||t.as===m.Fragment)),o=m.useRef(null),a=m.useRef(null),l=m.useReducer(Wj,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:a,panelRef:o,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},f]=l,h=oe(x=>{f({type:1});let _=$a(i);if(!_||!d)return;let p=(()=>x?x instanceof HTMLElement?x:x.current instanceof HTMLElement?x.current:_.getElementById(d):_.getElementById(d))();p==null||p.focus()}),g=m.useMemo(()=>({close:h}),[h]),v=m.useMemo(()=>({open:u===0,close:h}),[u,h]),y={ref:s};return te.createElement(e0.Provider,{value:l},te.createElement(n0.Provider,{value:g},te.createElement(wh,{value:qe(u,{0:ft.Open,1:ft.Closed})},Ze({ourProps:y,theirProps:r,slot:v,defaultTag:qj,name:"Disclosure"}))))}let Gj="button";function Qj(t,e){let n=sn(),{id:r=`headlessui-disclosure-button-${n}`,...i}=t,[s,o]=t0("Disclosure.Button"),a=Hj(),l=a===null?!1:a===s.panelId,u=m.useRef(null),d=it(u,e,l?null:s.buttonRef);m.useEffect(()=>{if(!l)return o({type:2,buttonId:r}),()=>{o({type:2,buttonId:null})}},[r,o,l]);let f=oe(_=>{var p;if(l){if(s.disclosureState===1)return;switch(_.key){case Re.Space:case Re.Enter:_.preventDefault(),_.stopPropagation(),o({type:0}),(p=s.buttonRef.current)==null||p.focus();break}}else switch(_.key){case Re.Space:case Re.Enter:_.preventDefault(),_.stopPropagation(),o({type:0});break}}),h=oe(_=>{switch(_.key){case Re.Space:_.preventDefault();break}}),g=oe(_=>{var p;yh(_.currentTarget)||t.disabled||(l?(o({type:0}),(p=s.buttonRef.current)==null||p.focus()):o({type:0}))}),v=m.useMemo(()=>({open:s.disclosureState===0}),[s]),y=vh(t,u),x=l?{ref:d,type:y,onKeyDown:f,onClick:g}:{ref:d,id:r,type:y,"aria-expanded":s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:f,onKeyUp:h,onClick:g};return Ze({ourProps:x,theirProps:i,slot:v,defaultTag:Gj,name:"Disclosure.Button"})}let Xj="div",Yj=yr.RenderStrategy|yr.Static;function Jj(t,e){let n=sn(),{id:r=`headlessui-disclosure-panel-${n}`,...i}=t,[s,o]=t0("Disclosure.Panel"),{close:a}=HT("Disclosure.Panel"),l=it(e,s.panelRef,g=>{$j(()=>o({type:g?4:5}))});m.useEffect(()=>(o({type:3,panelId:r}),()=>{o({type:3,panelId:null})}),[r,o]);let u=Ua(),d=(()=>u!==null?(u&ft.Open)===ft.Open:s.disclosureState===0)(),f=m.useMemo(()=>({open:s.disclosureState===0,close:a}),[s,a]),h={ref:l,id:r};return te.createElement(r0.Provider,{value:s.panelId},Ze({ourProps:h,theirProps:i,slot:f,defaultTag:Xj,features:Yj,visible:d,name:"Disclosure.Panel"}))}let Zj=Xe(Kj),eL=Xe(Qj),tL=Xe(Jj),nL=Object.assign(Zj,{Button:eL,Panel:tL}),Ex=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bx(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return Ex.test(o)&&(o=o.replace(Ex,"")),o}function rL(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():bx(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return bx(t).trim()}function iL(t){let e=m.useRef(""),n=m.useRef("");return oe(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=rL(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var sL=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(sL||{}),oL=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(oL||{}),aL=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(aL||{});function Yp(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=Yi(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let lL={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=Yp(t),i=RT(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=Yp(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=Yp(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},i0=m.createContext(null);i0.displayName="MenuContext";function _h(t){let e=m.useContext(i0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_h),n}return e}function uL(t,e){return qe(e.type,lL,t,e)}let cL=m.Fragment;function dL(t,e){let{__demoMode:n=!1,...r}=t,i=m.useReducer(uL,{__demoMode:n,menuState:n?0:1,buttonRef:m.createRef(),itemsRef:m.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,u=it(e);Qy([a,o],(g,v)=>{var y;l({type:1}),Gy(v,Ky.Loose)||(g.preventDefault(),(y=a.current)==null||y.focus())},s===0);let d=oe(()=>{l({type:1})}),f=m.useMemo(()=>({open:s===0,close:d}),[s,d]),h={ref:u};return te.createElement(i0.Provider,{value:i},te.createElement(wh,{value:qe(s,{0:ft.Open,1:ft.Closed})},Ze({ourProps:h,theirProps:r,slot:f,defaultTag:cL,name:"Menu"})))}let fL="button";function hL(t,e){var n;let r=sn(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=_h("Menu.Button"),l=it(o.buttonRef,e),u=Es(),d=oe(y=>{switch(y.key){case Re.Space:case Re.Enter:case Re.ArrowDown:y.preventDefault(),y.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:at.First}));break;case Re.ArrowUp:y.preventDefault(),y.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:at.Last}));break}}),f=oe(y=>{switch(y.key){case Re.Space:y.preventDefault();break}}),h=oe(y=>{if(yh(y.currentTarget))return y.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(y.preventDefault(),a({type:0})))}),g=m.useMemo(()=>({open:o.menuState===0}),[o]),v={ref:l,id:i,type:vh(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:d,onKeyUp:f,onClick:h};return Ze({ourProps:v,theirProps:s,slot:g,defaultTag:fL,name:"Menu.Button"})}let pL="div",mL=yr.RenderStrategy|yr.Static;function gL(t,e){var n,r;let i=sn(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=_h("Menu.Items"),u=it(a.itemsRef,e),d=fo(a.itemsRef),f=Es(),h=Ua(),g=(()=>h!==null?(h&ft.Open)===ft.Open:a.menuState===0)();m.useEffect(()=>{let p=a.itemsRef.current;p&&a.menuState===0&&p!==(d==null?void 0:d.activeElement)&&p.focus({preventScroll:!0})},[a.menuState,a.itemsRef,d]),CT({container:a.itemsRef.current,enabled:a.menuState===0,accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let v=oe(p=>{var E,w;switch(f.dispose(),p.key){case Re.Space:if(a.searchQuery!=="")return p.preventDefault(),p.stopPropagation(),l({type:3,value:p.key});case Re.Enter:if(p.preventDefault(),p.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:b}=a.items[a.activeItemIndex];(w=(E=b.current)==null?void 0:E.domRef.current)==null||w.click()}bT(a.buttonRef.current);break;case Re.ArrowDown:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:at.Next});case Re.ArrowUp:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:at.Previous});case Re.Home:case Re.PageUp:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:at.First});case Re.End:case Re.PageDown:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:at.Last});case Re.Escape:p.preventDefault(),p.stopPropagation(),l({type:1}),ir().nextFrame(()=>{var b;return(b=a.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})});break;case Re.Tab:p.preventDefault(),p.stopPropagation(),l({type:1}),ir().nextFrame(()=>{GD(a.buttonRef.current,p.shiftKey?Kt.Previous:Kt.Next)});break;default:p.key.length===1&&(l({type:3,value:p.key}),f.setTimeout(()=>l({type:4}),350));break}}),y=oe(p=>{switch(p.key){case Re.Space:p.preventDefault();break}}),x=m.useMemo(()=>({open:a.menuState===0}),[a]),_={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:v,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return Ze({ourProps:_,theirProps:o,slot:x,defaultTag:pL,features:mL,visible:g,name:"Menu.Items"})}let vL=m.Fragment;function yL(t,e){let n=sn(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=_h("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=m.useRef(null),d=it(e,u);Je(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let b=ir();return b.requestAnimationFrame(()=>{var T,R;(R=(T=u.current)==null?void 0:T.scrollIntoView)==null||R.call(T,{block:"nearest"})}),b.dispose},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let f=iL(u),h=m.useRef({disabled:i,domRef:u,get textValue(){return f()}});Je(()=>{h.current.disabled=i},[h,i]),Je(()=>(a({type:5,id:r,dataRef:h}),()=>a({type:6,id:r})),[h,r]);let g=oe(()=>{a({type:1})}),v=oe(b=>{if(i)return b.preventDefault();a({type:1}),bT(o.buttonRef.current)}),y=oe(()=>{if(i)return a({type:2,focus:at.Nothing});a({type:2,focus:at.Specific,id:r})}),x=DT(),_=oe(b=>x.update(b)),p=oe(b=>{x.wasMoved(b)&&(i||l||a({type:2,focus:at.Specific,id:r,trigger:0}))}),E=oe(b=>{x.wasMoved(b)&&(i||l&&a({type:2,focus:at.Nothing}))}),w=m.useMemo(()=>({active:l,disabled:i,close:g}),[l,i,g]);return Ze({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:v,onFocus:y,onPointerEnter:_,onMouseEnter:_,onPointerMove:p,onMouseMove:p,onPointerLeave:E,onMouseLeave:E},theirProps:s,slot:w,defaultTag:vL,name:"Menu.Item"})}let wL=Xe(dL),_L=Xe(hL),xL=Xe(gL),EL=Xe(yL),ji=Object.assign(wL,{Button:_L,Items:xL,Item:EL});function bL(t=0){let[e,n]=m.useState(t),r=za(),i=m.useCallback(l=>{r.current&&n(u=>u|l)},[e,r]),s=m.useCallback(l=>!!(e&l),[e]),o=m.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=m.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function SL({onFocus:t}){let[e,n]=m.useState(!0),r=za();return e?te.createElement(Ea,{as:"button",type:"button",features:xa.Focusable,onFocus:i=>{i.preventDefault();let s,o=50;function a(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(t()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(a)}s=requestAnimationFrame(a)}}):null}const WT=m.createContext(null);function TL(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(e))!=null?n:0;r.set(e,i+1);let s=Array.from(r.keys()).indexOf(e);function o(){let a=r.get(e);a>1?r.set(e,a-1):r.delete(e)}return[s,o]}}}function IL({children:t}){let e=m.useRef(TL());return m.createElement(WT.Provider,{value:e},t)}function qT(t){let e=m.useContext(WT);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=CL(),[r,i]=e.current.get(t,n);return m.useEffect(()=>i,[]),r}function CL(){var t,e,n;let r=(n=(e=(t=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:e.current)!=null?n:null;if(!r)return Symbol();let i=[],s=r;for(;s;)i.push(s.index),s=s.return;return"$."+i.join(".")}var RL=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(RL||{}),kL=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(kL||{}),PL=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(PL||{});let AL={0(t,e){var n;let r=Yi(t.tabs,d=>d.current),i=Yi(t.panels,d=>d.current),s=r.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),o={...t,tabs:r,panels:i};if(e.index<0||e.index>r.length-1){let d=qe(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>qe(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let f=qe(d,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...o,selectedIndex:f===-1?t.selectedIndex:f}}let a=r.slice(0,e.index),l=[...r.slice(e.index),...a].find(d=>s.includes(d));if(!l)return o;let u=(n=r.indexOf(l))!=null?n:t.selectedIndex;return u===-1&&(u=t.selectedIndex),{...o,selectedIndex:u}},1(t,e){var n;if(t.tabs.includes(e.tab))return t;let r=t.tabs[t.selectedIndex],i=Yi([...t.tabs,e.tab],o=>o.current),s=(n=i.indexOf(r))!=null?n:t.selectedIndex;return s===-1&&(s=t.selectedIndex),{...t,tabs:i,selectedIndex:s}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:Yi([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},s0=m.createContext(null);s0.displayName="TabsDataContext";function ba(t){let e=m.useContext(s0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ba),n}return e}let o0=m.createContext(null);o0.displayName="TabsActionsContext";function a0(t){let e=m.useContext(o0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,a0),n}return e}function NL(t,e){return qe(e.type,AL,t,e)}let DL=m.Fragment;function OL(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:s,selectedIndex:o=null,...a}=t;const l=r?"vertical":"horizontal",u=i?"manual":"auto";let d=o!==null,f=it(e),[h,g]=m.useReducer(NL,{selectedIndex:o??n,tabs:[],panels:[]}),v=m.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),y=Yn(s||(()=>{})),x=Yn(h.tabs),_=m.useMemo(()=>({orientation:l,activation:u,...h}),[l,u,h]),p=oe(C=>(g({type:1,tab:C}),()=>g({type:2,tab:C}))),E=oe(C=>(g({type:3,panel:C}),()=>g({type:4,panel:C}))),w=oe(C=>{b.current!==C&&y.current(C),d||g({type:0,index:C})}),b=Yn(d?t.selectedIndex:h.selectedIndex),T=m.useMemo(()=>({registerTab:p,registerPanel:E,change:w}),[]);Je(()=>{g({type:0,index:o??n})},[o]),Je(()=>{if(b.current===void 0||h.tabs.length<=0)return;let C=Yi(h.tabs,k=>k.current);C.some((k,N)=>h.tabs[N]!==k)&&w(C.indexOf(h.tabs[b.current]))});let R={ref:f};return te.createElement(IL,null,te.createElement(o0.Provider,{value:T},te.createElement(s0.Provider,{value:_},_.tabs.length<=0&&te.createElement(SL,{onFocus:()=>{var C,k;for(let N of x.current)if(((C=N.current)==null?void 0:C.tabIndex)===0)return(k=N.current)==null||k.focus(),!0;return!1}}),Ze({ourProps:R,theirProps:a,slot:v,defaultTag:DL,name:"Tabs"}))))}let jL="div";function LL(t,e){let{orientation:n,selectedIndex:r}=ba("Tab.List"),i=it(e);return Ze({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:t,slot:{selectedIndex:r},defaultTag:jL,name:"Tabs.List"})}let ML="button";function FL(t,e){var n,r;let i=sn(),{id:s=`headlessui-tabs-tab-${i}`,...o}=t,{orientation:a,activation:l,selectedIndex:u,tabs:d,panels:f}=ba("Tab"),h=a0("Tab"),g=ba("Tab"),v=m.useRef(null),y=it(v,e);Je(()=>h.registerTab(v),[h,v]);let x=qT("tabs"),_=d.indexOf(v);_===-1&&(_=x);let p=_===u,E=oe(N=>{var z;let S=N();if(S===Go.Success&&l==="auto"){let I=(z=$a(v))==null?void 0:z.activeElement,O=g.tabs.findIndex(L=>L.current===I);O!==-1&&h.change(O)}return S}),w=oe(N=>{let z=d.map(S=>S.current).filter(Boolean);if(N.key===Re.Space||N.key===Re.Enter){N.preventDefault(),N.stopPropagation(),h.change(_);return}switch(N.key){case Re.Home:case Re.PageUp:return N.preventDefault(),N.stopPropagation(),E(()=>Cr(z,Kt.First));case Re.End:case Re.PageDown:return N.preventDefault(),N.stopPropagation(),E(()=>Cr(z,Kt.Last))}if(E(()=>qe(a,{vertical(){return N.key===Re.ArrowUp?Cr(z,Kt.Previous|Kt.WrapAround):N.key===Re.ArrowDown?Cr(z,Kt.Next|Kt.WrapAround):Go.Error},horizontal(){return N.key===Re.ArrowLeft?Cr(z,Kt.Previous|Kt.WrapAround):N.key===Re.ArrowRight?Cr(z,Kt.Next|Kt.WrapAround):Go.Error}}))===Go.Success)return N.preventDefault()}),b=m.useRef(!1),T=oe(()=>{var N;b.current||(b.current=!0,(N=v.current)==null||N.focus({preventScroll:!0}),h.change(_),Qu(()=>{b.current=!1}))}),R=oe(N=>{N.preventDefault()}),C=m.useMemo(()=>({selected:p}),[p]),k={ref:y,onKeyDown:w,onMouseDown:R,onClick:T,id:s,role:"tab",type:vh(t,v),"aria-controls":(r=(n=f[_])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":p,tabIndex:p?0:-1};return Ze({ourProps:k,theirProps:o,slot:C,defaultTag:ML,name:"Tabs.Tab"})}let VL="div";function $L(t,e){let{selectedIndex:n}=ba("Tab.Panels"),r=it(e),i=m.useMemo(()=>({selectedIndex:n}),[n]);return Ze({ourProps:{ref:r},theirProps:t,slot:i,defaultTag:VL,name:"Tabs.Panels"})}let UL="div",BL=yr.RenderStrategy|yr.Static;function zL(t,e){var n,r,i,s;let o=sn(),{id:a=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...u}=t,{selectedIndex:d,tabs:f,panels:h}=ba("Tab.Panel"),g=a0("Tab.Panel"),v=m.useRef(null),y=it(v,e);Je(()=>g.registerPanel(v),[g,v]);let x=qT("panels"),_=h.indexOf(v);_===-1&&(_=x);let p=_===d,E=m.useMemo(()=>({selected:p}),[p]),w={ref:y,id:a,role:"tabpanel","aria-labelledby":(r=(n=f[_])==null?void 0:n.current)==null?void 0:r.id,tabIndex:p?l:-1};return!p&&((i=u.unmount)==null||i)&&!((s=u.static)!=null&&s)?te.createElement(Ea,{as:"span",...w}):Ze({ourProps:w,theirProps:u,slot:E,defaultTag:UL,features:BL,visible:p,name:"Tabs.Panel"})}let HL=Xe(FL),WL=Xe(OL),qL=Xe(LL),KL=Xe($L),GL=Xe(zL),yl=Object.assign(HL,{Group:WL,List:qL,Panels:KL,Panel:GL});function QL(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Jp(t,...e){t&&e.length>0&&t.classList.add(...e)}function Zp(t,...e){t&&e.length>0&&t.classList.remove(...e)}function XL(t,e){let n=ir();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{e(),u.dispose()},a),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let l=n.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function YL(t,e,n,r){let i=n?"enter":"leave",s=ir(),o=r!==void 0?QL(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=qe(i,{enter:()=>e.enter,leave:()=>e.leave}),l=qe(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=qe(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Zp(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Jp(t,...e.base,...a,...u),s.nextFrame(()=>{Zp(t,...e.base,...a,...u),Jp(t,...e.base,...a,...l),XL(t,()=>(Zp(t,...e.base,...a),Jp(t,...e.base,...e.entered),o()))}),s.dispose}function JL({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=za(),a=Es(),l=Yn(n);Je(()=>{t&&(l.current="enter")},[t]),Je(()=>{let u=ir();a.add(u.dispose);let d=e.current;if(d&&l.current!=="idle"&&o.current)return u.dispose(),i.current(l.current),u.add(YL(d,r.current,l.current==="enter",()=>{u.dispose(),s.current(l.current)})),u.dispose},[n])}function Li(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let xh=m.createContext(null);xh.displayName="TransitionContext";var ZL=(t=>(t.Visible="visible",t.Hidden="hidden",t))(ZL||{});function eM(){let t=m.useContext(xh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function tM(){let t=m.useContext(Eh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Eh=m.createContext(null);Eh.displayName="NestingContext";function bh(t){return"children"in t?bh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function KT(t,e){let n=Yn(t),r=m.useRef([]),i=za(),s=Es(),o=oe((g,v=Ji.Hidden)=>{let y=r.current.findIndex(({el:x})=>x===g);y!==-1&&(qe(v,{[Ji.Unmount](){r.current.splice(y,1)},[Ji.Hidden](){r.current[y].state="hidden"}}),s.microTask(()=>{var x;!bh(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),a=oe(g=>{let v=r.current.find(({el:y})=>y===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>o(g,Ji.Unmount)}),l=m.useRef([]),u=m.useRef(Promise.resolve()),d=m.useRef({enter:[],leave:[],idle:[]}),f=oe((g,v,y)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([x])=>x!==g)),e==null||e.chains.current[v].push([g,new Promise(x=>{l.current.push(x)})]),e==null||e.chains.current[v].push([g,new Promise(x=>{Promise.all(d.current[v].map(([_,p])=>p)).then(()=>x())})]),v==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(v)):y(v)}),h=oe((g,v,y)=>{Promise.all(d.current[v].splice(0).map(([x,_])=>_)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>y(v))});return m.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:h,wait:u,chains:d}),[a,o,r,f,h,d,u])}function nM(){}let rM=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Sx(t){var e;let n={};for(let r of rM)n[r]=(e=t[r])!=null?e:nM;return n}function iM(t){let e=m.useRef(Sx(t));return m.useEffect(()=>{e.current=Sx(t)},[t]),e}let sM="div",GT=yr.RenderStrategy;function oM(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:u,enterTo:d,entered:f,leave:h,leaveFrom:g,leaveTo:v,...y}=t,x=m.useRef(null),_=it(x,e),p=(n=y.unmount)==null||n?Ji.Unmount:Ji.Hidden,{show:E,appear:w,initial:b}=eM(),[T,R]=m.useState(E?"visible":"hidden"),C=tM(),{register:k,unregister:N}=C;m.useEffect(()=>k(x),[k,x]),m.useEffect(()=>{if(p===Ji.Hidden&&x.current){if(E&&T!=="visible"){R("visible");return}return qe(T,{hidden:()=>N(x),visible:()=>k(x)})}},[T,x,k,N,E,p]);let z=Yn({base:Li(y.className),enter:Li(l),enterFrom:Li(u),enterTo:Li(d),entered:Li(f),leave:Li(h),leaveFrom:Li(g),leaveTo:Li(v)}),S=iM({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),I=Va();m.useEffect(()=>{if(I&&T==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,T,I]);let O=b&&!w,L=w&&E&&b,$=(()=>!I||O?"idle":E?"enter":"leave")(),H=bL(0),A=oe(ne=>qe(ne,{enter:()=>{H.addFlag(ft.Opening),S.current.beforeEnter()},leave:()=>{H.addFlag(ft.Closing),S.current.beforeLeave()},idle:()=>{}})),D=oe(ne=>qe(ne,{enter:()=>{H.removeFlag(ft.Opening),S.current.afterEnter()},leave:()=>{H.removeFlag(ft.Closing),S.current.afterLeave()},idle:()=>{}})),j=KT(()=>{R("hidden"),N(x)},C);JL({immediate:L,container:x,classes:z,direction:$,onStart:Yn(ne=>{j.onStart(x,ne,A)}),onStop:Yn(ne=>{j.onStop(x,ne,D),ne==="leave"&&!bh(j)&&(R("hidden"),N(x))})});let Z=y,re={ref:_};return L?Z={...Z,className:sf(y.className,...z.current.enter,...z.current.enterFrom)}:(Z.className=sf(y.className,(r=x.current)==null?void 0:r.className),Z.className===""&&delete Z.className),te.createElement(Eh.Provider,{value:j},te.createElement(wh,{value:qe(T,{visible:ft.Open,hidden:ft.Closed})|H.flags},Ze({ourProps:re,theirProps:Z,defaultTag:sM,features:GT,visible:T==="visible",name:"Transition.Child"})))}function aM(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=m.useRef(null),a=it(o,e);Va();let l=Ua();if(n===void 0&&l!==null&&(n=(l&ft.Open)===ft.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=m.useState(n?"visible":"hidden"),f=KT(()=>{d("hidden")}),[h,g]=m.useState(!0),v=m.useRef([n]);Je(()=>{h!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let y=m.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);m.useEffect(()=>{if(n)d("visible");else if(!bh(f))d("hidden");else{let E=o.current;if(!E)return;let w=E.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&d("hidden")}},[n,f]);let x={unmount:i},_=oe(()=>{var E;h&&g(!1),(E=t.beforeEnter)==null||E.call(t)}),p=oe(()=>{var E;h&&g(!1),(E=t.beforeLeave)==null||E.call(t)});return te.createElement(Eh.Provider,{value:f},te.createElement(xh.Provider,{value:y},Ze({ourProps:{...x,as:m.Fragment,children:te.createElement(QT,{ref:a,...x,...s,beforeEnter:_,beforeLeave:p})},theirProps:{},defaultTag:m.Fragment,features:GT,visible:u==="visible",name:"Transition"})))}function lM(t,e){let n=m.useContext(xh)!==null,r=Ua()!==null;return te.createElement(te.Fragment,null,!n&&r?te.createElement(Kg,{ref:e,...t}):te.createElement(QT,{ref:e,...t}))}let Kg=Xe(aM),QT=Xe(oM),uM=Xe(lM),It=Object.assign(Kg,{Child:uM,Root:Kg});function cM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const dM=m.forwardRef(cM),l0=dM;function fM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"}))}const hM=m.forwardRef(fM),pM=hM;function mM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))}const gM=m.forwardRef(mM),vM=gM;function yM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"}))}const wM=m.forwardRef(yM),Tx=wM;function _M({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}const xM=m.forwardRef(_M),Ix=xM;function EM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}const bM=m.forwardRef(EM),SM=bM;function TM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))}const IM=m.forwardRef(TM),CM=IM;function RM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))}const kM=m.forwardRef(RM),Cx=kM;function PM({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}))}const AM=m.forwardRef(PM),NM=AM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new OM;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jM=function(t){const e=XT(t);return YT.encodeByteArray(e,!0)},af=function(t){return jM(t).replace(/\./g,"")},JT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=()=>LM().__FIREBASE_DEFAULTS__,FM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JT(t[1]);return e&&JSON.parse(e)},Sh=()=>{try{return MM()||FM()||VM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZT=t=>{var e,n;return(n=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eI=t=>{const e=ZT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tI=()=>{var t;return(t=Sh())===null||t===void 0?void 0:t.config},nI=t=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[af(JSON.stringify(n)),af(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function BM(){var t;const e=(t=Sh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WM(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qM(){try{return typeof indexedDB=="object"}catch{return!1}}function KM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GM,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ni(i,a,r)}}function QM(t,e){return t.replace(XM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XM=/\{\$([^}]+)}/g;function YM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rx(s)&&Rx(o)){if(!lf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JM(t,e){const n=new ZM(t,e);return n.subscribe.bind(n)}class ZM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=em),i.error===void 0&&(i.error=em),i.complete===void 0&&(i.complete=em);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $M;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r4(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n4(t){return t===Ns?void 0:t}function r4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const s4={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},o4=Ue.INFO,a4={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},l4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u0{constructor(e){this.name=e,this._logLevel=o4,this._logHandler=l4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const u4=(t,e)=>e.some(n=>t instanceof n);let kx,Px;function c4(){return kx||(kx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d4(){return Px||(Px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iI=new WeakMap,Gg=new WeakMap,sI=new WeakMap,tm=new WeakMap,c0=new WeakMap;function f4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iI.set(n,t)}).catch(()=>{}),c0.set(e,t),e}function h4(t){if(Gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gg.set(t,e)}let Qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p4(t){Qg=t(Qg)}function m4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nm(this),e,...n);return sI.set(r,e.sort?e.sort():[e]),cs(r)}:d4().includes(t)?function(...e){return t.apply(nm(this),e),cs(iI.get(this))}:function(...e){return cs(t.apply(nm(this),e))}}function g4(t){return typeof t=="function"?m4(t):(t instanceof IDBTransaction&&h4(t),u4(t,c4())?new Proxy(t,Qg):t)}function cs(t){if(t instanceof IDBRequest)return f4(t);if(tm.has(t))return tm.get(t);const e=g4(t);return e!==t&&(tm.set(t,e),c0.set(e,t)),e}const nm=t=>c0.get(t);function v4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cs(o.result),l.oldVersion,l.newVersion,cs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const y4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],rm=new Map;function Ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=w4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return rm.set(e,s),s}p4(t=>({...t,get:(e,n,r)=>Ax(e,n)||t.get(e,n,r),has:(e,n)=>!!Ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",Nx="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new u0("@firebase/app"),E4="@firebase/app-compat",b4="@firebase/analytics-compat",S4="@firebase/analytics",T4="@firebase/app-check-compat",I4="@firebase/app-check",C4="@firebase/auth",R4="@firebase/auth-compat",k4="@firebase/database",P4="@firebase/database-compat",A4="@firebase/functions",N4="@firebase/functions-compat",D4="@firebase/installations",O4="@firebase/installations-compat",j4="@firebase/messaging",L4="@firebase/messaging-compat",M4="@firebase/performance",F4="@firebase/performance-compat",V4="@firebase/remote-config",$4="@firebase/remote-config-compat",U4="@firebase/storage",B4="@firebase/storage-compat",z4="@firebase/firestore",H4="@firebase/firestore-compat",W4="firebase",q4="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",K4={[Xg]:"fire-core",[E4]:"fire-core-compat",[S4]:"fire-analytics",[b4]:"fire-analytics-compat",[I4]:"fire-app-check",[T4]:"fire-app-check-compat",[C4]:"fire-auth",[R4]:"fire-auth-compat",[k4]:"fire-rtdb",[P4]:"fire-rtdb-compat",[A4]:"fire-fn",[N4]:"fire-fn-compat",[D4]:"fire-iid",[O4]:"fire-iid-compat",[j4]:"fire-fcm",[L4]:"fire-fcm-compat",[M4]:"fire-perf",[F4]:"fire-perf-compat",[V4]:"fire-rc",[$4]:"fire-rc-compat",[U4]:"fire-gcs",[B4]:"fire-gcs-compat",[z4]:"fire-fst",[H4]:"fire-fst-compat","fire-js":"fire-js",[W4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,Jg=new Map;function G4(t,e){try{t.container.addComponent(e)}catch(n){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(Jg.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,t);for(const n of uf.values())G4(n,t);return!0}function Th(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ds=new Ju("app","Firebase",Q4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=q4;function oI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ds.create("bad-app-name",{appName:String(i)});if(n||(n=tI()),!n)throw ds.create("no-options");const s=uf.get(i);if(s){if(lf(n,s.options)&&lf(r,s.config))return s;throw ds.create("duplicate-app",{appName:i})}const o=new i4(i);for(const l of Jg.values())o.addComponent(l);const a=new X4(n,r,o);return uf.set(i,a),a}function d0(t=Yg){const e=uf.get(t);if(!e&&t===Yg&&tI())return oI();if(!e)throw ds.create("no-app",{appName:t});return e}function Qr(t,e,n){var r;let i=(r=K4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}no(new ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="firebase-heartbeat-database",J4=1,Eu="firebase-heartbeat-store";let im=null;function aI(){return im||(im=v4(Y4,J4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Eu)}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),im}async function Z4(t){try{return await(await aI()).transaction(Eu).objectStore(Eu).get(lI(t))}catch(e){if(e instanceof ni)to.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(n.message)}}}async function Dx(t,e){try{const r=(await aI()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(e,lI(t)),await r.done}catch(n){if(n instanceof ni)to.warn(n.message);else{const r=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});to.warn(r.message)}}}function lI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=1024,tF=30*24*60*60*1e3;class nF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ox();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=tF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ox(),{heartbeatsToSend:n,unsentEntries:r}=rF(this._heartbeatsCache.heartbeats),i=af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ox(){return new Date().toISOString().substring(0,10)}function rF(t,e=eF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qM()?KM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Z4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jx(t){return af(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){no(new ms("platform-logger",e=>new _4(e),"PRIVATE")),no(new ms("heartbeat",e=>new nF(e),"PRIVATE")),Qr(Xg,Nx,t),Qr(Xg,Nx,"esm2017"),Qr("fire-js","")}sF("");var oF="firebase",aF="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(oF,aF,"app");var lF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,f0=f0||{},ke=lF||self;function Ih(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ec(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function uF(t){return Object.prototype.hasOwnProperty.call(t,sm)&&t[sm]||(t[sm]=++cF)}var sm="closure_uid_"+(1e9*Math.random()>>>0),cF=0;function dF(t,e,n){return t.call.apply(t.bind,arguments)}function fF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sn=dF:Sn=fF,Sn.apply(null,arguments)}function Qc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function on(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function bs(){this.s=this.s,this.o=this.o}var hF=0;bs.prototype.s=!1;bs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hF!=0)&&uF(this)};bs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function h0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Lx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ih(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Tn.prototype.h=function(){this.defaultPrevented=!0};var pF=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ke.addEventListener("test",()=>{},e),ke.removeEventListener("test",()=>{},e)}catch{}return t}();function bu(t){return/^[\s\xa0]*$/.test(t)}function Ch(){var t=ke.navigator;return t&&(t=t.userAgent)?t:""}function Br(t){return Ch().indexOf(t)!=-1}function p0(t){return p0[" "](t),t}p0[" "]=function(){};function mF(t,e){var n=a3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gF=Br("Opera"),Sa=Br("Trident")||Br("MSIE"),cI=Br("Edge"),Zg=cI||Sa,dI=Br("Gecko")&&!(Ch().toLowerCase().indexOf("webkit")!=-1&&!Br("Edge"))&&!(Br("Trident")||Br("MSIE"))&&!Br("Edge"),vF=Ch().toLowerCase().indexOf("webkit")!=-1&&!Br("Edge");function fI(){var t=ke.document;return t?t.documentMode:void 0}var ev;e:{var om="",am=function(){var t=Ch();if(dI)return/rv:([^\);]+)(\)|;)/.exec(t);if(cI)return/Edge\/([\d\.]+)/.exec(t);if(Sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vF)return/WebKit\/(\S+)/.exec(t);if(gF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(am&&(om=am?am[1]:""),Sa){var lm=fI();if(lm!=null&&lm>parseFloat(om)){ev=String(lm);break e}}ev=om}var tv;if(ke.document&&Sa){var Mx=fI();tv=Mx||parseInt(ev,10)||void 0}else tv=void 0;var yF=tv;function Su(t,e){if(Tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dI){e:{try{p0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Su.$.h.call(this)}}on(Su,Tn);var wF={2:"touch",3:"pen",4:"mouse"};Su.prototype.h=function(){Su.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tc="closure_listenable_"+(1e6*Math.random()|0),_F=0;function xF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_F,this.fa=this.ia=!1}function Rh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function m0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function EF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hI(t){const e={};for(const n in t)e[n]=t[n];return e}const Fx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Fx.length;s++)n=Fx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kh(t){this.src=t,this.g={},this.h=0}kh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=rv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new xF(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function nv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var g0="closure_lm_"+(1e6*Math.random()|0),um={};function mI(t,e,n,r,i){if(r&&r.once)return vI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mI(t,e[s],n,r,i);return null}return n=w0(n),t&&t[tc]?t.O(e,n,ec(r)?!!r.capture:!!r,i):gI(t,e,n,!1,r,i)}function gI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ec(i)?!!i.capture:!!i,a=y0(t);if(a||(t[g0]=a=new kh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=bF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pF||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bF(){function t(n){return e.call(t.src,t.listener,n)}const e=SF;return t}function vI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vI(t,e[s],n,r,i);return null}return n=w0(n),t&&t[tc]?t.P(e,n,ec(r)?!!r.capture:!!r,i):gI(t,e,n,!0,r,i)}function yI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yI(t,e[s],n,r,i);else r=ec(r)?!!r.capture:!!r,n=w0(n),t&&t[tc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=rv(s,n,r,i),-1<n&&(Rh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=y0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rv(e,n,r,i)),(n=-1<t?e[t]:null)&&v0(n))}function v0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[tc])nv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=y0(e))?(nv(n,t),n.h==0&&(n.src=null,e[g0]=null)):Rh(t)}}}function wI(t){return t in um?um[t]:um[t]="on"+t}function SF(t,e){if(t.fa)t=!0;else{e=new Su(e,this);var n=t.listener,r=t.la||t.src;t.ia&&v0(t),t=n.call(r,e)}return t}function y0(t){return t=t[g0],t instanceof kh?t:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function w0(t){return typeof t=="function"?t:(t[cm]||(t[cm]=function(e){return t.handleEvent(e)}),t[cm])}function rn(){bs.call(this),this.i=new kh(this),this.S=this,this.J=null}on(rn,bs);rn.prototype[tc]=!0;rn.prototype.removeEventListener=function(t,e,n,r){yI(this,t,e,n,r)};function pn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Tn(e,t);else if(e instanceof Tn)e.target=e.target||t;else{var i=e;e=new Tn(r,t),pI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Xc(o,r,!0,e)&&i}if(o=e.g=t,i=Xc(o,r,!0,e)&&i,i=Xc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Xc(o,r,!1,e)&&i}rn.prototype.N=function(){if(rn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.J=null};rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Xc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&nv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var _0=ke.JSON.stringify;class TF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IF(){var t=x0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CF{constructor(){this.h=this.g=null}add(e,n){const r=_I.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _I=new TF(()=>new RF,t=>t.reset());class RF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kF(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function PF(t){ke.setTimeout(()=>{throw t},0)}let Tu,Iu=!1,x0=new CF,xI=()=>{const t=ke.Promise.resolve(void 0);Tu=()=>{t.then(AF)}};var AF=()=>{for(var t;t=IF();){try{t.h.call(t.g)}catch(n){PF(n)}var e=_I;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Iu=!1};function Ph(t,e){rn.call(this),this.h=t||1,this.g=e||ke,this.j=Sn(this.qb,this),this.l=Date.now()}on(Ph,rn);ie=Ph.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(E0(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function E0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){Ph.$.N.call(this),E0(this),delete this.g};function b0(t,e,n){if(typeof t=="function")n&&(t=Sn(t,n));else if(t&&typeof t.handleEvent=="function")t=Sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ke.setTimeout(t,e||0)}function EI(t){t.g=b0(()=>{t.g=null,t.i&&(t.i=!1,EI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class NF extends bs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EI(this)}N(){super.N(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cu(t){bs.call(this),this.h=t,this.g={}}on(Cu,bs);var Vx=[];function bI(t,e,n,r){Array.isArray(n)||(n&&(Vx[0]=n.toString()),n=Vx);for(var i=0;i<n.length;i++){var s=mI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SI(t){m0(t.g,function(e,n){this.g.hasOwnProperty(n)&&v0(e)},t),t.g={}}Cu.prototype.N=function(){Cu.$.N.call(this),SI(this)};Cu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ah(){this.g=!0}Ah.prototype.Ea=function(){this.g=!1};function DF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function OF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+LF(t,n)+(r?" "+r:"")})}function jF(t,e){t.info(function(){return"TIMEOUT: "+e})}Ah.prototype.info=function(){};function LF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _0(n)}catch{return e}}var po={},$x=null;function Nh(){return $x=$x||new rn}po.Ta="serverreachability";function TI(t){Tn.call(this,po.Ta,t)}on(TI,Tn);function Ru(t){const e=Nh();pn(e,new TI(e))}po.STAT_EVENT="statevent";function II(t,e){Tn.call(this,po.STAT_EVENT,t),this.stat=e}on(II,Tn);function jn(t){const e=Nh();pn(e,new II(e,t))}po.Ua="timingevent";function CI(t,e){Tn.call(this,po.Ua,t),this.size=e}on(CI,Tn);function nc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){t()},e)}var Dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function S0(){}S0.prototype.h=null;function Ux(t){return t.h||(t.h=t.i())}function kI(){}var rc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function T0(){Tn.call(this,"d")}on(T0,Tn);function I0(){Tn.call(this,"c")}on(I0,Tn);var iv;function Oh(){}on(Oh,S0);Oh.prototype.g=function(){return new XMLHttpRequest};Oh.prototype.i=function(){return{}};iv=new Oh;function ic(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Cu(this),this.P=MF,t=Zg?125:void 0,this.V=new Ph(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PI}function PI(){this.i=null,this.g="",this.h=!1}var MF=45e3,sv={},cf={};ie=ic.prototype;ie.setTimeout=function(t){this.P=t};function ov(t,e,n){t.L=1,t.v=Lh(Ti(e)),t.s=n,t.S=!0,AI(t,null)}function AI(t,e){t.G=Date.now(),sc(t),t.A=Ti(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),VI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new PI,t.g=oC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new NF(Sn(t.Pa,t,t.g),t.O)),bI(t.U,t.g,"readystatechange",t.nb),e=t.I?hI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ru(),DF(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&zr(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const d=zr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Zg||this.g&&(this.h.h||this.g.ja()||Wx(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?Ru(3):Ru(2)),jh(this);var n=this.g.da();this.ca=n;t:if(NI(this)){var r=Wx(this.g);t="";var i=r.length,s=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),Kl(this);var o="";break t}this.h.i=new ke.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,OF(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bu(a)){var u=a;break t}}u=null}if(n=u)Qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,av(this,n);else{this.i=!1,this.o=3,jn(12),Vs(this),Kl(this);break e}}this.S?(DI(this,d,o),Zg&&this.i&&d==3&&(bI(this.U,this.V,"tick",this.mb),this.V.start())):(Qo(this.j,this.m,o,null),av(this,o)),d==4&&Vs(this),this.i&&!this.J&&(d==4?nC(this.l,this):(this.i=!1,sc(this)))}else i3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),Vs(this),Kl(this)}}}catch{}finally{}};function NI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function DI(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=FF(t,n),i==cf){e==4&&(t.o=4,jn(14),r=!1),Qo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==sv){t.o=4,jn(15),Qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Qo(t.j,t.m,i,null),av(t,i);NI(t)&&i!=cf&&i!=sv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),N0(e),e.M=!0,jn(11))):(Qo(t.j,t.m,n,"[Invalid Chunked Response]"),Vs(t),Kl(t))}ie.mb=function(){if(this.g){var t=zr(this.g),e=this.g.ja();this.C<e.length&&(jh(this),DI(this,t,e),this.i&&t!=4&&sc(this))}};function FF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?cf:(n=Number(e.substring(n,r)),isNaN(n)?sv:(r+=1,r+n>e.length?cf:(e=e.slice(r,r+n),t.C=r+n,e)))}ie.cancel=function(){this.J=!0,Vs(this)};function sc(t){t.Y=Date.now()+t.P,OI(t,t.P)}function OI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=nc(Sn(t.lb,t),e)}function jh(t){t.B&&(ke.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(jF(this.j,this.A),this.L!=2&&(Ru(),jn(17)),Vs(this),this.o=2,Kl(this)):OI(this,this.Y-t)};function Kl(t){t.l.H==0||t.J||nC(t.l,t)}function Vs(t){jh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,E0(t.V),SI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function av(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||lv(n.i,t))){if(!t.K&&lv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hf(n),$h(n);else break e;A0(n),jn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nc(Sn(n.ib,n),6e3));if(1>=BI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $s(n,11)}else if((t.K||n.g==t)&&hf(n),!bu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(C0(s,s.h),s.h=null))}if(r.F){const y=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ht(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sC(r,r.J?r.pa:null,r.Y),o.K){zI(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(jh(a),sc(a)),r.g=o}else eC(r);0<n.j.length&&Uh(n)}else u[0]!="stop"&&u[0]!="close"||$s(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?$s(n,7):P0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ru(4)}catch{}}function VF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ih(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $F(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ih(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function jI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ih(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$F(t),r=VF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var LI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ws(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ws){this.h=t.h,df(this,t.j),this.s=t.s,this.g=t.g,ff(this,t.m),this.l=t.l;var e=t.i,n=new ku;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bx(this,n),this.o=t.o}else t&&(e=String(t).match(LI))?(this.h=!1,df(this,e[1]||"",!0),this.s=Nl(e[2]||""),this.g=Nl(e[3]||"",!0),ff(this,e[4]),this.l=Nl(e[5]||"",!0),Bx(this,e[6]||"",!0),this.o=Nl(e[7]||"")):(this.h=!1,this.i=new ku(null,this.h))}Ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Dl(e,zx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Dl(e,zx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Dl(n,n.charAt(0)=="/"?HF:zF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Dl(n,qF)),t.join("")};function Ti(t){return new Ws(t)}function df(t,e,n){t.j=n?Nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ff(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bx(t,e,n){e instanceof ku?(t.i=e,KF(t.i,t.h)):(n||(e=Dl(e,WF)),t.i=new ku(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function Lh(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,BF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function BF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zx=/[#\/\?@]/g,zF=/[#\?:]/g,HF=/[#\?]/g,WF=/[#\?@]/g,qF=/#/g;function ku(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ss(t){t.g||(t.g=new Map,t.h=0,t.i&&UF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=ku.prototype;ie.add=function(t,e){Ss(this),this.i=null,t=Ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function MI(t,e){Ss(t),e=Ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function FI(t,e){return Ss(t),e=Ha(t,e),t.g.has(e)}ie.forEach=function(t,e){Ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ie.ta=function(){Ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ie.Z=function(t){Ss(this);let e=[];if(typeof t=="string")FI(this,t)&&(e=e.concat(this.g.get(Ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Ss(this),this.i=null,t=Ha(this,t),FI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function VI(t,e,n){MI(t,e),0<n.length&&(t.i=null,t.g.set(Ha(t,e),h0(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KF(t,e){e&&!t.j&&(Ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MI(this,r),VI(this,i,n))},t)),t.j=e}var GF=class{constructor(t,e){this.g=t,this.map=e}};function $I(t){this.l=t||QF,ke.PerformanceNavigationTiming?(t=ke.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ke.g&&ke.g.Ka&&ke.g.Ka()&&ke.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var QF=10;function UI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BI(t){return t.h?1:t.g?t.g.size:0}function lv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function C0(t,e){t.g?t.g.add(e):t.h=e}function zI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$I.prototype.cancel=function(){if(this.i=HI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function HI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return h0(t.i)}var XF=class{stringify(t){return ke.JSON.stringify(t,void 0)}parse(t){return ke.JSON.parse(t,void 0)}};function YF(){this.g=new XF}function JF(t,e,n){const r=n||"";try{jI(t,function(i,s){let o=i;ec(i)&&(o=_0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZF(t,e){const n=new Ah;if(ke.Image){const r=new Image;r.onload=Qc(Yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qc(Yc,n,r,"TestLoadImage: error",!1,e),r.onabort=Qc(Yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qc(Yc,n,r,"TestLoadImage: timeout",!1,e),ke.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mh(t){this.l=t.ec||null,this.j=t.ob||!1}on(Mh,S0);Mh.prototype.g=function(){return new Fh(this.l,this.j)};Mh.prototype.i=function(t){return function(){return t}}({});function Fh(t,e){rn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=R0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on(Fh,rn);var R0=0;ie=Fh.prototype;ie.open=function(t,e){if(this.readyState!=R0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pu(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ke).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oc(this)),this.readyState=R0};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pu(this)),this.g&&(this.readyState=3,Pu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ke.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function WI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oc(this):Pu(this),this.readyState==3&&WI(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,oc(this))};ie.Ya=function(t){this.g&&(this.response=t,oc(this))};ie.ka=function(){this.g&&oc(this)};function oc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pu(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var e3=ke.JSON.parse;function jt(t){rn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qI,this.L=this.M=!1}on(jt,rn);var qI="",t3=/^https?$/i,n3=["POST","PUT"];ie=jt.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iv.g(),this.C=this.u?Ux(this.u):Ux(iv),this.g.onreadystatechange=Sn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Hx(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ke.FormData&&t instanceof ke.FormData,!(0<=uI(n3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QI(this),0<this.B&&((this.L=r3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.ua,this)):this.A=b0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Hx(this,s)}};function r3(t){return Sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof f0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))};function Hx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KI(t),Vh(t)}function KI(t){t.F||(t.F=!0,pn(t,"complete"),pn(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pn(this,"complete"),pn(this,"abort"),Vh(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vh(this,!0)),jt.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?GI(this):this.kb())};ie.kb=function(){GI(this)};function GI(t){if(t.h&&typeof f0<"u"&&(!t.C[1]||zr(t)!=4||t.da()!=2)){if(t.v&&zr(t)==4)b0(t.La,0,t);else if(pn(t,"readystatechange"),zr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(LI)[1]||null;!i&&ke.self&&ke.self.location&&(i=ke.self.location.protocol.slice(0,-1)),r=!t3.test(i?i.toLowerCase():"")}n=r}if(n)pn(t,"complete"),pn(t,"success");else{t.m=6;try{var s=2<zr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KI(t)}}finally{Vh(t)}}}}function Vh(t,e){if(t.g){QI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pn(t,"ready");try{n.onreadystatechange=r}catch{}}}function QI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ke.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function zr(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),e3(e)}};function Wx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case qI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function i3(t){const e={};t=(t.g&&2<=zr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(bu(t[r]))continue;var n=kF(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}EF(e,function(r){return r.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function XI(t){let e="";return m0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function k0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YI(t){this.Ga=0,this.j=[],this.l=new Ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,t),this.hb=wl("retryDelaySeedMs",1e4,t),this.eb=wl("forwardChannelMaxRetries",2,t),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $I(t&&t.concurrentRequestLimit),this.Ja=new YF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=YI.prototype;ie.ra=8;ie.H=1;function P0(t){if(JI(t),t.H==3){var e=t.W++,n=Ti(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),ac(t,n),e=new ic(t,t.l,e),e.L=2,e.v=Lh(Ti(n)),n=!1,ke.navigator&&ke.navigator.sendBeacon)try{n=ke.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ke.Image&&(new Image().src=e.v,n=!0),n||(e.g=oC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sc(e)}iC(t)}function $h(t){t.g&&(N0(t),t.g.cancel(),t.g=null)}function JI(t){$h(t),t.u&&(ke.clearTimeout(t.u),t.u=null),hf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ke.clearTimeout(t.m),t.m=null)}function Uh(t){if(!UI(t.i)&&!t.m){t.m=!0;var e=t.Na;Tu||xI(),Iu||(Tu(),Iu=!0),x0.add(e,t),t.C=0}}function s3(t,e){return BI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=nc(Sn(t.Na,t,e),rC(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ic(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hI(s),pI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZI(this,i,e),n=Ti(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),ac(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(XI(s)))+"&"+e:this.o&&k0(n,this.o,s)),C0(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,ov(i,n,null)):ov(i,n,e),this.H=2}}else this.H==3&&(t?qx(this,t):this.j.length==0||UI(this.i)||qx(this))};function qx(t,e){var n;e?n=e.m:n=t.W++;const r=Ti(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),ac(t,r),t.o&&t.s&&k0(r,t.o,t.s),n=new ic(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),C0(t.i,n),ov(n,r,e)}function ac(t,e){t.na&&m0(t.na,function(n,r){ht(e,r,n)}),t.h&&jI({},function(n,r){ht(e,r,n)})}function ZI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Sn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{JF(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function eC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Tu||xI(),Iu||(Tu(),Iu=!0),x0.add(e,t),t.A=0}}function A0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=nc(Sn(t.Ma,t),rC(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,tC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nc(Sn(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),$h(this),tC(this))};function N0(t){t.B!=null&&(ke.clearTimeout(t.B),t.B=null)}function tC(t){t.g=new ic(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ti(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),ac(t,e),t.o&&t.s&&k0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Lh(Ti(e)),n.s=null,n.S=!0,AI(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,$h(this),A0(this),jn(19))};function hf(t){t.v!=null&&(ke.clearTimeout(t.v),t.v=null)}function nC(t,e){var n=null;if(t.g==e){hf(t),N0(t),t.g=null;var r=2}else if(lv(t.i,e))n=e.F,zI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Nh(),pn(r,new CI(r,n)),Uh(t)}else eC(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&s3(t,e)||r==2&&A0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$s(t,5);break;case 4:$s(t,10);break;case 3:$s(t,6);break;default:$s(t,2)}}}function rC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $s(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Sn(t.pb,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),ke.location&&ke.location.protocol=="http"||df(n,"https"),Lh(n)),ZF(n.toString(),r)}else jn(2);t.H=0,t.h&&t.h.za(e),iC(t),JI(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))};function iC(t){if(t.H=0,t.ma=[],t.h){const e=HI(t.i);(e.length!=0||t.j.length!=0)&&(Lx(t.ma,e),Lx(t.ma,t.j),t.i.i.length=0,h0(t.j),t.j.length=0),t.h.ya()}}function sC(t,e,n){var r=n instanceof Ws?Ti(n):new Ws(n);if(r.g!="")e&&(r.g=e+"."+r.g),ff(r,r.m);else{var i=ke.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ws(null);r&&df(s,r),e&&(s.g=e),i&&ff(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),ac(t,r),r}function oC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new jt(new Mh({ob:!0})):new jt(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function aC(){}ie=aC.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function pf(){if(Sa&&!(10<=Number(yF)))throw Error("Environmental error: no available transport.")}pf.prototype.g=function(t,e){return new sr(t,e)};function sr(t,e){rn.call(this),this.g=new YI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!bu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wa(this)}on(sr,rn);sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sC(t,null,t.Y),Uh(t)};sr.prototype.close=function(){P0(this.g)};sr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_0(t),t=n);e.j.push(new GF(e.fb++,t)),e.H==3&&Uh(e)};sr.prototype.N=function(){this.g.h=null,delete this.j,P0(this.g),delete this.g,sr.$.N.call(this)};function lC(t){T0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}on(lC,T0);function uC(){I0.call(this),this.status=1}on(uC,I0);function Wa(t){this.g=t}on(Wa,aC);Wa.prototype.Ba=function(){pn(this.g,"a")};Wa.prototype.Aa=function(t){pn(this.g,new lC(t))};Wa.prototype.za=function(t){pn(this.g,new uC)};Wa.prototype.ya=function(){pn(this.g,"b")};function o3(){this.blockSize=-1}function Dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}on(Dr,o3);Dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Dr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)dm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dm(this,r),i=0;break}}this.h=i,this.i+=e};Dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function tt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var a3={};function D0(t){return-128<=t&&128>t?mF(t,function(e){return new tt([e|0],0>e?-1:0)}):new tt([t|0],0>t?-1:0)}function Hr(t){if(isNaN(t)||!isFinite(t))return sa;if(0>t)return dn(Hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=uv;return new tt(e,0)}function cC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dn(cC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hr(Math.pow(e,8)),r=sa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hr(Math.pow(e,s)),r=r.R(s).add(Hr(o))):(r=r.R(n),r=r.add(Hr(o)))}return r}var uv=4294967296,sa=D0(0),cv=D0(1),Kx=D0(16777216);ie=tt.prototype;ie.ea=function(){if(hr(this))return-dn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:uv+r)*e,e*=uv}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(hi(this))return"0";if(hr(this))return"-"+dn(this).toString(t);for(var e=Hr(Math.pow(t,6)),n=this,r="";;){var i=gf(n,e).g;n=mf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,hi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function hi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hr(t){return t.h==-1}ie.X=function(t){return t=mf(this,t),hr(t)?-1:hi(t)?0:1};function dn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new tt(n,~t.h).add(cv)}ie.abs=function(){return hr(this)?dn(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new tt(n,n[n.length-1]&-2147483648?-1:0)};function mf(t,e){return t.add(dn(e))}ie.R=function(t){if(hi(this)||hi(t))return sa;if(hr(this))return hr(t)?dn(this).R(dn(t)):dn(dn(this).R(t));if(hr(t))return dn(this.R(dn(t)));if(0>this.X(Kx)&&0>t.X(Kx))return Hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Jc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Jc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Jc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Jc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new tt(n,0)};function Jc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _l(t,e){this.g=t,this.h=e}function gf(t,e){if(hi(e))throw Error("division by zero");if(hi(t))return new _l(sa,sa);if(hr(t))return e=gf(dn(t),e),new _l(dn(e.g),dn(e.h));if(hr(e))return e=gf(t,dn(e)),new _l(dn(e.g),e.h);if(30<t.g.length){if(hr(t)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cv,r=e;0>=r.X(t);)n=Gx(n),r=Gx(r);var i=So(n,1),s=So(r,1);for(r=So(r,2),n=So(n,2);!hi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=So(r,1),n=So(n,1)}return e=mf(t,i.R(e)),new _l(i,e)}for(i=sa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hr(n),o=s.R(e);hr(o)||0<o.X(t);)n-=r,s=Hr(n),o=s.R(e);hi(s)&&(s=cv),i=i.add(s),t=mf(t,o)}return new _l(i,t)}ie.gb=function(t){return gf(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new tt(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new tt(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new tt(n,this.h^t.h)};function Gx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new tt(n,t.h)}function So(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new tt(i,t.h)}pf.prototype.createWebChannel=pf.prototype.g;sr.prototype.send=sr.prototype.u;sr.prototype.open=sr.prototype.m;sr.prototype.close=sr.prototype.close;Dh.NO_ERROR=0;Dh.TIMEOUT=8;Dh.HTTP_ERROR=6;RI.COMPLETE="complete";kI.EventType=rc;rc.OPEN="a";rc.CLOSE="b";rc.ERROR="c";rc.MESSAGE="d";rn.prototype.listen=rn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;Dr.prototype.digest=Dr.prototype.l;Dr.prototype.reset=Dr.prototype.reset;Dr.prototype.update=Dr.prototype.j;tt.prototype.add=tt.prototype.add;tt.prototype.multiply=tt.prototype.R;tt.prototype.modulo=tt.prototype.gb;tt.prototype.compare=tt.prototype.X;tt.prototype.toNumber=tt.prototype.ea;tt.prototype.toString=tt.prototype.toString;tt.prototype.getBits=tt.prototype.D;tt.fromNumber=Hr;tt.fromString=cC;var l3=function(){return new pf},u3=function(){return Nh()},fm=Dh,c3=RI,d3=po,Qx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zc=kI,f3=jt,h3=Dr,oa=tt;const Xx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new u0("@firebase/firestore");function xl(){return ro.logLevel}function he(t,...e){if(ro.logLevel<=Ue.DEBUG){const n=e.map(O0);ro.debug(`Firestore (${qa}): ${t}`,...n)}}function Ii(t,...e){if(ro.logLevel<=Ue.ERROR){const n=e.map(O0);ro.error(`Firestore (${qa}): ${t}`,...n)}}function Ta(t,...e){if(ro.logLevel<=Ue.WARN){const n=e.map(O0);ro.warn(`Firestore (${qa}): ${t}`,...n)}}function O0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+t;throw Ii(e),new Error(e)}function gt(t,e){t||Ce()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class m3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g3{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new dC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new _n(e)}}class v3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string"),this.R=n.token,new w3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=x3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Xt(0,0))}static max(){return new Ae(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Au.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Au?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends Au{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const E3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Au{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return E3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(pt.fromString(e))}static fromName(e){return new ge(pt.fromString(e).popFirst(5))}static empty(){return new ge(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new pt(e.slice()))}}function b3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new gs(i,ge.empty(),e)}function S3(t){return new gs(t.readTime,t.key,-1)}class gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gs(Ae.min(),ge.empty(),-1)}static max(){return new gs(Ae.max(),ge.empty(),-1)}}function T3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==I3)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new X((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}j0.ae=-1;function Bh(t){return t==null}function vf(t){return t===0&&1/t==-1/0}function R3(t){return typeof t=="number"&&Number.isInteger(t)&&!vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new er([])}unionWith(e){let n=new In(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pC("Invalid base64 string: "+s):s}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const k3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(t){if(gt(!!t),typeof t=="string"){let e=0;const n=k3.exec(t);if(gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function M0(t){const e=t.mapValue.fields.__previous_value__;return L0(e)?M0(e):e}function Nu(t){const e=vs(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Du{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L0(t)?4:A3(t)?9007199254740991:10:Ce()}function ei(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nu(t).isEqual(Nu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vs(i.timestampValue),a=vs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return io(i.bytesValue).isEqual(io(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return zt(i.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zt(i.integerValue)===zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=zt(i.doubleValue),a=zt(s.doubleValue);return o===a?vf(o)===vf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Yx(o)!==Yx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ei(o[l],a[l])))return!1;return!0}(t,e);default:return Ce()}}function Ou(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Ca(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=zt(s.integerValue||s.doubleValue),l=zt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Zx(t.timestampValue,e.timestampValue);case 4:return Zx(Nu(t),Nu(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=io(s),l=io(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Qe(a[u],l[u]);if(d!==0)return d}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(zt(s.latitude),zt(o.latitude));return a!==0?a:Qe(zt(s.longitude),zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Ca(a[u],l[u]);if(d)return d}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===td.mapValue&&o===td.mapValue)return 0;if(s===td.mapValue)return 1;if(o===td.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Qe(l[f],d[f]);if(h!==0)return h;const g=Ca(a[l[f]],u[d[f]]);if(g!==0)return g}return Qe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function Zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=vs(t),r=vs(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function Ra(t){return dv(t)}function dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dv(n.fields[o])}`;return i+"}"}(t.mapValue):Ce()}function e1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fv(t){return!!t&&"integerValue"in t}function F0(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function Gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function A3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Gl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qn(Gl(this.value))}}function mC(t){const e=[];return mo(t.fields,(n,r)=>{const i=new bn([n]);if(xd(r)){const s=mC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new En(e,0,Ae.min(),Ae.min(),Ae.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new En(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new En(e,2,n,Ae.min(),Ae.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ae.min(),Ae.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function r1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=Ca(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function i1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function N3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class Wt extends gC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O3(e,n,r):n==="array-contains"?new M3(e,r):n==="in"?new F3(e,r):n==="not-in"?new V3(e,r):n==="array-contains-any"?new $3(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j3(e,r):new L3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ca(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Or extends gC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Or(e,n)}matches(e){return vC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function vC(t){return t.op==="and"}function yC(t){return D3(t)&&vC(t)}function D3(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function hv(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Ra(t.value);if(yC(t))return t.filters.map(e=>hv(e)).join(",");{const e=t.filters.map(n=>hv(n)).join(",");return`${t.op}(${e})`}}function wC(t,e){return t instanceof Wt?function(r,i){return i instanceof Wt&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(t,e):t instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wC(o,i.filters[a]),!0):!1}(t,e):void Ce()}function _C(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ra(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"}(t):"Filter"}class O3 extends Wt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class j3 extends Wt{constructor(e,n){super(e,"in",n),this.keys=xC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L3 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=xC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class M3 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F0(n)&&Ou(n.arrayValue,this.value)}}class F3 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class V3 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ou(this.value.arrayValue,n)}}class $3 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function s1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new U3(t,e,n,r,i,s,o)}function V0(t){const e=De(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ra(r)).join(",")),e.he=n}return e.he}function $0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i1(t.startAt,e.startAt)&&i1(t.endAt,e.endAt)}function pv(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function B3(t,e,n,r,i,s,o,a){return new cc(t,e,n,r,i,s,o,a)}function U0(t){return new cc(t)}function o1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function B0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bC(t){return t.collectionGroup!==null}function Xl(t){const e=De(t);if(e.Pe===null){e.Pe=[];const n=B0(e),r=EC(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ql(n)),e.Pe.push(new Ql(bn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ql(bn.keyField(),s))}}}return e.Pe}function Xr(t){const e=De(t);return e.Ie||(e.Ie=z3(e,Xl(t))),e.Ie}function z3(t,e){if(t.limitType==="F")return s1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ql(i.field,s)});const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return s1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mv(t,e){e.getFirstInequalityField(),B0(t);const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gv(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return $0(Xr(t),Xr(e))&&t.limitType===e.limitType}function SC(t){return`${V0(Xr(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_C(i)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`}(Xr(t))}; limitType=${t.limitType})`}function Hh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Xl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=r1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Xl(r),i)||r.endAt&&!function(o,a,l){const u=r1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Xl(r),i))}(t,e)}function H3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const i of Xl(t)){const s=W3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function W3(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ca(l,u):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Pt(ge.comparator);function Ci(){return q3}const IC=new Pt(ge.comparator);function Ol(...t){let e=IC;for(const n of t)e=e.insert(n.key,n);return e}function CC(t){let e=IC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return Yl()}function RC(){return Yl()}function Yl(){return new Ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const K3=new Pt(ge.comparator),G3=new In(ge.comparator);function Fe(...t){let e=G3;for(const n of t)e=e.add(n);return e}const Q3=new In(Qe);function X3(){return Q3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function PC(t){return{integerValue:""+t}}function Y3(t,e){return R3(e)?PC(e):kC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function J3(t,e,n){return t instanceof wf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&L0(s)&&(s=M0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ju?NC(t,e):t instanceof Lu?DC(t,e):function(i,s){const o=AC(i,s),a=a1(o)+a1(i.Te);return fv(o)&&fv(i.Te)?PC(a):kC(i.serializer,a)}(t,e)}function Z3(t,e,n){return t instanceof ju?NC(t,e):t instanceof Lu?DC(t,e):n}function AC(t,e){return t instanceof _f?function(r){return fv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class wf extends Wh{}class ju extends Wh{constructor(e){super(),this.elements=e}}function NC(t,e){const n=OC(e);for(const r of t.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lu extends Wh{constructor(e){super(),this.elements=e}}function DC(t,e){let n=OC(e);for(const r of t.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}class _f extends Wh{constructor(e,n){super(),this.serializer=e,this.Te=n}}function a1(t){return zt(t.integerValue||t.doubleValue)}function OC(t){return F0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ju&&i instanceof ju||r instanceof Lu&&i instanceof Lu?Ia(r.elements,i.elements,ei):r instanceof _f&&i instanceof _f?ei(r.Te,i.Te):r instanceof wf&&i instanceof wf}(t.transform,e.transform)}class tV{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qh{}function jC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new z0(t.key,Ar.none()):new dc(t.key,t.data,Ar.none());{const n=t.data,r=qn.empty();let i=new In(bn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ts(t.key,r,new er(i.toArray()),Ar.none())}}function nV(t,e,n){t instanceof dc?function(i,s,o){const a=i.value.clone(),l=u1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ts?function(i,s,o){if(!Ed(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=u1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(LC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jl(t,e,n,r){return t instanceof dc?function(s,o,a,l){if(!Ed(s.precondition,o))return a;const u=s.value.clone(),d=c1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ts?function(s,o,a,l){if(!Ed(s.precondition,o))return a;const u=c1(s.fieldTransforms,l,o),d=o.data;return d.setAll(LC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ed(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AC(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function l1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ia(r,i,(s,o)=>eV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dc extends qh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends qh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u1(t,e,n){const r=new Map;gt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Z3(o,a,n[i]))}return r}function c1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,J3(s,o,e))}return r}class z0 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iV extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=jC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>l1(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>l1(n,r))}}class H0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){gt(e.mutations.length===r.length);let i=function(){return K3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new H0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Be;function lV(t){switch(t){default:return Ce();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function MC(t){if(t===void 0)return Ii("GRPC error has no .code"),B.UNKNOWN;switch(t){case $t.OK:return B.OK;case $t.CANCELLED:return B.CANCELLED;case $t.UNKNOWN:return B.UNKNOWN;case $t.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case $t.INTERNAL:return B.INTERNAL;case $t.UNAVAILABLE:return B.UNAVAILABLE;case $t.UNAUTHENTICATED:return B.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case $t.NOT_FOUND:return B.NOT_FOUND;case $t.ALREADY_EXISTS:return B.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return B.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case $t.ABORTED:return B.ABORTED;case $t.OUT_OF_RANGE:return B.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return B.UNIMPLEMENTED;case $t.DATA_LOSS:return B.DATA_LOSS;default:return Ce()}}(Be=$t||($t={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new oa([4294967295,4294967295],0);function d1(t){const e=uV().encode(t),n=new h3;return n.update(e),new Uint8Array(n.digest())}function f1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oa([n,r],0),new oa([i,s],0)]}class W0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=oa.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(oa.fromNumber(r)));return i.compare(cV)===1&&(i=new oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=d1(e),[r,i]=f1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new W0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=d1(e),[r,i]=f1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(Ae.min(),i,new Pt(Qe),Ci(),Fe())}}class fc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fc(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class FC{constructor(e,n){this.targetId=e,this.ye=n}}class VC{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h1{constructor(){this.we=0,this.Se=m1(),this.be=kn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Fe(),n=Fe(),r=Fe();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new fc(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=m1()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class dV{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Ci(),this.Ue=p1(),this.We=new Pt(Qe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(pv(s))if(r===0){const o=new ge(s.path);this.je(n,o,En.newNoDocument(o,Ae.min()))}else gt(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=io(r).toUint8Array()}catch(l){if(l instanceof pC)return Ta("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new W0(o,i,s)}catch(l){return Ta(l instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&pv(a.target)){const l=new ge(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,En.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=Fe();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Kh(e,n,this.We,this.$e,r);return this.$e=Ci(),this.Ue=p1(),this.We=new Pt(Qe),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new h1,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new In(Qe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new h1),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function p1(){return new Pt(ge.comparator)}function m1(){return new Pt(ge.comparator)}const fV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pV=(()=>({and:"AND",or:"OR"}))();class mV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vv(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gV(t,e){return xf(t,e.toTimestamp())}function Yr(t){return gt(!!t),Ae.fromTimestamp(function(n){const r=vs(n);return new Xt(r.seconds,r.nanos)}(t))}function q0(t,e){return function(r){return new pt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function UC(t){const e=pt.fromString(t);return gt(WC(e)),e}function yv(t,e){return q0(t.databaseId,e.path)}function hm(t,e){const n=UC(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(BC(n))}function wv(t,e){return q0(t.databaseId,e)}function vV(t){const e=UC(t);return e.length===4?pt.emptyPath():BC(e)}function _v(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BC(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g1(t,e,n){return{name:yv(t,e),fields:n.value.mapValue.fields}}function yV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(gt(d===void 0||typeof d=="string"),kn.fromBase64String(d||"")):(gt(d===void 0||d instanceof Uint8Array),kn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:MC(u.code);return new ce(d,u.message||"")}(o);n=new VC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hm(t,r.document.name),s=Yr(r.document.updateTime),o=r.document.createTime?Yr(r.document.createTime):Ae.min(),a=new qn({mapValue:{fields:r.document.fields}}),l=En.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new bd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hm(t,r.document),s=r.readTime?Yr(r.readTime):Ae.min(),o=En.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hm(t,r.document),s=r.removedTargetIds||[];n=new bd([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aV(i,s),a=r.targetId;n=new FC(a,o)}}return n}function wV(t,e){let n;if(e instanceof dc)n={update:g1(t,e.key,e.value)};else if(e instanceof z0)n={delete:yv(t,e.key)};else if(e instanceof Ts)n={update:g1(t,e.key,e.data),updateMask:RV(e.fieldMask)};else{if(!(e instanceof iV))return Ce();n={verify:yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof wf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _f)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function _V(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Yr(i.updateTime):Yr(s);return o.isEqual(Ae.min())&&(o=Yr(s)),new tV(o,i.transformResults||[])}(n,e))):[]}function xV(t,e){return{documents:[wv(t,e.path)]}}function EV(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return HC(Or.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Ao(f.field),direction:TV(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function bV(t){let e=vV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=zC(f);return h instanceof Or&&yC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new Ql(No(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Bh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new yf(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new yf(g,h)}(n.endAt)),B3(e,i,o,s,a,"F",l,u)}function SV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=No(n.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=No(n.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(No(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>zC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function TV(t){return fV[t]}function IV(t){return hV[t]}function CV(t){return pV[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function No(t){return bn.fromServerFormat(t.fieldPath)}function HC(t){return t instanceof Wt?function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:IV(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(i=>HC(i));return r.length===1?r[0]:{compositeFilter:{op:CV(n.op),filters:r}}}(t):Ce()}function RV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),a=kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.ht=e}}function PV(t){const e=bV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.an=new NV}addToCollectionParentIndex(e,n){return this.an.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(gs.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class NV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new In(pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new ka(0)}static Ln(){return new ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.changes=new Ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jl(r.mutation,i,er.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ol();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ci();const o=Yl(),a=function(){return Yl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ts)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Jl(d.mutation,u,d.mutation.getFieldMask(),Xt.now())):o.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new OV(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yl();let i=new Pt((o,a)=>o-a),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||er.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Fe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=RC();d.forEach(h=>{if(!s.has(h)){const g=jC(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(Us());let a=-1,l=s;return o.next(u=>X.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Fe())).next(d=>({batchId:a,changes:CC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ol();return this.indexManager.getCollectionParents(e,s).next(a=>X.forEach(a,l=>{const u=function(f,h){return new cc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,En.newInvalidDocument(d)))});let a=Ol();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Jl(d.mutation,u,er.empty(),Xt.now()),Hh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return X.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:PV(i.bundledQuery),readTime:Yr(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.overlays=new Pt(ge.comparator),this.Pr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Us(),s=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Us(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return X.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oV(n,r));let s=this.Pr.get(n);s===void 0&&(s=Fe(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.Ir=new In(en.dr),this.Tr=new In(en.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new en(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new en(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new ge(new pt([])),r=new en(n,e),i=new en(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new ge(new pt([])),r=new en(n,e),i=new en(n,e+1);let s=Fe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new en(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return ge.comparator(e.key,n.key)||Qe(e.yr,n.yr)}static Er(e,n){return Qe(e.yr,n.yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new In(en.dr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new en(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(Qe);return n.forEach(i=>{const s=new en(i,0),o=new en(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new en(new ge(s),0);let a=new In(Qe);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){gt(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return X.forEach(n.mutations,i=>{const s=new en(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new en(n,0),i=this.Sr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Fr=e,this.docs=function(){return new Pt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():En.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ci();const o=n.path,a=new ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||T3(S3(d),r)<=0||(i.has(d.key)||Hh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Mr(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $V(this)}getSize(e){return X.resolve(this.size)}}class $V extends DV{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.persistence=e,this.Or=new Ka(n=>V0(n),$0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Nr=0,this.Br=new K0,this.targetCount=0,this.Lr=ka.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),X.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ka(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Qn(n),X.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.kr={},this.overlays={},this.qr=new j0(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new UV(this),this.indexManager=new AV,this.remoteDocumentCache=function(i){return new VV(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new kV(n),this.Ur=new LV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new FV(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new zV(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return X.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class zV extends C3{constructor(e){super(),this.currentSequenceNumber=e}}class G0{constructor(e){this.persistence=e,this.jr=new K0,this.Hr=null}static Jr(e){return new G0(e)}get Yr(){if(this.Hr)return this.Hr;throw Ce()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),X.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Yr,r=>{const i=ge.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return X.or([()=>X.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Fe(),i=Fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Q0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HV;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(xl()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),X.resolve()):(xl()<=Ue.DEBUG&&he("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(xl()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):X.resolve())}Hi(e,n){if(o1(n))return X.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gv(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Fe(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(e,gv(n,null,"F")):this.ts(e,u,n,l)}))})))}Ji(e,n,r,i){return o1(n)||i.isEqual(Ae.min())?X.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?X.resolve(null):(xl()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Po(n)),this.ts(e,o,n,b3(i,-1)).next(a=>a))})}Xi(e,n){let r=new In(TC(e));return n.forEach((i,s)=>{Hh(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return xl()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ji.getDocumentsMatchingQuery(e,n,gs.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Pt(Qe),this.ss=new Ka(s=>V0(s),$0),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jV(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function KV(t,e,n,r){return new qV(t,e,n,r)}async function qC(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Fe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function GV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let g=X.resolve();return h.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(y=>{const x=u.docVersions.get(v);gt(x!==null),y.version.compareTo(x)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KC(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function QV(t,e){const n=De(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Kr.addMatchingKeys(s,d.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(kn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(y,x,_){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,g,d)&&a.push(n.Kr.updateTargetData(s,g))});let l=Ci(),u=Fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(XV(s,o,e.documentUpdates).next(d=>{l=d.ls,u=d.hs})),!r.isEqual(Ae.min())){const d=n.Kr.getLastRemoteSnapshotVersion(s).next(f=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=i,s))}function XV(t,e,n){let r=Fe(),i=Fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ci();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:i}})}function YV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function xv(t,e,n){const r=De(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!uc(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function v1(t,e,n){const r=De(t);let i=Ae.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=De(l),h=f.ss.get(d);return h!==void 0?X.resolve(f.rs.get(h)):f.Kr.getTargetData(u,d)}(r,o,Xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:Fe())).next(a=>(ZV(r,H3(e),a),{documents:a,Ps:s})))}function ZV(t,e,n){let r=t.os.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}class y1{constructor(){this.activeTargetIds=X3()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e6{constructor(){this.ro=new y1,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new y1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function pm(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class i6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=pm(),l=this.Do(n,r);he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,i).then(d=>(he("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ta("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=n6[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=pm();return new Promise((o,a)=>{const l=new f3;l.setWithCredentials(!0),l.listenOnce(c3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fm.NO_ERROR:const d=l.getResponseJson();he(wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case fm.TIMEOUT:he(wn,`RPC '${e}' ${s} timed out`),a(new ce(B.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const f=l.getStatus();if(he(wn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(g.status);a(new ce(v,g.message))}else a(new ce(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(B.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(wn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);he(wn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(e,n,r){const i=pm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=l3(),a=u3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");he(wn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,g=!1;const v=new r6({ho:x=>{g?he(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(he(wn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),he(wn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Po:()=>f.close()}),y=(x,_,p)=>{x.listen(_,E=>{try{p(E)}catch(w){setTimeout(()=>{throw w},0)}})};return y(f,Zc.EventType.OPEN,()=>{g||he(wn,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Zc.EventType.CLOSE,()=>{g||(g=!0,he(wn,`RPC '${e}' stream ${i} transport closed`),v.mo())}),y(f,Zc.EventType.ERROR,x=>{g||(g=!0,Ta(wn,`RPC '${e}' stream ${i} transport errored:`,x),v.mo(new ce(B.UNAVAILABLE,"The operation could not be completed")))}),y(f,Zc.EventType.MESSAGE,x=>{var _;if(!g){const p=x.data[0];gt(!!p);const E=p,w=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(w){he(wn,`RPC '${e}' stream ${i} received error:`,w);const b=w.status;let T=function(k){const N=$t[k];if(N!==void 0)return MC(N)}(b),R=w.message;T===void 0&&(T=B.INTERNAL,R="Unknown error status: "+b+" with message "+w.message),g=!0,v.mo(new ce(T,R)),f.close()}else he(wn,`RPC '${e}' stream ${i} received:`,p),v.fo(p)}}),y(a,d3.STAT_EVENT,x=>{x.stat===Qx.PROXY?he(wn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Qx.NOPROXY&&he(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return new mV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new GC(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new ce(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s6 extends QC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=yV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?Yr(o.readTime):Ae.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=_v(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=pv(l)?{documents:xV(s,l)}:{query:EV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$C(s,o.resumeToken);const u=vv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ae.min())>0){a.readTime=xf(s,o.snapshotVersion.toTimestamp());const u=vv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=SV(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=_v(this.serializer),n.removeTarget=e,this.n_(n)}}class o6 extends QC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=_V(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.T_(r,n)}return gt(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=_v(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wV(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new ce(B.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(B.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(B.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class l6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Ii(n),this.p_=!1):he("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{go(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=De(l);u.F_.add(4),await hc(u),u.O_.set("Unknown"),u.F_.delete(4),await Qh(u)}(this))})}),this.O_=new l6(r,i)}}async function Qh(t){if(go(t))for(const e of t.M_)await e(!0)}async function hc(t){for(const e of t.M_)await e(!1)}function XC(t,e){const n=De(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),J0(n)?Y0(n):Ga(n).Yo()&&X0(n,e))}function YC(t,e){const n=De(t),r=Ga(n);n.v_.delete(e),r.Yo()&&JC(n,e),n.v_.size===0&&(r.Yo()?r.e_():go(n)&&n.O_.set("Unknown"))}function X0(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ga(t).l_(e)}function JC(t,e){t.N_.Le(e),Ga(t).h_(e)}function Y0(t){t.N_=new dV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Ga(t).start(),t.O_.y_()}function J0(t){return go(t)&&!Ga(t).Jo()&&t.v_.size>0}function go(t){return De(t).F_.size===0}function ZC(t){t.N_=void 0}async function c6(t){t.v_.forEach((e,n)=>{X0(t,e)})}async function d6(t,e){ZC(t),J0(t)?(t.O_.b_(e),Y0(t)):t.O_.set("Unknown")}async function f6(t,e,n){if(t.O_.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ef(t,r)}else if(e instanceof bd?t.N_.Ge(e):e instanceof FC?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ae.min()))try{const r=await KC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.v_.get(u);d&&s.v_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.v_.get(l);if(!d)return;s.v_.set(l,d.withResumeToken(kn.EMPTY_BYTE_STRING,d.snapshotVersion)),JC(s,l);const f=new Zi(d.target,l,u,d.sequenceNumber);X0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Ef(t,r)}}async function Ef(t,e,n){if(!uc(e))throw e;t.F_.add(1),await hc(t),t.O_.set("Offline"),n||(n=()=>KC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Qh(t)})}function eR(t,e){return e().catch(n=>Ef(t,n,e))}async function Xh(t){const e=De(t),n=ys(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;h6(e);)try{const i=await YV(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,p6(e,i)}catch(i){await Ef(e,i)}tR(e)&&nR(e)}function h6(t){return go(t)&&t.C_.length<10}function p6(t,e){t.C_.push(e);const n=ys(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function tR(t){return go(t)&&!ys(t).Jo()&&t.C_.length>0}function nR(t){ys(t).start()}async function m6(t){ys(t).A_()}async function g6(t){const e=ys(t);for(const n of t.C_)e.d_(n.mutations)}async function v6(t,e,n){const r=t.C_.shift(),i=H0.from(r,e,n);await eR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xh(t)}async function y6(t,e){e&&ys(t).I_&&await async function(r,i){if(function(o){return lV(o)&&o!==B.ABORTED}(i.code)){const s=r.C_.shift();ys(r).Xo(),await eR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xh(r)}}(t,e),tR(t)&&nR(t)}async function _1(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=go(n);n.F_.add(3),await hc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Qh(n)}async function w6(t,e){const n=De(t);e?(n.F_.delete(2),await Qh(n)):e||(n.F_.add(2),await hc(n),n.O_.set("Unknown"))}function Ga(t){return t.B_||(t.B_=function(n,r,i){const s=De(n);return s.V_(),new s6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:c6.bind(null,t),Eo:d6.bind(null,t),c_:f6.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),J0(t)?Y0(t):t.O_.set("Unknown")):(await t.B_.stop(),ZC(t))})),t.B_}function ys(t){return t.L_||(t.L_=function(n,r,i){const s=De(n);return s.V_(),new o6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:m6.bind(null,t),Eo:y6.bind(null,t),E_:g6.bind(null,t),T_:v6.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Xh(t)):(await t.L_.stop(),t.C_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Z0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),uc(t))return new ce(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new aa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.k_=new Pt(ge.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Ce():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Pa(e,n,aa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.Q_=void 0,this.listeners=[]}}class x6{constructor(){this.queries=new Ka(e=>SC(e),zh),this.onlineState="Unknown",this.K_=new Set}}async function rR(t,e){const n=De(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _6),i)try{s.Q_=await n.onListen(r)}catch(o){const a=ew(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&tw(n)}async function iR(t,e){const n=De(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function E6(t,e){const n=De(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&tw(n)}function b6(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function tw(t){t.K_.forEach(e=>{e.next()})}class sR{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.key=e}}class aR{constructor(e){this.key=e}}class S6{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Fe(),this.mutatedKeys=Fe(),this.ua=TC(e),this.ca=new aa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new x1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=Hh(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;h&&g?h.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),x=!0):this.Ia(h,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.ua(g,l)>0||u&&this.ua(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),x=!0):h&&!g&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((u,d)=>function(h,g){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return v(h)-v(g)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Pa(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new x1,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Fe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new aR(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new oR(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Fe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Pa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class T6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I6{constructor(e){this.key=e,this.ma=!1}}class C6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ka(a=>SC(a),zh),this.pa=new Map,this.ya=new Set,this.wa=new Pt(ge.comparator),this.Sa=new Map,this.ba=new K0,this.Da={},this.Ca=new Map,this.va=ka.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function R6(t,e){const n=F6(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await JV(n.localStore,Xr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await k6(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&XC(n.remoteStore,o)}return i}async function k6(t,e,n,r,i){t.Ma=(f,h,g)=>async function(y,x,_,p){let E=x.view.ha(_);E.es&&(E=await v1(y.localStore,x.query,!1).then(({documents:T})=>x.view.ha(T,E)));const w=p&&p.targetChanges.get(x.targetId),b=x.view.applyChanges(E,y.isPrimaryClient,w);return b1(y,x.targetId,b.Ea),b.snapshot}(t,f,h,g);const s=await v1(t.localStore,e,!0),o=new S6(e,s.Ps),a=o.ha(s.documents),l=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);b1(t,n,u.Ea);const d=new T6(e,n,o);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function P6(t,e){const n=De(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!zh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YC(n.remoteStore,r.targetId),Ev(n,r.targetId)}).catch(lc)):(Ev(n,r.targetId),await xv(n.localStore,r.targetId,!0))}async function A6(t,e,n){const r=V6(t);try{const i=await function(o,a){const l=De(o),u=Xt.now(),d=a.reduce((g,v)=>g.add(v.key),Fe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ci(),y=Fe();return l._s.getEntries(g,d).next(x=>{v=x,v.forEach((_,p)=>{p.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(x=>{f=x;const _=[];for(const p of a){const E=rV(p,f.get(p.key).overlayedDocument);E!=null&&_.push(new Ts(p.key,E,mC(E.value.mapValue),Ar.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:CC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Pt(Qe)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await pc(r,i.changes),await Xh(r.remoteStore)}catch(i){const s=ew(i,"Failed to persist write");n.reject(s)}}async function lR(t,e){const n=De(t);try{const r=await QV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?gt(o.ma):i.removedDocuments.size>0&&(gt(o.ma),o.ma=!1))}),await pc(n,r,e)}catch(r){await lc(r)}}function E1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=De(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.listeners)h.U_(a)&&(u=!0)}),u&&tw(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N6(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Pt(ge.comparator);o=o.insert(s,En.newNoDocument(s,Ae.min()));const a=Fe().add(s),l=new Kh(Ae.min(),new Map,new Pt(Qe),o,a);await lR(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),nw(r)}else await xv(r.localStore,e,!1).then(()=>Ev(r,e,n)).catch(lc)}async function D6(t,e){const n=De(t),r=e.batch.batchId;try{const i=await GV(n.localStore,e);cR(n,r,null),uR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pc(n,i)}catch(i){await lc(i)}}async function O6(t,e,n){const r=De(t);try{const i=await function(o,a){const l=De(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(gt(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);cR(r,e,n),uR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pc(r,i)}catch(i){await lc(i)}}function uR(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function cR(t,e,n){const r=De(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ev(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||dR(t,r)})}function dR(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(YC(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),nw(t))}function b1(t,e,n){for(const r of n)r instanceof oR?(t.ba.addReference(r.key,e),j6(t,r)):r instanceof aR?(he("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||dR(t,r.key)):Ce()}function j6(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(he("SyncEngine","New document in limbo: "+n),t.ya.add(r),nw(t))}function nw(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ge(pt.fromString(e)),r=t.va.next();t.Sa.set(r,new I6(n)),t.wa=t.wa.insert(n,r),XC(t.remoteStore,new Zi(Xr(U0(n.path)),r,"TargetPurposeLimboResolution",j0.ae))}}async function pc(t,e,n){const r=De(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=Q0.$i(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,u){const d=De(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>X.forEach(u,h=>X.forEach(h.Qi,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>X.forEach(h.Ki,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!uc(f))throw f;he("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=d.rs.get(h),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);d.rs=d.rs.insert(h,y)}}}(r.localStore,s))}async function L6(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await qC(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ce(B.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pc(n,r.cs)}}function M6(t,e){const n=De(t),r=n.Sa.get(e);if(r&&r.ma)return Fe().add(r.key);{let i=Fe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function F6(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N6.bind(null,e),e.fa.c_=E6.bind(null,e.eventManager),e.fa.xa=b6.bind(null,e.eventManager),e}function V6(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O6.bind(null,e),e}class S1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KV(this.persistence,new WV,e.initialUser,this.serializer)}createPersistence(e){return new BV(G0.Jr,this.serializer)}createSharedClientState(e){return new e6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L6.bind(null,this.syncEngine),await w6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x6}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),r=function(s){return new i6(s)}(e.databaseInfo);return function(s,o,a,l){return new a6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new u6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>E1(this.syncEngine,n,0),function(){return w1.C()?new w1:new t6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new C6(i,s,o,a,l,u);return d&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=De(n);he("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await hc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=fC.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ew(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gm(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z6(t);he("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>_1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>_1(e.remoteStore,s)),t._onlineComponents=e}function B6(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function z6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!B6(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await gm(t,new S1)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await gm(t,new S1);return t._offlineComponents}async function hR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await T1(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await T1(t,new $6))),t._onlineComponents}function H6(t){return hR(t).then(e=>e.syncEngine)}async function pR(t){const e=await hR(t),n=e.eventManager;return n.onListen=R6.bind(null,e.syncEngine),n.onUnlisten=P6.bind(null,e.syncEngine),n}function W6(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new fR({next:h=>{o.enqueueAndForget(()=>iR(s,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new ce(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new ce(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new sR(U0(a.path),d,{includeMetadataChanges:!0,Z_:!0});return rR(s,f)}(await pR(t),t.asyncQueue,e,n,r)),r.promise}function q6(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new fR({next:h=>{o.enqueueAndForget(()=>iR(s,f)),h.fromCache&&l.source==="server"?u.reject(new ce(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new sR(a,d,{includeMetadataChanges:!0,Z_:!0});return rR(s,f)}(await pR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){if(!n)throw new ce(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K6(t,e,n,r){if(e===!0&&r===!0)throw new ce(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!ge.isDocumentKey(t))throw new ce(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R1(t){if(ge.isDocumentKey(t))throw new ce(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new ce(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p3;switch(r.type){case"firstParty":return new y3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I1.get(n);r&&(he("ComponentProvider","Removing Datastore"),I1.delete(n),r.terminate())}(this),Promise.resolve()}}function G6(t,e,n,r={}){var i;const s=(t=ti(t,Jh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_n.MOCK_USER;else{a=rI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _n(u)}t._authCredentials=new m3(new dC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class fs extends Qa{constructor(e,n,r){super(e,n,U0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new ge(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function Er(t,e,...n){if(t=Ot(t),gR("collection","path",e),t instanceof Jh){const r=pt.fromString(e,...n);return R1(r),new fs(t,null,r)}{if(!(t instanceof Mn||t instanceof fs))throw new ce(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return R1(r),new fs(t.firestore,null,r)}}function St(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=fC.V()),gR("doc","path",e),t instanceof Jh){const r=pt.fromString(e,...n);return C1(r),new Mn(t,null,new ge(r))}{if(!(t instanceof Mn||t instanceof fs))throw new ce(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return C1(r),new Mn(t.firestore,t instanceof fs?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new GC(this,"async_queue_retry"),this.ou=()=>{const n=mm();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new wi;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!uc(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=Z0.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Ce()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Xa extends Jh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Q6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vR(this),this._firestoreClient.terminate()}}function X6(t,e){const n=typeof t=="object"?t:d0(),r=typeof t=="string"?t:e||"(default)",i=Th(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eI("firestore");s&&G6(i,...s)}return i}function rw(t){return t._firestoreClient||vR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new P3(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new U6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(kn.fromBase64String(e))}catch(n){throw new ce(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Aa(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=/^__.*__$/;class J6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new dc(e,this.data,n,this.fieldTransforms)}}class yR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class ow{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return bf(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(wR(this.Tu)&&Y6.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Z6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gh(e)}wu(e,n,r,i=!1){return new ow({Tu:e,methodName:n,yu:r,path:bn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aw(t){const e=t._freezeSettings(),n=Gh(t._databaseId);return new Z6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e5(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);lw("Data must be an object, but it was:",o,r);const a=_R(r,o);let l,u;if(s.merge)l=new er(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=bv(e,f,n);if(!o.contains(h))throw new ce(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ER(d,h)||d.push(h)}l=new er(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new J6(new qn(a),l,u)}class ep extends iw{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ep}}function t5(t,e,n,r){const i=t.wu(1,e,n);lw("Data must be an object, but it was:",i,r);const s=[],o=qn.empty();mo(r,(l,u)=>{const d=uw(e,l,n);u=Ot(u);const f=i.mu(d);if(u instanceof ep)s.push(d);else{const h=mc(u,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new er(s);return new yR(o,a,i.fieldTransforms)}function n5(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[bv(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(bv(e,s[h])),l.push(s[h+1]);const u=[],d=qn.empty();for(let h=a.length-1;h>=0;--h)if(!ER(u,a[h])){const g=a[h];let v=l[h];v=Ot(v);const y=o.mu(g);if(v instanceof ep)u.push(g);else{const x=mc(v,y);x!=null&&(u.push(g),d.set(g,x))}}const f=new er(u);return new yR(d,f,o.fieldTransforms)}function r5(t,e,n,r=!1){return mc(n,t.wu(r?4:3,e))}function mc(t,e){if(xR(t=Ot(t)))return lw("Unsupported field value:",e,t),_R(t,e);if(t instanceof iw)return function(r,i){if(!wR(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mc(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:xf(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,s)}}if(r instanceof sw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Aa)return{bytesValue:$C(i.serializer,r._byteString)};if(r instanceof Mn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:q0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Yh(r)}`)}(t,e)}function _R(t,e){const n={};return hC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(t,(r,i)=>{const s=mc(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof sw||t instanceof Aa||t instanceof Mn||t instanceof iw)}function lw(t,e,n){if(!xR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yh(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function bv(t,e,n){if((e=Ot(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return uw(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const i5=new RegExp("[~\\*/\\[\\]]");function uw(t,e,n){if(e.search(i5)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(B.INVALID_ARGUMENT,a+t+l)}function ER(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s5 extends bR{data(){return super.data()}}function cw(t,e){return typeof e=="string"?uw(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dw{}class a5 extends dw{}function ks(t,e,...n){let r=[];e instanceof dw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof fw).length,a=s.filter(l=>l instanceof tp).length;if(o>1||o>0&&a>0)throw new ce(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tp extends a5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tp(e,n,r)}_apply(e){const n=this._parse(e);return SR(e._query,n),new Qa(e.firestore,e.converter,mv(e._query,n))}_parse(e){const n=aw(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ce(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){A1(f,d);const g=[];for(const v of f)g.push(P1(l,s,v));h={arrayValue:{values:g}}}else h=P1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||A1(f,d),h=r5(a,o,f,d==="in"||d==="not-in");return Wt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function El(t,e,n){const r=e,i=cw("where",t);return tp._create(i,r,n)}class fw extends dw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)SR(o,l),o=mv(o,l)}(e._query,n),new Qa(e.firestore,e.converter,mv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P1(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ce(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bC(e)&&n.indexOf("/")!==-1)throw new ce(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ge.isDocumentKey(r))throw new ce(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e1(t,new ge(r))}if(n instanceof Mn)return e1(t,n._key);throw new ce(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function A1(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SR(t,e){if(e.isInequality()){const r=B0(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ce(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=EC(t);s!==null&&l5(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function l5(t,e,n){if(!n.isEqual(e))throw new ce(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class u5{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new sw(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);gt(WC(r));const i=new Du(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TR extends bR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends TR{data(e={}){return super.data(e)}}class d5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:f5(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t){t=ti(t,Mn);const e=ti(t.firestore,Xa);return W6(rw(e),t._key).then(n=>h5(e,t,n))}class IR extends u5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function oi(t){t=ti(t,Qa);const e=ti(t.firestore,Xa),n=rw(e),r=new IR(e);return o5(t._query),q6(n,t._query).then(i=>new d5(e,r,t,i))}function ci(t,e,n){t=ti(t,Mn);const r=ti(t.firestore,Xa),i=c5(t.converter,e,n);return hw(r,[e5(aw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ar.none())])}function Nn(t,e,n,...r){t=ti(t,Mn);const i=ti(t.firestore,Xa),s=aw(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Zh?n5(s,"updateDoc",t._key,e,n,r):t5(s,"updateDoc",t._key,e),hw(i,[o.toMutation(t._key,Ar.exists(!0))])}function rd(t){return hw(ti(t.firestore,Xa),[new z0(t._key,Ar.none())])}function hw(t,e){return function(r,i){const s=new wi;return r.asyncQueue.enqueueAndForget(async()=>A6(await H6(r),i,s)),s.promise}(rw(t),e)}function h5(t,e,n){const r=n.docs.get(e._key),i=new IR(t);return new TR(t,i,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){qa=i})(ho),no(new ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Xa(new g3(r.getProvider("auth-internal")),new _3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qr(Xx,"4.2.0",e),Qr(Xx,"4.2.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebasestorage.googleapis.com",RR="storageBucket",p5=2*60*1e3,m5=10*60*1e3,g5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends ni{constructor(e,n,r=0){super(vm(e),`Firebase Storage: ${n} (${vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function vm(t){return"storage/"+t}function pw(){const t="An unknown error occurred, please check the error payload for server response.";return new At(vt.UNKNOWN,t)}function v5(t){return new At(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function y5(t){return new At(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(vt.UNAUTHENTICATED,t)}function _5(){return new At(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x5(t){return new At(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kR(){return new At(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PR(){return new At(vt.CANCELED,"User canceled the upload/download.")}function E5(t){return new At(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function b5(t){return new At(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function S5(){return new At(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RR+"' property when initializing the app?")}function AR(){return new At(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function T5(){return new At(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function I5(){return new At(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C5(t){return new At(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sv(t){return new At(vt.INVALID_ARGUMENT,t)}function NR(){return new At(vt.APP_DELETED,"The Firebase app was deleted.")}function R5(t){return new At(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(t,e){return new At(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bl(t){throw new At(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tr.makeFromUrl(e,n)}catch{return new tr(e,"")}if(r.path==="")return r;throw b5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},y=n===CR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${x}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<E.length;w++){const b=E[w],T=b.regex.exec(e);if(T){const R=T[b.indices.bucket];let C=T[b.indices.path];C||(C=""),r=new tr(R,C),b.postModify(r);break}}if(r==null)throw E5(e);return r}}class k5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(g,l())},x)}function h(){s&&clearTimeout(s)}function g(x,..._){if(u){h();return}if(x){h(),d.call(null,x,..._);return}if(l()||o){h(),d.call(null,x,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let v=!1;function y(x){v||(v=!0,h(),!u&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function A5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){return t!==void 0}function D5(t){return typeof t=="function"}function O5(t){return typeof t=="object"&&!Array.isArray(t)}function np(t){return typeof t=="string"||t instanceof String}function N1(t){return mw()&&t instanceof Blob}function mw(){return typeof Blob<"u"&&!BM()}function D1(t,e,n,r){if(r<e)throw Sv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qs||(qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,i,s,o,a,l,u,d,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new id(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qs.NO_ERROR,l=s.getStatus();if(!a||OR(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===qs.ABORT;r(!1,new id(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new id(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());N5(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=pw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?NR():PR();o(l)}else{const l=kR();o(l)}};this.canceled_?n(!1,new id(!1,null,!0)):this.backoffId_=P5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class id{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function L5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $5(t,e,n,r,i,s,o=!0){const a=DR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return F5(u,e),L5(u,n),M5(u,s),V5(u,r),new j5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function B5(...t){const e=U5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mw())return new Blob(t);throw new At(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function z5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){if(typeof atob>"u")throw C5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ym{constructor(e,n){this.data=e,this.contentType=n||null}}function W5(t,e){switch(t){case Wr.RAW:return new ym(jR(e));case Wr.BASE64:case Wr.BASE64URL:return new ym(LR(t,e));case Wr.DATA_URL:return new ym(K5(e),G5(e))}throw pw()}function jR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function q5(t){let e;try{e=decodeURIComponent(t)}catch{throw Zl(Wr.DATA_URL,"Malformed data URL.")}return jR(e)}function LR(t,e){switch(t){case Wr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Zl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Zl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=H5(e)}catch(i){throw i.message.includes("polyfill")?i:Zl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class MR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zl(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Q5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function K5(t){const e=new MR(t);return e.base64?LR(Wr.BASE64,e.rest):q5(e.rest)}function G5(t){return new MR(t).contentType}function Q5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){let r=0,i="";N1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(N1(this.data_)){const r=this.data_,i=z5(r,e,n);return i===null?null:new Hi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hi(r,!0)}}static getBlob(...e){if(mw()){const n=e.map(r=>r instanceof Hi?r.data_:r);return new Hi(B5.apply(null,n))}else{const n=e.map(o=>np(o)?W5(Wr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Hi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t){let e;try{e=JSON.parse(t)}catch{return null}return O5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e){return e}class Pn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||J5}}let sd=null;function Z5(t){return!np(t)||t.length<2?t:VR(t)}function $R(){if(sd)return sd;const t=[];t.push(new Pn("bucket")),t.push(new Pn("generation")),t.push(new Pn("metageneration")),t.push(new Pn("name","fullPath",!0));function e(s,o){return Z5(o)}const n=new Pn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Pn("size");return i.xform=r,t.push(i),t.push(new Pn("timeCreated")),t.push(new Pn("updated")),t.push(new Pn("md5Hash",null,!0)),t.push(new Pn("cacheControl",null,!0)),t.push(new Pn("contentDisposition",null,!0)),t.push(new Pn("contentEncoding",null,!0)),t.push(new Pn("contentLanguage",null,!0)),t.push(new Pn("contentType",null,!0)),t.push(new Pn("metadata","customMetadata",!0)),sd=t,sd}function e$(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new tr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function t$(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return e$(r,t),r}function UR(t,e,n){const r=FR(e);return r===null?null:t$(t,r,n)}function n$(t,e,n,r){const i=FR(e);if(i===null||!np(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+o(d)+"/o/"+o(f),g=gc(h,n,r),v=DR({alt:"media",token:u});return g+v})[0]}function BR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ya{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){if(!t)throw pw()}function gw(t,e){function n(r,i){const s=UR(t,i,e);return _i(s!==null),s}return n}function r$(t,e){function n(r,i){const s=UR(t,i,e);return _i(s!==null),n$(s,i,t.host,t._protocol)}return n}function vc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_5():i=w5():n.getStatus()===402?i=y5(t.bucket):n.getStatus()===403?i=x5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zR(t){const e=vc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=v5(t.path)),s.serverResponse=i.serverResponse,s}return n}function i$(t,e,n){const r=e.fullServerUrl(),i=gc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ya(i,s,gw(t,n),o);return a.errorHandler=zR(e),a}function s$(t,e,n){const r=e.fullServerUrl(),i=gc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ya(i,s,r$(t,n),o);return a.errorHandler=zR(e),a}function o$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function HR(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=o$(null,e)),r}function a$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let w=0;w<2;w++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=HR(e,r,i),d=BR(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",g=Hi.getBlob(f,r,h);if(g===null)throw AR();const v={name:u.fullPath},y=gc(s,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,p=new Ya(y,x,gw(t,n),_);return p.urlParams=v,p.headers=o,p.body=g.uploadData(),p.errorHandler=vc(e),p}class Sf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function vw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{_i(!1)}return _i(!!n&&(e||["active"]).indexOf(n)!==-1),n}function l$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=HR(e,r,i),a={name:o.fullPath},l=gc(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=BR(o,n),h=t.maxUploadRetryTime;function g(y){vw(y);let x;try{x=y.getResponseHeader("X-Goog-Upload-URL")}catch{_i(!1)}return _i(np(x)),x}const v=new Ya(l,u,g,h);return v.urlParams=a,v.headers=d,v.body=f,v.errorHandler=vc(e),v}function u$(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=vw(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_i(!1)}f||_i(!1);const h=Number(f);return _i(!isNaN(h)),new Sf(h,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ya(n,o,s,a);return l.headers=i,l.errorHandler=vc(e),l}const O1=256*1024;function c$(t,e,n,r,i,s,o,a){const l=new Sf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw T5();const u=l.total-l.current;let d=u;i>0&&(d=Math.min(d,i));const f=l.current,h=f+d;let g="";d===0?g="finalize":u===d?g="upload, finalize":g="upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(f,h);if(y===null)throw AR();function x(w,b){const T=vw(w,["active","final"]),R=l.current+d,C=r.size();let k;return T==="final"?k=gw(e,s)(w,b):k=null,new Sf(R,C,T==="final",k)}const _="POST",p=e.maxUploadRetryTime,E=new Ya(n,_,x,p);return E.headers=v,E.body=y.uploadData(),E.progressCallback=a||null,E.errorHandler=vc(t),E}const Hn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wm(t){switch(t){case"running":case"pausing":case"canceling":return Hn.RUNNING;case"paused":return Hn.PAUSED;case"success":return Hn.SUCCESS;case"canceled":return Hn.CANCELED;case"error":return Hn.ERROR;default:return Hn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n,r){if(D5(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class f${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class h$ extends f${initXhr(){this.xhr_.responseType="text"}}function Do(){return new h$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=$R(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(OR(i.status,[]))if(s)i=kR();else{this.sleepTime=Math.max(this.sleepTime*2,g5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=l$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Do,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=u$(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Do,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=O1*this._chunkMultiplier,n=new Sf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=c$(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Do,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){O1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=i$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Do,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=a$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Do,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=PR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=wm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new d$(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(wm(this._state)){case Hn.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case Hn.CANCELED:case Hn.ERROR:const n=this._reject;To(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wm(this._state)){case Hn.RUNNING:case Hn.PAUSED:e.next&&To(e.next.bind(e,this.snapshot))();break;case Hn.SUCCESS:e.complete&&To(e.complete.bind(e))();break;case Hn.CANCELED:case Hn.ERROR:e.error&&To(e.error.bind(e,this._error))();break;default:e.error&&To(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this._service=e,n instanceof tr?this._location=n:this._location=tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oo(e,n)}get root(){const e=new tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VR(this._location.path)}get storage(){return this._service}get parent(){const e=X5(this._location.path);if(e===null)return null;const n=new tr(this._location.bucket,e);return new oo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw R5(e)}}function m$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new p$(t,new Hi(e),n)}function g$(t){t._throwIfRoot("getDownloadURL");const e=s$(t.storage,t._location,$R());return t.storage.makeRequestWithTokens(e,Do).then(n=>{if(n===null)throw I5();return n})}function v$(t,e){const n=Y5(t._location.path,e),r=new tr(t._location.bucket,n);return new oo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t){return/^[A-Za-z]+:\/\//.test(t)}function w$(t,e){return new oo(t,e)}function WR(t,e){if(t instanceof yw){const n=t;if(n._bucket==null)throw S5();const r=new oo(n,n._bucket);return e!=null?WR(r,e):r}else return e!==void 0?v$(t,e):t}function _$(t,e){if(e&&y$(e)){if(t instanceof yw)return w$(t,e);throw Sv("To use ref(service, url), the first argument must be a Storage instance.")}else return WR(t,e)}function j1(t,e){const n=e==null?void 0:e[RR];return n==null?null:tr.makeFromBucketSpec(n,t)}function x$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rI(i,t.app.options.projectId))}class yw{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=CR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p5,this._maxUploadRetryTime=m5,this._requests=new Set,i!=null?this._bucket=tr.makeFromBucketSpec(i,this._host):this._bucket=j1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tr.makeFromBucketSpec(this._url,e):this._bucket=j1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new k5(NR());{const o=$5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const L1="@firebase/storage",M1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="storage";function _m(t,e,n){return t=Ot(t),m$(t,e,n)}function xm(t){return t=Ot(t),g$(t)}function Em(t,e){return t=Ot(t),_$(t,e)}function E$(t=d0(),e){t=Ot(t);const r=Th(t,qR).getImmediate({identifier:e}),i=eI("storage");return i&&b$(r,...i),r}function b$(t,e,n,r={}){x$(t,e,n,r)}function S$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yw(n,r,i,e,ho)}function T$(){no(new ms(qR,S$,"PUBLIC").setMultipleInstances(!0)),Qr(L1,M1,""),Qr(L1,M1,"esm2017")}T$();function ww(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ja(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Za(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function F1(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function V1(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function $1(t){return t!==void 0&&t.enterprise!==void 0}class I${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function KR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C$=KR,GR=new Ju("auth","Firebase",KR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new u0("@firebase/auth");function R$(t,...e){Tf.logLevel<=Ue.WARN&&Tf.warn(`Auth (${ho}): ${t}`,...e)}function Td(t,...e){Tf.logLevel<=Ue.ERROR&&Tf.error(`Auth (${ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw _w(t,...e)}function Jr(t,...e){return _w(t,...e)}function k$(t,e,n){const r=Object.assign(Object.assign({},C$()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function _w(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GR.create(t,...e)}function Ie(t,e,...n){if(!t)throw _w(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Ri(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P$(){return U1()==="http:"||U1()==="https:"}function U1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P$()||zM()||"connection"in navigator)?navigator.onLine:!0}function N$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=UM()||HM()}get(){return A$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=new yc(3e4,6e4);function vo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yo(t,e,n,r,i={}){return XR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),QR.fetch()(YR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function XR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D$),e);try{const i=new j$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw od(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw od(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw od(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw k$(t,d,u);jr(t,d)}}catch(i){if(i instanceof ni)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function wc(t,e,n,r,i={}){const s=await yo(t,e,n,r,i);return"mfaPendingCredential"in s&&jr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function YR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xw(t.config,i):`${t.config.apiScheme}://${i}`}class j${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),O$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}async function L$(t,e){return yo(t,"GET","/v2/recaptchaConfig",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function F$(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V$(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=Ew(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(bm(i.auth_time)),issuedAtTime:eu(bm(i.iat)),expirationTime:eu(bm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bm(t){return Number(t)*1e3}function Ew(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const i=JT(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $$(t){const e=Ew(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&U$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mu(t,F$(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?W$(s.providerUserInfo):[],a=H$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new JR(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function z$(t){const e=Ot(t);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function W$(t){return t.map(e=>{var{providerId:n}=e,r=ww(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e){const n=await XR(t,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await q$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fu;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ww(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new JR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V$(this,e)}reload(){return z$(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Mu(this,M$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:w,isAnonymous:b,providerData:T,stsTokenManager:R}=n;Ie(E&&R,e,"internal-error");const C=Fu.fromJSON(this.name,R);Ie(typeof E=="string",e,"internal-error"),Mi(f,e.name),Mi(h,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof b=="boolean",e,"internal-error"),Mi(g,e.name),Mi(v,e.name),Mi(y,e.name),Mi(x,e.name),Mi(_,e.name),Mi(p,e.name);const k=new Ks({uid:E,auth:e,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:C,createdAt:_,lastLoginAt:p});return T&&Array.isArray(T)&&(k.providerData=T.map(N=>Object.assign({},N))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fu;i.updateFromServerResponse(n);const s=new Ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await If(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function mi(t){Ri(t instanceof Function,"Expected a class definition");let e=B1.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZR.type="NONE";const z1=ZR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Id(this.userKey,i.apiKey,s),this.fullPersistenceKey=Id("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new la(mi(z1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||mi(z1);const o=Id(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Ks._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new la(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new la(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ik(e))return"Blackberry";if(sk(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||tk(e))&&!e.includes("edge/"))return"Chrome";if(rk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ek(t=Rn()){return/firefox\//i.test(t)}function bw(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tk(t=Rn()){return/crios\//i.test(t)}function nk(t=Rn()){return/iemobile/i.test(t)}function rk(t=Rn()){return/android/i.test(t)}function ik(t=Rn()){return/blackberry/i.test(t)}function sk(t=Rn()){return/webos/i.test(t)}function rp(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K$(t=Rn()){var e;return rp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G$(){return WM()&&document.documentMode===10}function ok(t=Rn()){return rp(t)||rk(t)||sk(t)||ik(t)||/windows phone/i.test(t)||nk(t)}function Q$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e=[]){let n;switch(t){case"Browser":n=H1(Rn());break;case"Worker":n=`${H1(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y$(t,e={}){return yo(t,"GET","/v2/passwordPolicy",vo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=6;class Z${constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:J$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1(this),this.idTokenSubscription=new W1(this),this.beforeStateQueue=new X$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ot(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y$(this),n=new Z$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ak(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(t){return Ot(t)}class W1{constructor(e){this.auth=e,this.observer=null,this.addObserver=JM(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function lk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tU().appendChild(r)})}function nU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rU="https://www.google.com/recaptcha/enterprise.js?render=",iU="recaptcha-enterprise",sU="NO_RECAPTCHA";class oU{constructor(e){this.type=iU,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{L$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new I$(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;$1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(sU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&$1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}lk(rU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Cf(t,e,n,r=!1){const i=new oU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){const n=Th(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lf(s,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function lU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uU(t,e,n){const r=wo(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=uk(e),{host:o,port:a}=cU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||dU()}function uk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cU(t){const e=uk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:q1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:q1(o)}}}function q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function fU(t,e){return yo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t,e){return wc(t,"POST","/v1/accounts:signInWithPassword",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",vo(t,e))}async function pU(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Sw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Cf(e,r,"signInWithPassword");return Sm(e,i)}else return Sm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Cf(e,r,"signInWithPassword");return Sm(e,s)}else return Promise.reject(i)});case"emailLink":return hU(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return fU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pU(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e){return wc(t,"POST","/v1/accounts:signInWithIdp",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="http://localhost";class ao extends Sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ww(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ao(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ua(e,n)}buildRequest(){const e={requestUri:mU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vU(t){const e=Pl(Al(t)).link,n=e?Pl(Al(e)).deep_link_id:null,r=Pl(Al(t)).deep_link_id;return(r?Pl(Al(r)).link:null)||r||n||e||t}class Tw{constructor(e){var n,r,i,s,o,a;const l=Pl(Al(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=gU((i=l.mode)!==null&&i!==void 0?i:null);Ie(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vU(e);try{return new Tw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tw.parseLink(n);return Ie(r,"argument-error"),Vu._fromEmailAndCode(e,r.code,r.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends ck{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends _c{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends _c{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends _c{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t,e){return wc(t,"POST","/v1/accounts:signUp",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ks._fromIdTokenResponse(e,r,i),o=K1(r);return new lo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=K1(r);return new lo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function K1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rf(e,n,r,i)}}function dk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(t,s,e,r):s})}async function yU(t,e,n=!1){const r=await Mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Mu(t,dk(r,i,e,t),n);Ie(s.idToken,r,"internal-error");const o=Ew(s.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),lo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e,n=!1){const r="signIn",i=await dk(t,r,e),s=await lo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _U(t,e){return fk(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(t){const e=wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xU(t,e,n){var r;const i=wo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Cf(i,s,"signUpPassword");o=Tm(i,u)}else o=Tm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Cf(i,s,"signUpPassword");return Tm(i,d)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hk(t),u}),l=await lo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function EU(t,e,n){return _U(Ot(t),el.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hk(t),r})}function bU(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function SU(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function TU(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function IU(t){return Ot(t).signOut()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){const t=Rn();return bw(t)||rp(t)}const RU=1e3,kU=10;class mk extends pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CU()&&Q$(),this.fallbackToPolling=ok(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);G$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mk.type="LOCAL";const PU=mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gk.type="SESSION";const vk=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ip(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await AU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Iw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function DU(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function OU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LU(){return yk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="firebaseLocalStorageDb",MU=1,Pf="firebaseLocalStorage",_k="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sp(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function FU(){const t=indexedDB.deleteDatabase(wk);return new xc(t).toPromise()}function Iv(){const t=indexedDB.open(wk,MU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pf,{keyPath:_k})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),await FU(),e(await Iv()))})})}async function G1(t,e,n){const r=sp(t,!0).put({[_k]:e,value:n});return new xc(r).toPromise()}async function VU(t,e){const n=sp(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function Q1(t,e){const n=sp(t,!0).delete(e);return new xc(n).toPromise()}const $U=800,UU=3;class xk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ip._getInstance(LU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OU(),!this.activeServiceWorker)return;this.sender=new NU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iv();return await G1(e,kf,"1"),await Q1(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sp(i,!1).getAll();return new xc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xk.type="LOCAL";const BU=xk;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){return e?mi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Sw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HU(t){return fk(t.auth,new Cw(t),t.bypassAuthState)}function WU(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),wU(n,new Cw(t),t.bypassAuthState)}async function qU(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),yU(n,new Cw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HU;case"linkViaPopup":case"linkViaRedirect":return qU;case"reauthViaPopup":case"reauthViaRedirect":return WU;default:jr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new yc(2e3,1e4);class Xo extends Ek{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KU.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="pendingRedirect",Cd=new Map;class QU extends Ek{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await XU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XU(t,e){const n=ZU(e),r=JU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function YU(t,e){Cd.set(t._key(),e)}function JU(t){return mi(t._redirectPersistence)}function ZU(t){return Id(GU,t.config.apiKey,t.name)}async function e9(t,e,n=!1){const r=wo(t),i=zU(r,e),o=await new QU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=10*60*1e3;class n9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t9&&this.cachedEventUids.clear(),this.cachedEventUids.has(X1(e))}saveEventToCache(e){this.cachedEventUids.add(X1(e)),this.lastProcessedEventTime=Date.now()}}function X1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o9=/^https?/;async function a9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i9(t);for(const n of e)try{if(l9(n))return}catch{}jr(t,"unauthorized-domain")}function l9(t){const e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!o9.test(n))return!1;if(s9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new yc(3e4,6e4);function Y1(){const t=Zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c9(t){return new Promise((e,n)=>{var r,i,s;function o(){Y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y1(),n(Jr(t,"network-request-failed"))},timeout:u9.get()})}if(!((i=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zr().gapi)===null||s===void 0)&&s.load)o();else{const a=nU("iframefcb");return Zr()[a]=()=>{gapi.load?o():n(Jr(t,"network-request-failed"))},lk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function d9(t){return Rd=Rd||c9(t),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new yc(5e3,15e3),h9="__/auth/iframe",p9="emulator/auth/iframe",m9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v9(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xw(e,p9):`https://${t.config.authDomain}/${h9}`,r={apiKey:e.apiKey,appName:t.name,v:ho},i=g9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zu(r).slice(1)}`}async function y9(t){const e=await d9(t),n=Zr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:v9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jr(t,"network-request-failed"),a=Zr().setTimeout(()=>{s(o)},f9.get());function l(){Zr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_9=500,x9=600,E9="_blank",b9="http://localhost";class J1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S9(t,e,n,r=_9,i=x9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},w9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Rn().toLowerCase();n&&(a=tk(u)?E9:n),ek(u)&&(e=e||b9,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,v])=>`${h}${g}=${v},`,"");if(K$(u)&&a!=="_self")return T9(e||"",a),new J1(null);const f=window.open(e||"",a,d);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new J1(f)}function T9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="__/auth/handler",C9="emulator/auth/handler",R9=encodeURIComponent("fac");async function Z1(t,e,n,r,i,s){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ho,eventId:i};if(e instanceof ck){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof _c){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${R9}=${encodeURIComponent(l)}`:"";return`${k9(t)}?${Zu(a).slice(1)}${u}`}function k9({config:t}){return t.emulator?xw(t,C9):`https://${t.authDomain}/${I9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class P9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vk,this._completeRedirectFn=e9,this._overrideRedirectResult=YU}async _openPopup(e,n,r,i){var s;Ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Z1(e,n,r,Tv(),i);return S9(e,o,Iw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Z1(e,n,r,Tv(),i);return DU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y9(e),r=new n9(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Im];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ok()||bw()||rp()}}const A9=P9;var eE="@firebase/auth",tE="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function O9(t){no(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ak(t)},u=new eU(r,i,s,l);return lU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),no(new ms("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new N9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(eE,tE,D9(t)),Qr(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=5*60,L9=nI("authIdTokenMaxAge")||j9;let nE=null;const M9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L9)return;const i=n==null?void 0:n.token;nE!==i&&(nE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Sk(t=d0()){const e=Th(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aU(t,{popupRedirectResolver:A9,persistence:[BU,PU,vk]}),r=nI("authTokenSyncURL");if(r){const s=M9(r);SU(n,s,()=>s(n.currentUser)),bU(n,o=>s(o))}const i=ZT("auth");return i&&uU(n,`http://${i}`),n}O9("Browser");const F9={apiKey:"AIzaSyDB_xquu4T4mLBvXdWxVlacMEPw5d0Ppmg",authDomain:"mataxi-d8046.firebaseapp.com",projectId:"mataxi-d8046",storageBucket:"mataxi-d8046.appspot.com",messagingSenderId:"890852158068",appId:"1:890852158068:web:96578f985aac02a9887f21",measurementId:"G-7QSZNK7F11"},op=oI(F9),Ge=X6(op),Cm=E$(op),fn=Sk(op),He=Sk(op),lr=()=>{const[t,e]=m.useState(null),[n,r]=m.useState(0),[i,s]=m.useState(0),[o,a]=m.useState(0),[l,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(null),[v,y]=m.useState(null),[x,_]=m.useState(null),[p,E]=m.useState(null);localStorage.getItem("username");const w=async A=>{const D={data:null,status:"pending"};console.log("Uploading Profile Picture >>",A);const j={contentType:"image/jpeg"},Z=Em(Cm,"driverProfilePictures/"+A.name);try{u(!0);const re=_m(Z,A,j);re.on("state_changed",ne=>{const q=ne.bytesTransferred/ne.totalBytes*100;switch(console.log("Upload is "+q+"% done"),r(parseInt(parseFloat(q).toFixed(0))),ne.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},ne=>{D.status="error",D.error=ne},()=>{xm(re.snapshot.ref).then(ne=>{console.log("File available at",ne),g(ne),u(!1),D.data=ne,D.status="success"}).catch(ne=>{D.status="error",D.error=ne})})}catch(re){console.log("the following error occurred >>",re),D.status="error",D.error=re}return console.log("profile pic res >>",D),D},b=async A=>{const D={data:null,status:"pending"};console.log("Uploading Inspection Report >>",A);const j={contentType:"image/jpeg"},Z=Em(Cm,"vehicleInspectionReports/"+A.name);try{u(!0);const re=_m(Z,A,j);re.on("state_changed",ne=>{const q=ne.bytesTransferred/ne.totalBytes*100;switch(console.log("Upload is "+q+"% done"),s(parseInt(parseFloat(q).toFixed(0))),ne.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},ne=>{D.status="error",D.error=ne},()=>{xm(re.snapshot.ref).then(ne=>{console.log("File available at",ne),y(ne),u(!1),D.data=ne,D.status="success"}).catch(ne=>{D.status="error",D.error=ne})})}catch(re){console.log("the following error occurred >>",re),D.status="error",D.error=re}return D},T=async A=>{const D={data:null,status:"pending"};console.log("Uploading Insurance Policy >>",A);const j={contentType:"image/jpeg"},Z=Em(Cm,"vehicleInsurancePolicies/"+A.name);try{u(!0);const re=_m(Z,A,j);re.on("state_changed",ne=>{const q=ne.bytesTransferred/ne.totalBytes*100;switch(console.log("Upload is "+q+"% done"),a(parseInt(parseFloat(q).toFixed(0))),ne.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},ne=>{D.status="error",D.error=ne},()=>{xm(re.snapshot.ref).then(ne=>{console.log("File available at",ne),_(ne),u(!1),D.data=ne,D.status="success"}).catch(ne=>{D.status="error",D.error=ne})})}catch(re){console.log("the following error occurred >>",re),D.status="error",D.error=re}return D},R=async A=>{try{u(!0),console.log("states ..."),console.log("Data to use in setDoc() >>",A);const D=St(Ge,"DriverProfiles",fn.currentUser.uid);return await Nn(D,{...A,userId:fn.currentUser.uid}),console.log("driver user >>",fn),u(!1),{status:"success",code:200,message:"Driver profile created successfully",driverProfileRef:D}}catch(D){return u(!1),console.error("Error creating driver profile:",D),{status:"error",code:500,message:"Failed to create driver profile"}}},C=async(A,D)=>{try{const j=Er(Ge,"VehicleCollection",D,D),Z=St(j);return await ci(Z,A),{success:!0,message:"Vehicle added successfully"}}catch{return{success:!1,message:"Failed to add the vehicle"}}},k=async(A,D)=>{try{const j=await xU(fn,A,D);return E(j.user),j}catch(j){throw console.error("failed to create a user >>",j),j}},N=async A=>{console.log("Creating Driver User..."),console.log("Driver User Data >> ",A);let D;try{D=await k(A.email,A.password),console.log("user credentials >>",D);const j=D.user;if(console.log("created user >>",D),j){const Z={driverPicture:null,driverUsername:A.fullName,inspectionReport:null,insurancePolicy:null,licenseExpirationDate:null,licenseNumber:null,sacco:A.sacco.sacco,seatCapacity:null,vehicleColor:null,vehicleMake:null,vehicleModel:null};return await ci(St(Ge,"DriverProfiles",j.uid),Z),{user:j,driverData:Z}}}catch(j){return console.log("err >>",j),{error:j}}},z=async A=>{console.log("Creating Rider User...");let D;try{D=await k(A.email,A.password),console.log("user credentials >>",D);const j=D.user;if(console.log("created user >>",D),j){console.log("Created Rider User >>",j.uid);const Z={name:A.username,email:A.email,mmemonics:A.mmemonics,paymail:A.paymail,public_key:A.public_key,secret_key:A.secret_key,userId:j.uid};return await ci(St(Ge,"RiderUsers",j.uid),Z),{success:!0,user:j,riderData:Z}}}catch(j){return console.log("err >>",j),{success:!1,error:j}}},S=async A=>{if(console.log("Received User Data"),console.log("Checking User Type..."),A.userType==="driver")return await N(A);if(A.userType==="rider")return await z(A)},I=async A=>{const D=St(Ge,"DriverProfiles",A);try{return(await zn(D)).exists()}catch(j){throw console.error("Error checking driver status:",j),j}};return{profilePictureUploadProgress:n,inspectionReportUploadProgress:i,insurancePolicyUploadProgress:o,loading:l,profilePictureImageURL:h,inspectionReportImageURL:v,insurancePolicyImageURL:x,uploadProfilePicture:w,uploadInspectionReport:b,uploadInsurancePolicy:T,updateDriverProfile:R,fetchDriverUserInfo:async A=>{const D=St(Ge,"DriverProfiles",A);try{const j=await zn(D);return j.exists()?(console.log("driverUser data: ",j.data()),{success:!0,data:j.data()}):(console.log("driver Doc don't exist"),{success:!1,data:"driver don't exist"})}catch(j){throw console.error("error occured while fetching driver >> ",j),j}},fetchRiderUserInfo:async A=>{const D=St(Ge,"RiderUsers",A);try{const j=await zn(D);return j.exists()?(console.log("riderUser data: ",j.data()),{success:!0,data:j.data()}):(console.log("Rider Doc don't exist"),{success:!1,data:"Rider don't exist"})}catch(j){throw console.error("error occured while fetching rider >> ",j),j}},createUser:S,addVehicle:C,login:async(A,D)=>{u(!0),console.log("logging in ... "),console.log("email >> ",A),console.log("password >> ",D);try{const j=await EU(fn,A,D);return e(j.user),u(!1),await I(j.user.uid)?(localStorage.setItem("isDriver","true"),localStorage.setItem("isAuth","true")):localStorage.removeItem("isDriver"),{success:!0,message:"Login successful"}}catch(j){return console.error("Login failed",j),f(j.code),u(!1),{success:!1,error:j.code}}},logout:async()=>{await IU(fn),localStorage.clear()}}},_o=()=>{m.useState(!1);const[t,e]=m.useState([]),[n,r]=m.useState([]),[i,s]=m.useState([]),[o,a]=m.useState([]),l=async S=>{try{console.log("new route data >>",S);const I=St(Er(Ge,"RouteCollection"));return await ci(I,S),{success:!0,message:"New route added successfully"}}catch(I){return console.error("error occured while registering a new route >>",I),{success:!1,message:"Failed to register a new route "}}},u=async()=>{const S=Er(Ge,"RouteCollection"),I=ks(S,El("approved","==",!0)),L=(await oi(I)).docs.map($=>({id:$.id,...$.data()}));console.log("setting routes to approvedRoutes state ..."),e(L),console.log("complete! approvedRoutesData >>",L)};m.useEffect(()=>{u()},[]);const d=async S=>{let I="";if(S==="Mataxi Standard"?I="mataxiStandard":S==="Mataxi XL"?I="mataxiXl":S==="Mataxi Luxe"&&(I="mataxiLuxe"),I){console.log("selectedRideType for ref >>",I);const O=Er(Ge,"VehicleCollection",I,I),L=ks(O),$=await oi(L);return $!=null&&$.empty?(console.log("No vehicle exists in the selected Category"),{success:!1,data:null,message:`No vehicle exists in the selected Category >> ${S}`}):(console.log("vehicleSnapShot from fetchVehicle >> ",$),{success:!0,data:$.docs.map(A=>({id:A.id,...A.data()}))[0],message:"Vehicles exists in the selected category"})}else return{success:!1,data:null,message:"selected category does not exist!"}},f=async()=>{console.log("fetching all vehicles ...");let S=["mataxiStandard","mataxiXl","mataxiLuxe"];if(S){const I=S.map(async L=>{const $=Er(Ge,"VehicleCollection",L,L),H=ks($),A=await oi(H);if(console.log(`snaopshots of  >> ${L} : `,A),A!=null&&A.empty)return console.log("No vehicle exists in the selected Category >> ",L),{mataxiRideType:L,success:!1,data:null,message:`No vehicle exists in the selected Category >> ${L}`};{console.log("vehicleSnapShot from fetchVehicle >> ",A);const D=A.docs.map(j=>({id:j.id,...j.data()}));return{mataxiRideType:L,success:!0,data:D,message:`Vehicles exist in the ${L} category`}}});return await Promise.all(I)}else return{success:!1,data:null,message:"selected categories do not exist!"}},h=async S=>{console.log(`fetching all vehicles from ${S}...`);let I=["mataxiStandard","mataxiXl","mataxiLuxe"];if(I){const O=I.map(async $=>{const H=Er(Ge,S,$,$),A=ks(H),D=await oi(A);if(console.log(`snapshots of  >> ${$} : `,D),D!=null&&D.empty)return console.log("No vehicle exists in the selected Category >> ",$),{mataxiRideType:$,success:!1,data:null,message:`No vehicle exists in the selected Category >> ${$}`};{console.log("vehicleSnapShot from fetchVehicle >> ",D);const j=D.docs.map(Z=>({id:Z.id,...Z.data()}));return{mataxiRideType:$,success:!0,data:j,message:`Vehicles exist in the ${$} category`}}});return await Promise.all(O)}else return{success:!1,data:null,message:"selected categories do not exist!"}},g=async()=>{try{const S=Er(Ge,"SaccoCollection"),I=await oi(S);return I.empty?(console.log("No registered Saccos Found"),{success:!1,saccos:null}):{success:!0,saccos:I.docs.map(L=>({id:L.id,...L.data()}))}}catch(S){return console.log("the following error occured >> ",S),{success:!1,error:S,saccos:null}}},v=async S=>{console.log("fetching all vehicles ...");let I=["mataxiStandard","mataxiXl","mataxiLuxe"];if(I){const O=I.map(async $=>{const H=Er(Ge,"VehicleCollection",$,$),A=ks(H,El("saccoName","==",S)),D=await oi(A);if(D!=null&&D.empty)return console.log(`No vehicle exists in the ${$} for Sacco : ${S} `),{mataxiRideType:$,saccoName:S,success:!1,data:null,message:`No vehicle exists in the selected Category >> ${$}`};{console.log(`vehicleSnapShot from fetchVehicle for Sacco: ${S} `,D);const j=D.docs.map(Z=>({id:Z.id,...Z.data()}));return{mataxiRideType:$,saccoName:S,success:!0,data:j,message:`Vehicles exist in the ${$} for ${S}`}}});return await Promise.all(O)}else return{success:!1,data:null,message:"selected categories do not exist!"}},y=async(S,I)=>{let O="";if(S==="Mataxi Standard"?O="mataxiStandard":S==="Mataxi XL"?O="mataxiXl":S==="Mataxi Luxe"&&(O="mataxiLuxe"),O&&I){console.log("selectedRideType for ref >>",O),console.log("vehicleId for ref >>",I);let L;try{const $=St(Ge,"BookingAllocationCollection",O,O,I);L=await zn($)}catch($){console.log("vehicleDocRef dont work >> ",$)}if(L.exists()){const $=L==null?void 0:L.data();return console.log("vehicleSnapshot exist! >> ",$),console.log(`Proceeding with selcted vehicle ${$!=null&&$.vehicleNumberPlate?$==null?void 0:$.vehicleNumberPlate:"<<plate goes here>>"} ...`),{success:!0,data:$,isFull:$.isFull,isAvailable:$.isAvailable}}else return{success:!1,error:"Vehicle not found"}}},x=async(S,I)=>{console.log("data checking before adding vehicle to collection ... "),console.log("data >> ",I);let O="";S==="Mataxi Standard"?O="mataxiStandard":S==="Mataxi XL"?O="mataxiXl":S==="Mataxi Luxe"&&(O="mataxiLuxe");const L=w(I==null?void 0:I.vehicleNumberPlate,I==null?void 0:I.seatCapacity);console.log("generated Seat numbers >> ",L);const $={...I,isFull:!1,availableSeats:L,bookedSeats:[]};console.log("rideType >> ",O);try{const H=St(Ge,"BookingAllocationCollection",O,O,I==null?void 0:I.id);return await ci(H,$),{success:!0,message:"vehicle added successfully in Booking Allocation Collection",data:$}}catch(H){return{success:!1,message:"vehicle could not be added to BookingAllocationCollection",error:H}}},_=async(S,I)=>{console.log(`pickup point selected >> ${S} destination >> ${I}`);try{const O=Er(Ge,"RouteCollection"),L=ks(O,El("endPoint","==",I),El("startPoint","==",S)),$=await oi(L);return console.log("selectedRouteQuerySnapShot >>> ",$),$!=null&&$.empty?{success:!1,message:"No Route Found"}:{success:!0,data:$.docs.map(A=>({id:A.id,...A.data()}))[0],message:"route exists"}}catch(O){return console.error("error from get selcted Routes >>",O),{success:!1,data:null,error:O}}},p=async S=>{const I={...S,booked:!0,paid:!1};console.log("bookingCollectionData >> ",I);try{const O=St(Er(Ge,"BookingCollection"));return await ci(O,I),{success:!0,message:"successfully registered a new booking",bookingId:O.id}}catch(O){throw console.error("Error registering new booking:",O),O}},E=async S=>{try{const I=St(Ge,"BookingCollection",S);return await Nn(I,{paid:!0}),{success:!0,data:`updated paid status of booking Ticket Number : #${S}`}}catch(I){throw console.error("the following error occured during updating booking Paid Status"),I}},w=(S,I)=>{const O=[];for(let L=0;L<I;L++){const $=`${S}_seat${L+1}`;O.push($)}return O};return{approvedRoutes:t,mataxiStandard:n,mataxiXl:i,mataxiLuxe:o,addVehicleToQueue:async(S,I)=>{if(console.log("Data received for adding vehicle to queue:",S),S){let O="";if(I==="MATAXI_STD"?O="mataxiStandard":I==="MATAXI_XL"?O="mataxiXl":I==="MATAXI_LUXE"&&(O="mataxiLuxe"),O)try{console.log(" selected  sub collection Name >> ",O);const L=St(Ge,"AvailableVehicleCollection",O,O,S.id),$=St(Ge,"VehicleCollection",O,O,S.id),H=St(Ge,"BookingAllocationCollection",O,O,S.id),A=await zn(L),D=w(S.vehicleNumberPlate,S.seatCapacity),j=await zn(H);if(A.exists()){if(console.log("Vehicle exists in the Available Vehicle Collection:",A.data()),j.exists())return console.log("Vehicle exists in the BookingAllocation Collection:",j.data()),await Nn(H,{isFull:!1,availableSeats:D,bookedSeats:[]}),await Nn(L,{isAvailable:!0}),await Nn($,{isAvailable:!0,isFull:!1}),{success:!0,message:"Vehicle made available successfully",data:A.data()};{console.log("Vehicle does not exist in the BookingAllocation Collection"),console.log("Creating vehicle in BookingAllocation Collection...");const re={...{...S,isFull:!1},availableSeats:D,bookedSeats:[]},ne=await ci(H,re);console.log("createBookingAllocationCollectionResponse  >> ",ne);const q=await Nn(L,{isAvailable:!0});return await Nn($,{isAvailable:!0,isFull:!1}),console.log("updateAvailableVehicleCollectionResponse  >> ",q),{success:!0,message:"Vehicle made available successfully",data:re}}}else{console.log("Creating available vehicle document...");const Z={vehicleId:S.id,vehicleNumberPlate:S.vehicleNumberPlate,isAvailable:!0};if(await ci(L,Z),j.exists())return console.log("Vehicle exists in the BookingAllocation Collection:",j.data()),await Nn(H,{isFull:!1,availableSeats:D,bookedSeats:[]}),{success:!0,message:"Vehicle made available successfully",data:A.data()};{console.log("Vehicle does not exist in the BookingAllocation Collection"),console.log("Creating vehicle in BookingAllocation Collection...");const ne={...{...S,isFull:!1},availableSeats:D,bookedSeats:[]},q=await ci(H,ne);return await Nn($,{isAvailable:!0,isFull:!1}),console.log("createBookingAllocationCollectionResponse  >> ",q),{success:!0,message:"Vehicle added to Booking Allocation Collection successfully",data:ne}}}}catch(L){return console.log("Error while adding vehicle to queue:",L),{success:!1,message:"Vehicle could not be made available",error:L}}else return console.log("subCollectionName is Undefined"),{success:!1,message:"could not read <<subCollectionName>>"}}else return console.log("Data is undefined"),{success:!1,Data:null,message:"Data is undefined"}},removeVehicleFromQueue:async(S,I)=>{if(console.log("Removing vehicle from queue with ID:",S.id),S){let O="";if(I==="MATAXI_STD"?O="mataxiStandard":I==="MATAXI_XL"?O="mataxiXl":I==="MATAXI_LUXE"&&(O="mataxiLuxe"),O)try{const L=St(Ge,"BookingAllocationCollection",O,O,S==null?void 0:S.id),$=await zn(L),H=St(Ge,"AvailableVehicleCollection",O,O,S.id),A=St(Ge,"VehicleCollection",O,O,S.id),D=await zn(H),j=await zn(L);if(D.exists()){if(console.log("Vehicle exists in the Available Vehicle Collection:",D.data()),j.exists())return console.log("Vehicle exists in the BookingAllocation Collection:",j.data()),await rd(L),await rd(H),await Nn(A,{isAvailable:!1,isFull:!1}),{success:!0,message:"Vehicle removed from queue successfully"};{console.log("Vehicle does not exist in the BookingAllocation Collection");const Z=await rd(H);return await Nn(A,{isAvailable:!1,isFull:!1}),console.log("updateAvailableVehicleCollectionResponse  >> ",Z),{success:!0,message:"Vehicle removed from queue successfully"}}}else return console.log("Creating available vehicle document..."),j.exists()?(console.log("Vehicle exists in the BookingAllocation Collection:",j.data()),await rd(L),{success:!0,message:"Vehicle removed from queue successfully"}):(console.log("Vehicle does not exist in the BookingAllocation Collection"),await Nn(A,{isAvailable:!1,isFull:!1}),{success:!0,message:"selected vehicle not found!"})}catch(L){return console.log("Error while removing vehicle from queue:",L),{success:!1,message:"Vehicle could not be removed from queue",error:L}}else return console.log("subCollectionName is undefined"),{success:!1,message:"Could not read subCollectionName"}}else return console.log("Vehicle ID is undefined"),{success:!1,message:"Vehicle ID is undefined"}},fetchAllMataxis:f,fetchAllVehiclesInCollection:h,fetchSaccos:g,fetchAllSaccoMataxis:v,registerNewRoute:l,registerNewBooking:p,getSelectedRoute:_,fetchSelectedVehicleDetails:d,fetchAvailableVehicle:async S=>{let I="";if(S==="Mataxi Standard"?I="mataxiStandard":S==="Mataxi XL"?I="mataxiXl":S==="Mataxi Luxe"&&(I="mataxiLuxe"),I){let O=0;for(;;){const L=Er(Ge,"AvailableVehicleCollection",I,I),$=await oi(L),H=ks(L,El("isAvailable","==",!0)),A=await oi(H);if(console.log("availableVehicleQuerySnapshot >> ",A),console.log("availableVehicleCollectionSnapshot >> ",$),A.empty)return{success:!1,data:null,message:`No vehicle exists in the selected Category >> ${S}`};{const D=A.docs.map(re=>({id:re.id,...re.data()})),j=D[O].id,Z=await y(S,j);if(!Z.success||!Z.isFull)return{success:!0,data:D[O],isFull:Z.isFull,isAvailable:Z.isAvailable};if(O++,O>=D.length)return{success:!1,data:null,message:`No available vehicle found in the selected Category >> ${S}`}}}}else return{success:!1,data:null,message:"selected category does not exist!"}},fetchTripDetails:async S=>{if(S){const I=St(Ge,"BookingCollection",S),O=await zn(I);return O.exists()?(console.log("Document data:",O.data()),{success:!0,data:O.data()}):(console.log("No such document!"),{success:!1,data:"No such document!"})}},addTransactionToFirestore:async S=>{console.log("transactional Data >> ",S);try{return{success:!0,message:"successfully saved tranasaction"}}catch(I){throw console.error("Error registering new TRANSACTION:",I),I}},updateBookingPaidStatus:E,updateSeatNumberBooking:async S=>{console.log("booking Data for updating seatnumber >> ",S);try{const{vehicleId:I,rideType:O,vehicleNumberPlate:L,selectedSeats:$}=S;let H="";O==="Mataxi Standard"?H="mataxiStandard":O==="Mataxi XL"?H="mataxiXl":O==="Mataxi Luxe"&&(H="mataxiLuxe");const A=St(Ge,"BookingAllocationCollection",H,H,I),D=St(Ge,"VehicleCollection",H,H,I),j=St(Ge,"AvailableVehicleCollection",H,H,I),Z=await zn(A),re=await zn(j),ne=await zn(D);if(Z.exists()){const q=Z.data();console.log("vehicleDoc picked >> ",q);const ye=q==null?void 0:q.bookedSeats;console.log("currentBookedSeats >> ",ye);const G=[...ye,...$];console.log("updatedBookedSeats >> ",G);const we=q==null?void 0:q.availableSeats.filter($e=>!G.includes($e)),ze=we.length===0;console.log("isFull as per after booking >> ",ze),console.log("updatedAvailableSeats >> ",we);try{return await Nn(A,{availableSeats:we,bookedSeats:G,isFull:ze}),await Nn(j,{isAvailable:!ze}),await Nn(D,{isFull:ze}),console.log(`Vehicle ${L} has been updated seats`),{success:!0,message:`Vehicle ${L} has been updated seats`}}catch($e){return console.log("error trying to awairt vehicle update >> ",$e),{success:!1,message:"error trying to awairt vehicle update >> ",error:$e}}}}catch(I){return console.error("Error updating seat numbers:",I),{success:!1,message:"Error updating seat numbers",error:I}}},fetchSelectedAvailableVehicleData:async(S,I)=>{let O="";if(S==="Mataxi Standard"?O="mataxiStandard":S==="Mataxi XL"?O="mataxiXl":S==="Mataxi Luxe"&&(O="mataxiLuxe"),O&&I){console.log("selectedRideType for ref >>",O),console.log("vehicleId for ref >>",I);let L;try{const $=St(Ge,"BookingAllocationCollection",O,O,I);L=await zn($)}catch($){console.log("bookedVehicleDocRef dont work >> ",$)}if(L!=null&&L.exists()){const $=L==null?void 0:L.data();return console.log("bookedVehicleData >> ",$),{success:!0,data:$}}else return{success:!1,error:"Vehicle not found"}}},checkIfVehicleExistsInTheBookingAllocationCollection:y,addSelectedVehicleToBookingAllocationCollection:x}};function V9(){const[t,e]=m.useState({isAuthenticated:!1,userType:null}),{logout:n}=lr(),r=wr(),i=localStorage.getItem("isDriver")?"Driver":"Rider";m.useEffect(()=>{const a=TU(fn,l=>{e(l?{isAuthenticated:!0,userType:i}:{isAuthenticated:!1,userType:null})});return()=>a()},[i]);const s=async()=>{try{console.log("logging out ..."),await n(),r("/home",{replace:!0})}catch(o){console.log("the following error occured during logout",o)}};return c.jsx(nL,{as:"nav",className:"fixed top-0 z-50 w-full bg-gray-200",children:({open:o})=>c.jsx(c.Fragment,{children:c.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(be,{to:"/home",children:c.jsx("h1",{className:"ml-2 text-[#F66E3C] text-xl font-bold",children:"Mataxi"})})}),c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs(ji,{as:"div",className:"relative ml-3",children:[c.jsx("div",{children:c.jsxs(ji.Button,{className:"relative flex rounded-full text-sm focus:outline-none focus:ring-1 focus:ring-[#f74909]",children:[c.jsx("span",{className:"sr-only",children:"Open user menu"}),c.jsx(NM,{className:"h-8 w-8 text-[#F66E3C]"})]})}),c.jsx(It,{as:m.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:c.jsx(ji.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-[#F66E3C] ring-opacity-5 focus:outline-none",children:t.isAuthenticated?c.jsxs(c.Fragment,{children:[t.userType==="Driver"&&c.jsx(ji.Item,{children:({active:a})=>c.jsx(be,{to:`/accounts/${t.userType}/profile`,className:"block px-4 py-2 text-sm text-gray-700",children:"Profile"})}),c.jsx(ji.Item,{children:({active:a})=>c.jsx(be,{to:`/settings/${t.userType}/settings`,className:"block px-4 py-2 text-sm text-gray-700",children:"Settings"})}),c.jsx(ji.Item,{children:({active:a})=>c.jsx("button",{onClick:s,className:"block px-4 py-2 text-sm text-gray-700",children:"Sign out"})})]}):c.jsxs(c.Fragment,{children:[c.jsx(ji.Item,{children:({active:a})=>c.jsx(be,{to:"login",className:"block px-4 py-2 text-sm text-gray-700",children:"Log In"})}),c.jsx(ji.Item,{children:({active:a})=>c.jsx(be,{to:"signup",className:"block px-4 py-2 text-sm text-gray-700",children:"Sign Up"})})]})})})]})})]})})})})}function $9(){return c.jsxs("div",{children:[c.jsx(V9,{}),c.jsx("div",{className:"",children:c.jsx(Wy,{})})]})}function U9({screensData:t}){const{title:e}=$n();console.log("title >>",e);const n=t.find(s=>s.id===e),r={backgroundImage:`url(${n.svgSrc})`,backgroundRepeat:"no-repeat",backgroundPosition:"center"};if(!n)return c.jsx("div",{children:"Screen not found."});const i=()=>c.jsx("div",{className:"flex items-center justify-center h-full w-full px-4 bg-white shadow-lg rounded-sm mt-20",children:c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsx("div",{className:"w-full h-[300px] bg-contain",style:r}),c.jsxs("div",{className:" px-5 ",children:[c.jsx("div",{className:"container mx-auto grid grid-cols-1 gap-3 py-2 "}),c.jsx("h1",{className:"text-xl font-bold text-[#F66E3C] text-center",children:n==null?void 0:n.title}),c.jsx("div",{className:"w-96",children:c.jsx("p",{className:"text-center",children:n.message})}),c.jsxs("div",{className:"flex items-center py-6 gap-4",children:[c.jsx(be,{to:n.screenHref,className:"basis-2/3 flex justify-center bg-[#F66E3C] hover:bg-[#eb490e] text-white font-semibold px-4 py-2 rounded-md",children:n.screenTarget}),c.jsx(be,{to:n.nextHref,className:"basis-1/3 flex justify-center border border-[#F66E3C] hover:bg-[#F66E3C] text-[#F66E3C] hover:text-white font-semibold px-4 py-2 rounded-md",children:"Next"})]})]})]})});return c.jsxs("div",{className:" h-screen overflow-hidden bg-cover",style:r,children:[c.jsx("div",{className:"h-full w-full absolute bg-gray-400/50"}),c.jsx("div",{className:" relative container mx-auto h-full flex justify-center items-center ",children:c.jsxs("div",{className:"  w-max h-max",children:[c.jsxs("div",{className:"absolute inset-x-36 flex justify-between top-32 w-4/5",children:[c.jsx(be,{to:n.prevHref,className:" flex justify-center  text-2xl  text-slate-800 hover:text-black font-semibold px-4 py-2 rounded-md",children:"Back"}),c.jsx(be,{to:"/home",className:" flex justify-center  text-2xl text-slate-800 hover:text-black font-semibold px-4 py-2 rounded-md",children:"Skip"})]}),c.jsx(i,{})]})})]})}const B9=()=>c.jsx("div",{className:" w-full  mx-auto p-4",children:c.jsxs("div",{className:"relative rounded-full bg-white shadow-md",children:[c.jsx("input",{type:"text",placeholder:"Search for destinations...",className:"block w-full rounded-full py-4 pl-10 pr-4 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300"}),c.jsx("div",{className:"absolute inset-y-0 right-5 pl-3 flex items-center pointer-events-none",children:c.jsx(CM,{className:"w-6 h-6 text-gray-800"})})]})});function z9({data:t}){return c.jsx("div",{className:"w-full h-full bg-white rounded-md shadow-sm py-3 px-4",children:c.jsxs("div",{className:" grid grid-cols-1 gap-6 place-items-center ",children:[c.jsx("h1",{className:"font-bold text-xl text-[#F66E3C]",children:t.title}),c.jsx("p",{className:"text-sm text-gray-600 text-center",children:t.content}),c.jsxs(be,{to:t.link,className:"py-3 px-4 bg-slate-500 rounded-md",children:[" ",t.button]})]})})}const H9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVwAAAAlCAYAAAAOTFGRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z3vUdtMGMTPYDDM8MEdRB3AW0H8VhBKcDpIKkg6iDuIUwGkAkQFKBWgVIAzAwPmn7MrniOXQ0AwBlvS/mZuJEvCjCVrtbd6dG45IRaQ09PTBJPEv15eXi7mJ5PJaHV1NW21WqNw+/Pz8z7WJWXvdX19PVxfX8/DZcfHx1t4ny3/+urqKlyfx9sLMQvaTohX4Ozs7ANE8w1EscsGwey6G0GlgP4Xb49th+Fr/E0evEzj7SnE7gmsrKwk+Jte8P+S4L0GmOTh9peXl9sQ7i/20q/LKfxYvt/pdHadEI/QckJMQSig7kY42TifQUD/j7cfj8efKYpLS0tF4zwbnOWoKm7SXLdrt9vFlI4aYtuFGKcbGxtZuC0cN93zARovBDmn9vlzCXRzkeCKAgrnyclJwm42RYRiimlCgYAb/BhvC0H54AUULi+H6ORra2ujuKvfdLivLi4uEjp6Nuwn7lO6+mHJdjvm1H/YBSnjBSkWc1FdJLgNwju02FGaG9tD+8mT3LrJOZxcDhHIlGe+DtjXPYoyRJbHgyLN2IPTw7JeA4+njk21kODWEHNL2zhRN+lSMS1OYCynoA7gRAdOVBo7xilmN9Eyy7h/cB7HXBfJBUWCW1HobtA1ZfefGWhaso6ZaeZdqrr79YU9FBzvxJwx2wgZcT/eTo54/khwKwDdDG469e0mVc9ZuRTm99FSOVbxGIEjfoPG2Ij5cBEhxRds8XJIcBeI+zLW0LFCdOlaM7lVMQ0UXty426IbZtTEnJiLyzJiMXskuHOCIgrx5E2STZwERVcQ01+YDtEd/OyEmCPmiHkjlRUS+4gtMlVLPB8J7hxg5oYvNOswU7lWsaiwaiJwwjQFRRyB9i0uaxP/hgR3xliNag8RwFtzrjm+nO+dEBXHxxEsXYNB2I3XsY5bLvhhJLgzwLpffOyzh8ZHV/cxLZwrWirnKuqO1XLvuJvvf2o3dHVDTkwPhZWDnpSt47P2/qaXEE2F5wDPhfF4PGTui3bEx8CdKJDDfQCKK7pOjAdYXN5zN1fv72U1jkKIu9hYGy7u5VGYkQ93mxZBSHDvAVfmQ3xZuH8YCaT4cqQqGhdiNnA4TUzofFlbznPsuyohagyvvLjK9uzACyHmAJ0uz0GLIA7ZeF46UW28wPLmFg7qHrMltJTDBjohxEJgJZPdeHnZsirSmEiBV1AbfSlFJpuq7lWI6mDn7zsfP1Q14quV4NLBskAbN7WGElMh6oV/OpPjieD8fotFHJApjcdrFi8EqwhYchJEBCxDGag8S4j6wyfhFAm+EtzRaDkFlnV/dcl4hBDPw0bX26EZk/l6Av5Gl3aaEOIpmPu9rXzgzXJVP5RglQSfwkoC7SghxLSw8oE9YkaOcL368U7CKxIF1scEfK2YQAjx0lBnaq019304CawQ4rXhgxdoE+tV9ysfYVJIGWAzyLaYQD8JI4RYGGzoST/ozpEX30qZQMtiDywqGFbuAwghGgnFt3IlphRYZrFOCCFqwtwqp3xFAaMCOVchRBOg87Vys0cz32fpYjQAzF8VBU4IIRpEVOu7F488aCOhHd4RXa6giFpxcHLfP7A3T/UEhxBC/MEy3364LKh+OLhdaCp8ZCsmNl/90gghhJgj5nq9rn71CwfBwlvRhZvddkIIIZ6MGdm/dJX3u9rMF1qtO6M0fut0OnoETgghpoDDSGIy4q8XQ19zzGeIHVJnPzMTO9wtJ4QQYioerE5gfIC2y6aKAyGEeBl+AwEhm8pLciN6AAAAAElFTkSuQmCC";function W9(){return c.jsxs("div",{className:"relative w-[380px] sm:w-[400px] xl:w-[560px]  rounded-xl grid grid-cols-1 gap-3 bg-[#7A9E9C] py-10 px-5",children:[c.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2",children:c.jsx("svg",{width:"30",height:"30",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("polygon",{points:"0,0 15,30 30,0",fill:"#fff"})})}),c.jsxs("div",{className:"py-3 flex w-full",children:[c.jsxs("div",{className:"basis-1/4 flex flex-col gap-2",children:[c.jsx("h3",{className:"text-sm ",children:"from"}),c.jsx("h1",{className:"text-md font-bold",children:"Nairobi"})]}),c.jsx("div",{className:"basis-1/2 flex relative ",children:c.jsx("div",{className:"h-1/2",children:c.jsx("img",{src:H9,alt:"",className:"w-full"})})}),c.jsxs("div",{className:"basis-1/4 flex flex-col gap-2 items-end",children:[c.jsx("h3",{className:"text-sm ",children:"to"}),c.jsx("h1",{className:"text-md font-bold",children:"Malindi"})]})]}),c.jsxs("div",{className:"py-3 flex justify-between",children:[c.jsxs("div",{className:"basis-1/4 flex flex-col gap-2",children:[c.jsx("h3",{className:"text-sm ",children:"Date"}),c.jsx("h1",{className:"text-md font-bold",children:"March, 10"})]}),c.jsx("div",{className:"basis-1/2 flex relative w-1/2 right-5"}),c.jsxs("div",{className:"basis-1/4 flex flex-col gap-2 items-end",children:[c.jsx("h3",{className:"text-sm ",children:"Time"}),c.jsx("h1",{className:"text-md font-bold",children:"8:00 am"})]})]}),c.jsxs("div",{className:"py-3 flex justify-between",children:[c.jsxs("div",{className:"basis-1/4 flex flex-col gap-2",children:[c.jsx("h3",{className:"text-sm ",children:"Available seat"}),c.jsx("h1",{className:"text-md font-bold",children:"4"})]}),c.jsx("div",{className:"basis-1/2 flex relative w-1/2 right-5"}),c.jsxs("div",{className:"basis-1/4 flex flex-col gap-2 items-end",children:[c.jsx("h3",{className:"text-sm ",children:"Price "}),c.jsx("h1",{className:"text-md font-bold",children:"KSH 1,500"})]})]}),c.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2",children:c.jsx("svg",{width:"30",height:"30",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("polygon",{points:"0,30 15,0 30,30",fill:"#fff"})})})]})}var Tk={},Ik={},ap={},Ck={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(Ck);var q9="Expected a function",rE=0/0,K9="[object Symbol]",G9=/^\s+|\s+$/g,Q9=/^[-+]0x[0-9a-f]+$/i,X9=/^0b[01]+$/i,Y9=/^0o[0-7]+$/i,J9=parseInt,Z9=typeof Rc=="object"&&Rc&&Rc.Object===Object&&Rc,e7=typeof self=="object"&&self&&self.Object===Object&&self,t7=Z9||e7||Function("return this")(),n7=Object.prototype,r7=n7.toString,i7=Math.max,s7=Math.min,Rm=function(){return t7.Date.now()};function o7(t,e,n){var r,i,s,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(q9);e=iE(e)||0,Cv(n)&&(d=!!n.leading,f="maxWait"in n,s=f?i7(iE(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(T){var R=r,C=i;return r=i=void 0,u=T,o=t.apply(C,R),o}function v(T){return u=T,a=setTimeout(_,e),d?g(T):o}function y(T){var R=T-l,C=T-u,k=e-R;return f?s7(k,s-C):k}function x(T){var R=T-l,C=T-u;return l===void 0||R>=e||R<0||f&&C>=s}function _(){var T=Rm();if(x(T))return p(T);a=setTimeout(_,y(T))}function p(T){return a=void 0,h&&r?g(T):(r=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:p(Rm())}function b(){var T=Rm(),R=x(T);if(r=arguments,i=this,l=T,R){if(a===void 0)return v(l);if(f)return a=setTimeout(_,e),g(l)}return a===void 0&&(a=setTimeout(_,e)),o}return b.cancel=E,b.flush=w,b}function Cv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function a7(t){return!!t&&typeof t=="object"}function l7(t){return typeof t=="symbol"||a7(t)&&r7.call(t)==K9}function iE(t){if(typeof t=="number")return t;if(l7(t))return rE;if(Cv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(G9,"");var n=X9.test(t);return n||Y9.test(t)?J9(t.slice(2),n?2:8):Q9.test(t)?rE:+t}var u7=o7,Rk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Rk);var lp=Rk.exports,se={};Object.defineProperty(se,"__esModule",{value:!0});se.checkSpecKeys=se.checkNavigable=se.changeSlide=se.canUseDOM=se.canGoNext=void 0;se.clamp=kk;se.swipeStart=se.swipeMove=se.swipeEnd=se.slidesOnRight=se.slidesOnLeft=se.slideHandler=se.siblingDirection=se.safePreventDefault=se.lazyStartIndex=se.lazySlidesOnRight=se.lazySlidesOnLeft=se.lazyEndIndex=se.keyHandler=se.initializedState=se.getWidth=se.getTrackLeft=se.getTrackCSS=se.getTrackAnimateCSS=se.getTotalSlides=se.getSwipeDirection=se.getSlideCount=se.getRequiredLazySlides=se.getPreClones=se.getPostClones=se.getOnDemandLazySlides=se.getNavigableIndexes=se.getHeight=se.extractObject=void 0;var c7=d7(m);function d7(t){return t&&t.__esModule?t:{default:t}}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){f7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kk(t,e,n){return Math.max(e,Math.min(t,n))}var Gs=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};se.safePreventDefault=Gs;var Rw=function(e){for(var n=[],r=kw(e),i=Pw(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};se.getOnDemandLazySlides=Rw;var h7=function(e){for(var n=[],r=kw(e),i=Pw(e),s=r;s<i;s++)n.push(s);return n};se.getRequiredLazySlides=h7;var kw=function(e){return e.currentSlide-Pk(e)};se.lazyStartIndex=kw;var Pw=function(e){return e.currentSlide+Ak(e)};se.lazyEndIndex=Pw;var Pk=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};se.lazySlidesOnLeft=Pk;var Ak=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};se.lazySlidesOnRight=Ak;var Af=function(e){return e&&e.offsetWidth||0};se.getWidth=Af;var Aw=function(e){return e&&e.offsetHeight||0};se.getHeight=Aw;var Nw=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};se.getSwipeDirection=Nw;var Dw=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};se.canGoNext=Dw;var p7=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};se.extractObject=p7;var m7=function(e){var n=c7.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Af(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(Af(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&Aw(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var h=e.lazyLoadedList||[],g=Rw(yt(yt({},e),{},{currentSlide:f,lazyLoadedList:h}));h=h.concat(g);var v={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:h};return e.autoplaying===null&&e.autoplay&&(v.autoplaying="playing"),v};se.initializedState=m7;var g7=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,h=e.slidesToShow,g=e.useCSS,v=e.lazyLoadedList;if(n&&r)return{};var y=o,x,_,p,E={},w={},b=s?o:kk(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?y=o+a:o>=a&&(y=o-a),l&&v.indexOf(y)<0&&(v=v.concat(y)),E={animating:!0,currentSlide:y,lazyLoadedList:v,targetSlide:y},w={animating:!1,targetSlide:y}}else x=y,y<0?(x=y+a,s?a%f!==0&&(x=a-a%f):x=0):!Dw(e)&&y>u?y=x=u:d&&y>=a?(y=s?a:a-1,x=s?0:a-1):y>=a&&(x=y-a,s?a%f!==0&&(x=0):x=a-h),!s&&y+h>=a&&(x=a-h),_=Uu(yt(yt({},e),{},{slideIndex:y})),p=Uu(yt(yt({},e),{},{slideIndex:x})),s||(_===p&&(y=x),_=p),l&&(v=v.concat(Rw(yt(yt({},e),{},{currentSlide:y})))),g?(E={animating:!0,currentSlide:x,trackStyle:Ow(yt(yt({},e),{},{left:_})),lazyLoadedList:v,targetSlide:b},w={animating:!1,currentSlide:x,trackStyle:$u(yt(yt({},e),{},{left:p})),swipeLeft:null,targetSlide:b}):E={currentSlide:x,trackStyle:$u(yt(yt({},e),{},{left:p})),lazyLoadedList:v,targetSlide:b};return{state:E,nextState:w}};se.slideHandler=g7;var v7=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,f=e.currentSlide,h=e.targetSlide,g=e.lazyLoad,v=e.infinite;if(o=d%l!==0,r=o?0:(d-f)%l,n.message==="previous")s=r===0?l:u-r,a=f-s,g&&!v&&(i=f-s,a=i===-1?d-1:i),v||(a=h-l);else if(n.message==="next")s=r===0?l:r,a=f+s,g&&!v&&(a=(f+l)%d+r),v||(a=h+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,v){var y=jk(yt(yt({},e),{},{targetSlide:a}));a>n.currentSlide&&y==="left"?a=a-d:a<n.currentSlide&&y==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};se.changeSlide=v7;var y7=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};se.keyHandler=y7;var w7=function(e,n,r){return e.target.tagName==="IMG"&&Gs(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};se.swipeStart=w7;var _7=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,f=n.edgeDragged,h=n.onEdge,g=n.swiped,v=n.swiping,y=n.slideCount,x=n.slidesToScroll,_=n.infinite,p=n.touchObject,E=n.swipeEvent,w=n.listHeight,b=n.listWidth;if(!r){if(i)return Gs(e);s&&o&&a&&Gs(e);var T,R={},C=Uu(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var k=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!v&&k>10)return{scrolling:!0};a&&(p.swipeLength=k);var N=(l?-1:1)*(p.curX>p.startX?1:-1);a&&(N=p.curY>p.startY?1:-1);var z=Math.ceil(y/x),S=Nw(n.touchObject,a),I=p.swipeLength;return _||(u===0&&(S==="right"||S==="down")||u+1>=z&&(S==="left"||S==="up")||!Dw(n)&&(S==="left"||S==="up"))&&(I=p.swipeLength*d,f===!1&&h&&(h(S),R.edgeDragged=!0)),!g&&E&&(E(S),R.swiped=!0),s?T=C+I*(w/b)*N:l?T=C-I*N:T=C+I*N,a&&(T=C+I*N),R=yt(yt({},R),{},{touchObject:p,swipeLeft:T,trackStyle:$u(yt(yt({},n),{},{left:T}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(R.swiping=!0,Gs(e)),R}};se.swipeMove=_7;var x7=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,f=n.scrolling,h=n.onSwipe,g=n.targetSlide,v=n.currentSlide,y=n.infinite;if(!r)return i&&Gs(e),{};var x=l?u/a:o/a,_=Nw(s,l),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return p;if(s.swipeLength>x){Gs(e),h&&h(_);var E,w,b=y?v:g;switch(_){case"left":case"up":w=b+kv(n),E=d?Rv(n,w):w,p.currentDirection=0;break;case"right":case"down":w=b-kv(n),E=d?Rv(n,w):w,p.currentDirection=1;break;default:E=b}p.triggerSlideHandler=E}else{var T=Uu(n);p.trackStyle=Ow(yt(yt({},n),{},{left:T}))}return p};se.swipeEnd=x7;var Nk=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};se.getNavigableIndexes=Nk;var Rv=function(e,n){var r=Nk(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};se.checkNavigable=Rv;var kv=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+Aw(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Af(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};se.getSlideCount=kv;var up=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};se.checkSpecKeys=up;var $u=function(e){up(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=Ok(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=yt(yt({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};se.getTrackCSS=$u;var Ow=function(e){up(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=$u(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};se.getTrackAnimateCSS=Ow;var Uu=function(e){if(e.unslick)return 0;up(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,f=e.variableWidth,h=e.slideHeight,g=e.fade,v=e.vertical,y=0,x,_,p=0;if(g||e.slideCount===1)return 0;var E=0;if(i?(E=-tu(e),o%l!==0&&n+l>o&&(E=-(n>o?a-(n-o):o%l)),s&&(E+=parseInt(a/2))):(o%l!==0&&n+l>o&&(E=a-o%l),s&&(E=parseInt(a/2))),y=E*u,p=E*h,v?x=n*h*-1+p:x=n*u*-1+y,f===!0){var w,b=r&&r.node;if(w=n+tu(e),_=b&&b.childNodes[w],x=_?_.offsetLeft*-1:0,s===!0){w=i?n+tu(e):n,_=b&&b.children[w],x=0;for(var T=0;T<w;T++)x-=b&&b.children[T]&&b.children[T].offsetWidth;x-=parseInt(e.centerPadding),x+=_&&(d-_.offsetWidth)/2}}return x};se.getTrackLeft=Uu;var tu=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};se.getPreClones=tu;var Dk=function(e){return e.unslick||!e.infinite?0:e.slideCount};se.getPostClones=Dk;var Ok=function(e){return e.slideCount===1?1:tu(e)+e.slideCount+Dk(e)};se.getTotalSlides=Ok;var jk=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+Lk(e)?"left":"right":e.targetSlide<e.currentSlide-Mk(e)?"right":"left"};se.siblingDirection=jk;var Lk=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};se.slidesOnRight=Lk;var Mk=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};se.slidesOnLeft=Mk;var E7=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};se.canUseDOM=E7;var cp={};function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}Object.defineProperty(cp,"__esModule",{value:!0});cp.Track=void 0;var $i=Fk(m),km=Fk(lp),Pm=se;function Fk(t){return t&&t.__esModule?t:{default:t}}function Av(){return Av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function b7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S7(t,e,n){return e&&oE(t.prototype,e),n&&oE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}function Nv(t,e){return Nv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Nv(t,e)}function I7(t){var e=R7();return function(){var r=Nf(t),i;if(e){var s=Nf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return C7(this,i)}}function C7(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dv(t)}function Dv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){Ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ov(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Am=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},k7=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Nm=function(e,n){return e.key||n},P7=function(e){var n,r=[],i=[],s=[],o=$i.default.Children.count(e.children),a=(0,Pm.lazyStartIndex)(e),l=(0,Pm.lazyEndIndex)(e);return $i.default.Children.forEach(e.children,function(u,d){var f,h={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?f=u:f=$i.default.createElement("div",null);var g=k7(Bn(Bn({},e),{},{index:d})),v=f.props.className||"",y=Am(Bn(Bn({},e),{},{index:d}));if(r.push($i.default.cloneElement(f,{key:"original"+Nm(f,d),"data-index":d,className:(0,km.default)(y,v),tabIndex:"-1","aria-hidden":!y["slick-active"],style:Bn(Bn({outline:"none"},f.props.style||{}),g),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&e.fade===!1){var x=o-d;x<=(0,Pm.getPreClones)(e)&&o!==e.slidesToShow&&(n=-x,n>=a&&(f=u),y=Am(Bn(Bn({},e),{},{index:n})),i.push($i.default.cloneElement(f,{key:"precloned"+Nm(f,n),"data-index":n,tabIndex:"-1",className:(0,km.default)(y,v),"aria-hidden":!y["slick-active"],style:Bn(Bn({},f.props.style||{}),g),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}}))),o!==e.slidesToShow&&(n=o+d,n<l&&(f=u),y=Am(Bn(Bn({},e),{},{index:n})),s.push($i.default.cloneElement(f,{key:"postcloned"+Nm(f,n),"data-index":n,tabIndex:"-1",className:(0,km.default)(y,v),"aria-hidden":!y["slick-active"],style:Bn(Bn({},f.props.style||{}),g),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},A7=function(t){T7(n,t);var e=I7(n);function n(){var r;b7(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ov(Dv(r),"node",null),Ov(Dv(r),"handleRef",function(a){r.node=a}),r}return S7(n,[{key:"render",value:function(){var i=P7(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return $i.default.createElement("div",Av({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}($i.default.PureComponent);cp.Track=A7;var dp={};function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}Object.defineProperty(dp,"__esModule",{value:!0});dp.Dots=void 0;var ad=Vk(m),N7=Vk(lp),lE=se;function Vk(t){return t&&t.__esModule?t:{default:t}}function uE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(r){O7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L7(t,e,n){return e&&cE(t.prototype,e),n&&cE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Lv(t,e)}function F7(t){var e=U7();return function(){var r=Df(t),i;if(e){var s=Df(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return V7(this,i)}}function V7(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $7(t)}function $7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(t)}var B7=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},z7=function(t){M7(n,t);var e=F7(n);function n(){return j7(this,n),e.apply(this,arguments)}return L7(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,d=i.slidesToShow,f=i.slideCount,h=i.currentSlide,g=B7({slideCount:f,slidesToScroll:u,slidesToShow:d,infinite:l}),v={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},y=[],x=0;x<g;x++){var _=(x+1)*u-1,p=l?_:(0,lE.clamp)(_,0,f-1),E=p-(u-1),w=l?E:(0,lE.clamp)(E,0,f-1),b=(0,N7.default)({"slick-active":l?h>=w&&h<=p:h===w}),T={message:"dots",index:x,slidesToScroll:u,currentSlide:h},R=this.clickHandler.bind(this,T);y=y.concat(ad.default.createElement("li",{key:x,className:b},ad.default.cloneElement(this.props.customPaging(x),{onClick:R})))}return ad.default.cloneElement(this.props.appendDots(y),D7({className:this.props.dotsClass},v))}}]),n}(ad.default.PureComponent);dp.Dots=z7;var Na={};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}Object.defineProperty(Na,"__esModule",{value:!0});Na.PrevArrow=Na.NextArrow=void 0;var ca=Uk(m),$k=Uk(lp),H7=se;function Uk(t){return t&&t.__esModule?t:{default:t}}function Of(){return Of=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(r){W7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zk(t,e,n){return e&&fE(t.prototype,e),n&&fE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Fv(t,e)}function Wk(t){var e=G7();return function(){var r=Lf(t),i;if(e){var s=Lf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return q7(this,i)}}function q7(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K7(t)}function K7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(t)}var Q7=function(t){Hk(n,t);var e=Wk(n);function n(){return Bk(this,n),e.apply(this,arguments)}return zk(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,$k.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=ca.default.cloneElement(this.props.prevArrow,jf(jf({},o),a)):l=ca.default.createElement("button",Of({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(ca.default.PureComponent);Na.PrevArrow=Q7;var X7=function(t){Hk(n,t);var e=Wk(n);function n(){return Bk(this,n),e.apply(this,arguments)}return zk(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,H7.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,$k.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=ca.default.cloneElement(this.props.nextArrow,jf(jf({},o),a)):l=ca.default.createElement("button",Of({key:"1",type:"button"},o)," ","Next"),l}}]),n}(ca.default.PureComponent);Na.NextArrow=X7;var qk=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),Vv=typeof window<"u"&&typeof document<"u"&&window.document===document,Mf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Y7=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Mf):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),J7=2;function Z7(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){Y7(s)}function a(){var l=Date.now();if(n){if(l-i<J7)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var e8=20,t8=["top","right","bottom","left","width","height","size","weight"],n8=typeof MutationObserver<"u",r8=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Z7(this.refresh.bind(this),e8)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Vv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),n8?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Vv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=t8.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Kk=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Da=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Mf},Gk=fp(0,0,0,0);function Ff(t){return parseFloat(t)||0}function hE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Ff(s)},0)}function i8(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Ff(o)}return n}function s8(t){var e=t.getBBox();return fp(0,0,e.width,e.height)}function o8(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Gk;var r=Da(t).getComputedStyle(t),i=i8(r),s=i.left+i.right,o=i.top+i.bottom,a=Ff(r.width),l=Ff(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=hE(r,"left","right")+s),Math.round(l+o)!==n&&(l-=hE(r,"top","bottom")+o)),!l8(t)){var u=Math.round(a+s)-e,d=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return fp(i.left,i.top,a,l)}var a8=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Da(t).SVGGraphicsElement}:function(t){return t instanceof Da(t).SVGElement&&typeof t.getBBox=="function"}}();function l8(t){return t===Da(t).document.documentElement}function u8(t){return Vv?a8(t)?s8(t):o8(t):Gk}function c8(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return Kk(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function fp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var d8=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=u8(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),f8=function(){function t(e,n){var r=c8(n);Kk(this,{target:e,contentRect:r})}return t}(),h8=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new qk,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Da(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new d8(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Da(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new f8(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Qk=typeof WeakMap<"u"?new WeakMap:new qk,Xk=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=r8.getInstance(),r=new h8(e,n,this);Qk.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Xk.prototype[t]=function(){var e;return(e=Qk.get(this))[t].apply(e,arguments)}});var p8=function(){return typeof Mf.ResizeObserver<"u"?Mf.ResizeObserver:Xk}();const m8=Object.freeze(Object.defineProperty({__proto__:null,default:p8},Symbol.toStringTag,{value:"Module"})),g8=NP(m8);Object.defineProperty(ap,"__esModule",{value:!0});ap.InnerSlider=void 0;var An=Ec(m),v8=Ec(Ck),y8=Ec(u7),w8=Ec(lp),bt=se,_8=cp,x8=dp,pE=Na,E8=Ec(g8);function Ec(t){return t&&t.__esModule?t:{default:t}}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function $f(){return $f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}function b8(t,e){if(t==null)return{};var n=S8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I8(t,e,n){return e&&gE(t.prototype,e),n&&gE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$v(t,e)}function R8(t){var e=P8();return function(){var r=Uf(t),i;if(e){var s=Uf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return k8(this,i)}}function k8(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Uf(t)}function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A8=function(t){C8(n,t);var e=R8(n);function n(r){var i;T8(this,n),i=e.call(this,r),Me(Le(i),"listRefHandler",function(o){return i.list=o}),Me(Le(i),"trackRefHandler",function(o){return i.track=o}),Me(Le(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,bt.getHeight)(o)+"px"}}),Me(Le(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,bt.getOnDemandLazySlides)(xe(xe({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=xe({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new E8.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Me(Le(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Me(Le(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,bt.getOnDemandLazySlides)(xe(xe({},i.props),i.state));a.length>0&&(i.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=xe(xe({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=An.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:An.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Me(Le(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,y8.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Me(Le(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=xe(xe({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Me(Le(i),"updateState",function(o,a,l){var u=(0,bt.initializedState)(o);o=xe(xe(xe({},o),u),{},{slideIndex:u.currentSlide});var d=(0,bt.getTrackLeft)(o);o=xe(xe({},o),{},{left:d});var f=(0,bt.getTrackCSS)(o);(a||An.default.Children.count(i.props.children)!==An.default.Children.count(o.children))&&(u.trackStyle=f),i.setState(u,l)}),Me(Le(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,bt.getPreClones)(xe(xe(xe({},i.props),i.state),{},{slideCount:i.props.children.length})),d=(0,bt.getPostClones)(xe(xe(xe({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(R){l.push(R.props.style.width),o+=R.props.style.width});for(var f=0;f<u;f++)a+=l[l.length-1-f],o+=l[l.length-1-f];for(var h=0;h<d;h++)o+=l[h];for(var g=0;g<i.state.currentSlide;g++)a+=l[g];var v={width:o+"px",left:-a+"px"};if(i.props.centerMode){var y="".concat(l[i.state.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(y,") / 2 ) ")}return{trackStyle:v}}var x=An.default.Children.count(i.props.children),_=xe(xe(xe({},i.props),i.state),{},{slideCount:x}),p=(0,bt.getPreClones)(_)+(0,bt.getPostClones)(_)+x,E=100/i.props.slidesToShow*p,w=100/p,b=-w*((0,bt.getPreClones)(_)+i.state.currentSlide)*E/100;i.props.centerMode&&(b+=(100-w*E/100)/2);var T={width:E+"%",left:b+"%"};return{slideWidth:w+"%",trackStyle:T}}),Me(Le(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var d=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(){f(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=d,u.onerror=function(){d(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Me(Le(i),"progressiveLazyLoad",function(){for(var o=[],a=xe(xe({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,bt.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,bt.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Me(Le(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,d=l.beforeChange,f=l.onLazyLoad,h=l.speed,g=l.afterChange,v=i.state.currentSlide,y=(0,bt.slideHandler)(xe(xe(xe({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),x=y.state,_=y.nextState;if(x){d&&d(v,x.currentSlide);var p=x.lazyLoadedList.filter(function(E){return i.state.lazyLoadedList.indexOf(E)<0});f&&p.length>0&&f(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),g&&g(v),delete i.animationEndCallback),i.setState(x,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),_&&(i.animationEndCallback=setTimeout(function(){var E=_.animating,w=b8(_,["animating"]);i.setState(w,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:E})},10)),g&&g(x.currentSlide),delete i.animationEndCallback})},h))})}}),Me(Le(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=xe(xe({},i.props),i.state),u=(0,bt.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var d=i.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),Me(Le(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Me(Le(i),"keyHandler",function(o){var a=(0,bt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Me(Le(i),"selectHandler",function(o){i.changeSlide(o)}),Me(Le(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Me(Le(i),"enableBodyScroll",function(){window.ontouchmove=null}),Me(Le(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,bt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Me(Le(i),"swipeMove",function(o){var a=(0,bt.swipeMove)(o,xe(xe(xe({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Me(Le(i),"swipeEnd",function(o){var a=(0,bt.swipeEnd)(o,xe(xe(xe({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Me(Le(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Me(Le(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Me(Le(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Me(Le(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Me(Le(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,bt.canGoNext)(xe(xe({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Me(Le(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Me(Le(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Me(Le(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Me(Le(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Me(Le(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Me(Le(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Me(Le(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Me(Le(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Me(Le(i),"render",function(){var o=(0,w8.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=xe(xe({},i.props),i.state),l=(0,bt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=xe(xe({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var d;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,bt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=i.props.pauseOnDotsHover;f=xe(xe({},f),{},{clickHandler:i.changeSlide,onMouseEnter:h?i.onDotsLeave:null,onMouseOver:h?i.onDotsOver:null,onMouseLeave:h?i.onDotsLeave:null}),d=An.default.createElement(x8.Dots,f)}var g,v,y=(0,bt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=i.changeSlide,i.props.arrows&&(g=An.default.createElement(pE.PrevArrow,y),v=An.default.createElement(pE.NextArrow,y));var x=null;i.props.vertical&&(x={height:i.state.listHeight});var _=null;i.props.vertical===!1?i.props.centerMode===!0&&(_={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(_={padding:i.props.centerPadding+" 0px"});var p=xe(xe({},x),_),E=i.props.touchMove,w={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:E?i.swipeStart:null,onMouseMove:i.state.dragging&&E?i.swipeMove:null,onMouseUp:E?i.swipeEnd:null,onMouseLeave:i.state.dragging&&E?i.swipeEnd:null,onTouchStart:E?i.swipeStart:null,onTouchMove:i.state.dragging&&E?i.swipeMove:null,onTouchEnd:E?i.touchEnd:null,onTouchCancel:i.state.dragging&&E?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},b={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(w={className:"slick-list"},b={className:o}),An.default.createElement("div",b,i.props.unslick?"":g,An.default.createElement("div",$f({ref:i.listRefHandler},w),An.default.createElement(_8.Track,$f({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":v,i.props.unslick?"":d)}),i.list=null,i.track=null,i.state=xe(xe({},v8.default),{},{currentSlide:i.props.initialSlide,slideCount:An.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=xe(xe({},i.state),s),i}return I8(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Vf(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||An.default.Children.count(this.props.children)!==An.default.Children.count(i.children)}}]),n}(An.default.Component);ap.InnerSlider=A8;var N8=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},D8=N8,O8=D8,j8=function(t){var e=/[height|width]$/;return e.test(t)},vE=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=O8(r),j8(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},L8=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=vE(n),r<t.length-1&&(e+=", ")}),e):vE(t)},M8=L8,Yk={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(m);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(Yk);var Dm,yE;function F8(){if(yE)return Dm;yE=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Dm=t,Dm}var Om,wE;function Jk(){if(wE)return Om;wE=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Om={isFunction:n,isArray:e,each:t},Om}var jm,_E;function V8(){if(_E)return jm;_E=1;var t=F8(),e=Jk().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},jm=n,jm}var Lm,xE;function $8(){if(xE)return Lm;xE=1;var t=V8(),e=Jk(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,d)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(f){r(f)&&(f={match:f}),u[o].addHandler(f)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Lm=s,Lm}var Mm,EE;function U8(){if(EE)return Mm;EE=1;var t=$8();return Mm=new t,Mm}(function(t){function e(C){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},e(C)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(m),r=ap,i=a(M8),s=a(Yk),o=se;function a(C){return C&&C.__esModule?C:{default:C}}function l(){return l=Object.assign||function(C){for(var k=1;k<arguments.length;k++){var N=arguments[k];for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(C[z]=N[z])}return C},l.apply(this,arguments)}function u(C,k){var N=Object.keys(C);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(C);k&&(z=z.filter(function(S){return Object.getOwnPropertyDescriptor(C,S).enumerable})),N.push.apply(N,z)}return N}function d(C){for(var k=1;k<arguments.length;k++){var N=arguments[k]!=null?arguments[k]:{};k%2?u(Object(N),!0).forEach(function(z){b(C,z,N[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(N)):u(Object(N)).forEach(function(z){Object.defineProperty(C,z,Object.getOwnPropertyDescriptor(N,z))})}return C}function f(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function h(C,k){for(var N=0;N<k.length;N++){var z=k[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(C,z.key,z)}}function g(C,k,N){return k&&h(C.prototype,k),N&&h(C,N),Object.defineProperty(C,"prototype",{writable:!1}),C}function v(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),k&&y(C,k)}function y(C,k){return y=Object.setPrototypeOf||function(z,S){return z.__proto__=S,z},y(C,k)}function x(C){var k=E();return function(){var z=w(C),S;if(k){var I=w(this).constructor;S=Reflect.construct(z,arguments,I)}else S=z.apply(this,arguments);return _(this,S)}}function _(C,k){if(k&&(e(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(C)}function p(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(C){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},w(C)}function b(C,k,N){return k in C?Object.defineProperty(C,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[k]=N,C}var T=(0,o.canUseDOM)()&&U8(),R=function(C){v(N,C);var k=x(N);function N(z){var S;return f(this,N),S=k.call(this,z),b(p(S),"innerSliderRefHandler",function(I){return S.innerSlider=I}),b(p(S),"slickPrev",function(){return S.innerSlider.slickPrev()}),b(p(S),"slickNext",function(){return S.innerSlider.slickNext()}),b(p(S),"slickGoTo",function(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return S.innerSlider.slickGoTo(I,O)}),b(p(S),"slickPause",function(){return S.innerSlider.pause("paused")}),b(p(S),"slickPlay",function(){return S.innerSlider.autoPlay("play")}),S.state={breakpoint:null},S._responsiveMediaHandlers=[],S}return g(N,[{key:"media",value:function(S,I){T.register(S,I),this._responsiveMediaHandlers.push({query:S,handler:I})}},{key:"componentDidMount",value:function(){var S=this;if(this.props.responsive){var I=this.props.responsive.map(function(L){return L.breakpoint});I.sort(function(L,$){return L-$}),I.forEach(function(L,$){var H;$===0?H=(0,i.default)({minWidth:0,maxWidth:L}):H=(0,i.default)({minWidth:I[$-1]+1,maxWidth:L}),(0,o.canUseDOM)()&&S.media(H,function(){S.setState({breakpoint:L})})});var O=(0,i.default)({minWidth:I.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(O,function(){S.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(S){T.unregister(S.query,S.handler)})}},{key:"render",value:function(){var S=this,I,O;this.state.breakpoint?(O=this.props.responsive.filter(function(q){return q.breakpoint===S.state.breakpoint}),I=O[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),O[0].settings)):I=d(d({},s.default),this.props),I.centerMode&&(I.slidesToScroll>1,I.slidesToScroll=1),I.fade&&(I.slidesToShow>1,I.slidesToScroll>1,I.slidesToShow=1,I.slidesToScroll=1);var L=n.default.Children.toArray(this.props.children);L=L.filter(function(q){return typeof q=="string"?!!q.trim():!!q}),I.variableWidth&&(I.rows>1||I.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),I.variableWidth=!1);for(var $=[],H=null,A=0;A<L.length;A+=I.rows*I.slidesPerRow){for(var D=[],j=A;j<A+I.rows*I.slidesPerRow;j+=I.slidesPerRow){for(var Z=[],re=j;re<j+I.slidesPerRow&&(I.variableWidth&&L[re].props.style&&(H=L[re].props.style.width),!(re>=L.length));re+=1)Z.push(n.default.cloneElement(L[re],{key:100*A+10*j+re,tabIndex:-1,style:{width:"".concat(100/I.slidesPerRow,"%"),display:"inline-block"}}));D.push(n.default.createElement("div",{key:10*A+j},Z))}I.variableWidth?$.push(n.default.createElement("div",{key:A,style:{width:H}},D)):$.push(n.default.createElement("div",{key:A},D))}if(I==="unslick"){var ne="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:ne},L)}else $.length<=I.slidesToShow&&(I.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},I),$)}}]),N}(n.default.Component);t.default=R})(Ik);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Ik);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(Tk);const B8=Kv(Tk);function z8(){const t=m.createRef(),e=[1,2,3,4,5,6,7,8,9],n={className:"center",centerMode:!0,infinite:!0,slidesToShow:1,speed:500,autoplay:!0,speed:2e3,autoplaySpeed:4e3,cssEase:"linear",responsive:[{breakpoint:1500,settings:{centerPadding:"250px",slidesToShow:1}},{breakpoint:600,settings:{centerPadding:"50px",slidesToShow:1}},{breakpoint:480,settings:{centerPadding:"10px",slidesToShow:1}}]};return c.jsx("div",{className:"h-[22rem] w-full overflow-hidden",children:c.jsx(B8,{...n,ref:t,children:e.map(r=>c.jsx("div",{className:"",children:c.jsx(W9,{})},r))})})}function H8(){return c.jsxs("div",{className:"w-full flex flex-col gap-2",children:[c.jsx("div",{children:c.jsx("h1",{className:"text-xl text-center font-bold text-[#F66E3C] my-2",children:"Upcoming trips"})}),c.jsx("div",{className:"my-2",children:c.jsx("h3",{className:"text-md font-semibold text-center text-gray-900",children:"Check out some of our upcoming trips and start planning your next adventure with Mataxi!"})}),c.jsx("div",{className:"my-4",children:c.jsx(z8,{})}),c.jsxs("div",{className:"flex justify-center gap-9 w-full my-7 ",children:[c.jsx("button",{className:"rounded-lg py-3 px-6 bg-[#F66E3C] hover:bg-[#f73e00]",children:"Plan Your Trip"}),c.jsx("button",{className:"rounded-lg py-3 px-6 text-[#F66C3E] font-medium hover:text-white border border-[#F66E3C] hover:bg-[#F66E3C] ",children:"View all"})]})]})}const W8="/assets/route-2f561ab5.png";function Io(){return c.jsx("div",{className:"border border-[#F66E3C] rounded-lg overflow-clip",children:c.jsxs("div",{className:"block rounde",children:[c.jsx("img",{alt:"Art",src:W8,className:" h-52 w-full object-cover sm:h-60"}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 px-4",children:[c.jsxs("div",{className:"flex justify-between ",children:[c.jsx("div",{className:"",children:c.jsx("h3",{className:"mt-1 text-sm   text-gray-900 sm:text-lg",children:"Route"})}),c.jsx("div",{className:"",children:c.jsx("h3",{className:"mt-1 text-md font-semibold text-gray-900 sm:text-lg",children:"Thika to Nairobi"})})]}),c.jsxs("div",{className:"flex justify-between gap-2",children:[c.jsx("div",{className:"",children:c.jsx("h3",{className:"mt-1 text-sm   text-gray-900 sm:text-lg",children:"Price"})}),c.jsx("div",{className:"",children:c.jsx("h3",{className:"mt-1 text-md font-semibold text-gray-900 sm:text-lg",children:"100 KES"})})]}),c.jsxs("div",{className:"flex justify-between gap-2",children:[c.jsx("div",{className:"",children:c.jsx("h3",{className:"mt-1 text-sm    text-gray-900 sm:text-lg",children:"Schedule"})}),c.jsx("div",{className:"",children:c.jsx("h3",{className:"mt-1 text-md font-semibold text-gray-900 sm:text-lg",children:"Every hour"})})]})]})]})})}function q8(){return c.jsx("div",{className:"w-full px-10 bg-white rounded-xl shadow-md",children:c.jsx("div",{className:"container mx-auto my-5 py-5",children:c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsx("div",{className:"my-5 flex justify-center items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-[#F66E3C]",children:"Popular Routes"})}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-center text-gray-700",children:"Explore our handpicked selection of city-to-city and inter-county commutes. Browse through schedules and compare prices to find the best option for you. Book your trip today and experience hassle-free travel with Mataxi."})}),c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx(Io,{}),c.jsx(Io,{}),c.jsx(Io,{}),c.jsx(Io,{}),c.jsx(Io,{}),c.jsx(Io,{})]}),c.jsx("div",{className:"flex w-full justify-center  my-10",children:c.jsxs("div",{className:"basis-1/3",children:[" ",c.jsx("button",{className:"w-full py-2 px-6 bg-[#f66E3C] rounded-md",children:"Find Route"})]})})]})]})})})}function Co({data:t}){return c.jsxs("div",{className:"group relative flex flex-col bg-black h-[380px] overflow-clip rounded-xl",children:[c.jsx("img",{alt:"Developer",src:t.imageSrc,className:"flex-grow-1 h-full object-cover opacity-75 transition-opacity group-hover:opacity-50"}),c.jsx("div",{className:"absolute top-5 left-5 p-4 sm:p-6 lg:p-8 flex-grow",children:c.jsx("div",{className:" mt-60 ",children:c.jsx("div",{className:"translate-y-8 transform opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100",children:c.jsx("p",{className:"text-xl font-bold text-[#F66E3C] sm:text-2xl",children:t.name})})})})]})}function K8(){return c.jsx("div",{className:"w-full px-10 bg-white rounded-xl shadow-md",children:c.jsx("div",{className:"container mx-auto my-5 py-5",children:c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsx("div",{className:"my-5 flex justify-center items-center",children:c.jsx("h1",{className:"text-4xl font-extrabold text-[#F66E3C]",children:"Top Destination"})}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-center text-gray-700",children:"Discover the best places to go with Mataxi! Our top destinations feature the most popular and exciting places that our travelers love to visit. From vibrant cities to scenic spots, we've got you covered."})}),c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsxs("div",{className:"w-full flex gap-5",children:[c.jsx("div",{className:"basis-3/5",children:c.jsx(Co,{data:bo[0]})}),c.jsx("div",{className:"basis-2/5",children:c.jsx(Co,{data:bo[1]})})]}),c.jsxs("div",{className:"w-full flex gap-7",children:[c.jsx("div",{className:"basis-2/3",children:c.jsx(Co,{data:bo[2]})}),c.jsx("div",{className:"basis-1/3",children:c.jsx(Co,{data:bo[3]})})]}),c.jsxs("div",{className:"w-full flex gap-7",children:[c.jsx("div",{className:"basis-2/5",children:c.jsx(Co,{data:bo[4]})}),c.jsx("div",{className:"basis-3/5",children:c.jsx(Co,{data:bo[5]})})]})]}),c.jsx("div",{className:"flex w-full justify-center  my-10",children:c.jsxs("div",{className:"basis-1/3",children:[" ",c.jsx("button",{className:"w-full py-2 px-6 bg-[#f66E3C] rounded-md",children:"Explore more"})]})})]})]})})})}function G8(){return c.jsx("footer",{className:"bg-black text-white py-5 ",children:c.jsxs("div",{className:"container mx-auto flex justify-center space-x-6 w-full",children:[c.jsx("a",{href:"#",className:"text-white hover:underline",children:"About Us"}),c.jsx("a",{href:"#",className:"text-white hover:underline",children:"Contact Us"}),c.jsx("a",{href:"#",className:"text-white hover:underline",children:"Privacy Policy"}),c.jsx("a",{href:"#",className:"text-white hover:underline",children:"Terms and Conditions"})]})})}function Q8(){return c.jsx("div",{className:"h-full",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"min-h-screen absolute inset-0 h-full w-full",children:[c.jsx("div",{className:"absolute inset-0  bg-gray-200",children:c.jsx("img",{src:xT,alt:"Placeholder",className:"w-full h-full object-cover object-center"})}),c.jsx("div",{className:"absolute inset-0 h-full bg-[#181b1c]/25"})]}),c.jsx("div",{className:"absolute h-full w-full  text-white",children:c.jsxs("div",{className:"h-full w-full mt-28  ",children:[c.jsx("div",{className:"w-full container mx-auto px-10",children:c.jsxs("div",{className:"flex flex-col gap-5 ",children:[c.jsx(B9,{}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-7",children:FD.map((t,e)=>c.jsx(z9,{data:t},`card-${e}`))}),c.jsx("div",{className:"w-full py-8",children:c.jsx(H8,{})}),c.jsx("div",{children:c.jsx(q8,{})}),c.jsx("div",{children:c.jsx(K8,{})})]})}),c.jsx(G8,{})]})})]})})}var bc=t=>t.type==="checkbox",Yo=t=>t instanceof Date,On=t=>t==null;const Zk=t=>typeof t=="object";var Yt=t=>!On(t)&&!Array.isArray(t)&&Zk(t)&&!Yo(t),eP=t=>Yt(t)&&t.target?bc(t.target)?t.target.checked:t.target.value:t,X8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tP=(t,e)=>t.has(X8(e)),Y8=t=>{const e=t.constructor&&t.constructor.prototype;return Yt(e)&&e.hasOwnProperty("isPrototypeOf")},jw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $r(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(jw&&(t instanceof Blob||t instanceof FileList))&&(n||Yt(t)))if(e=n?[]:{},!n&&!Y8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=$r(t[r]));else return t;return e}var Sc=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,ae=(t,e,n)=>{if(!e||!Yt(t))return n;const r=Sc(e.split(/[,[\].]+?/)).reduce((i,s)=>On(i)?i:i[s],t);return Ft(r)||r===t?Ft(t[e])?n:t[e]:r};const Bf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},J8=te.createContext(null),Lw=()=>te.useContext(J8);var nP=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Rr.all&&(e._proxyFormState[o]=!r||Rr.all),n&&(n[o]=!0),t[o]}});return i},cr=t=>Yt(t)&&!Object.keys(t).length,rP=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return cr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Rr.all))},kd=t=>Array.isArray(t)?t:[t],iP=(t,e,n)=>n&&e?t===e:!t||!e||t===e||kd(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function Mw(t){const e=te.useRef(t);e.current=t,te.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Z8(t){const e=Lw(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=te.useState(n._formState),l=te.useRef(!0),u=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=te.useRef(i);return d.current=i,Mw({disabled:r,next:f=>l.current&&iP(d.current,f.name,s)&&rP(f,u.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),te.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),nP(o,n,u.current,!1)}var qr=t=>typeof t=="string",sP=(t,e,n,r,i)=>qr(t)?(r&&e.watch.add(t),ae(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ae(n,s))):(r&&(e.watchAll=!0),n);function eB(t){const e=Lw(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=te.useRef(r);a.current=r,Mw({disabled:s,subject:n._subjects.values,next:d=>{iP(a.current,d.name,o)&&u($r(sP(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,u]=te.useState(n._getWatch(r,i));return te.useEffect(()=>n._removeUnmounted()),l}var Fw=t=>/^\w*$/.test(t),oP=t=>Sc(t.replace(/["|']|\]/g,"").split(/\.|\[/));function lt(t,e,n){let r=-1;const i=Fw(e)?[e]:oP(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Yt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}function Vw(t){const e=Lw(),{name:n,control:r=e.control,shouldUnregister:i}=t,s=tP(r._names.array,n),o=eB({control:r,name:n,defaultValue:ae(r._formValues,n,ae(r._defaultValues,n,t.defaultValue)),exact:!0}),a=Z8({control:r,name:n}),l=te.useRef(r.register(n,{...t.rules,value:o}));return l.current=r.register(n,t.rules),te.useEffect(()=>{const u=r._options.shouldUnregister||i,d=(f,h)=>{const g=ae(r._fields,f);g&&(g._f.mount=h)};if(d(n,!0),u){const f=$r(ae(r._options.defaultValues,n));lt(r._defaultValues,n,f),Ft(ae(r._formValues,n))&&lt(r._formValues,n,f)}return()=>{(s?u&&!r._state.action:u)?r.unregister(n):d(n,!1)}},[n,r,s,i]),{field:{name:n,value:o,onChange:te.useCallback(u=>l.current.onChange({target:{value:eP(u),name:n},type:Bf.CHANGE}),[n]),onBlur:te.useCallback(()=>l.current.onBlur({target:{value:ae(r._formValues,n),name:n},type:Bf.BLUR}),[n,r]),ref:u=>{const d=ae(r._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})}},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(a.errors,n)},isDirty:{enumerable:!0,get:()=>!!ae(a.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ae(a.touchedFields,n)},error:{enumerable:!0,get:()=>ae(a.errors,n)}})}}const _t=t=>t.render(Vw(t));var tB=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Uv=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=ae(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Yt(o)&&Uv(o,e)}}};var bE=t=>({isOnSubmit:!t||t===Rr.onSubmit,isOnBlur:t===Rr.onBlur,isOnChange:t===Rr.onChange,isOnAll:t===Rr.all,isOnTouch:t===Rr.onTouched}),SE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),nB=(t,e,n)=>{const r=Sc(ae(t,n));return lt(r,"root",e[n]),lt(t,n,r),t},da=t=>typeof t=="boolean",$w=t=>t.type==="file",es=t=>typeof t=="function",zf=t=>{if(!jw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Pd=t=>qr(t),Uw=t=>t.type==="radio",Hf=t=>t instanceof RegExp;const TE={value:!1,isValid:!1},IE={value:!0,isValid:!0};var aP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?IE:{value:t[0].value,isValid:!0}:IE:TE}return TE};const CE={isValid:!1,value:null};var lP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,CE):CE;function RE(t,e,n="validate"){if(Pd(t)||Array.isArray(t)&&t.every(Pd)||da(t)&&!t)return{type:n,message:Pd(t)?t:"",ref:e}}var Ro=t=>Yt(t)&&!Hf(t)?t:{value:t,message:""},kE=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:h,validate:g,name:v,valueAsNumber:y,mount:x,disabled:_}=t._f,p=ae(e,v);if(!x||_)return{};const E=o?o[0]:s,w=S=>{r&&E.reportValidity&&(E.setCustomValidity(da(S)?"":S||""),E.reportValidity())},b={},T=Uw(s),R=bc(s),C=T||R,k=(y||$w(s))&&Ft(s.value)&&Ft(p)||zf(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,N=tB.bind(null,v,n,b),z=(S,I,O,L=ai.maxLength,$=ai.minLength)=>{const H=S?I:O;b[v]={type:S?L:$,message:H,ref:s,...N(S?L:$,H)}};if(i?!Array.isArray(p)||!p.length:a&&(!C&&(k||On(p))||da(p)&&!p||R&&!aP(o).isValid||T&&!lP(o).isValid)){const{value:S,message:I}=Pd(a)?{value:!!a,message:a}:Ro(a);if(S&&(b[v]={type:ai.required,message:I,ref:E,...N(ai.required,I)},!n))return w(I),b}if(!k&&(!On(d)||!On(f))){let S,I;const O=Ro(f),L=Ro(d);if(!On(p)&&!isNaN(p)){const $=s.valueAsNumber||p&&+p;On(O.value)||(S=$>O.value),On(L.value)||(I=$<L.value)}else{const $=s.valueAsDate||new Date(p),H=j=>new Date(new Date().toDateString()+" "+j),A=s.type=="time",D=s.type=="week";qr(O.value)&&p&&(S=A?H(p)>H(O.value):D?p>O.value:$>new Date(O.value)),qr(L.value)&&p&&(I=A?H(p)<H(L.value):D?p<L.value:$<new Date(L.value))}if((S||I)&&(z(!!S,O.message,L.message,ai.max,ai.min),!n))return w(b[v].message),b}if((l||u)&&!k&&(qr(p)||i&&Array.isArray(p))){const S=Ro(l),I=Ro(u),O=!On(S.value)&&p.length>+S.value,L=!On(I.value)&&p.length<+I.value;if((O||L)&&(z(O,S.message,I.message),!n))return w(b[v].message),b}if(h&&!k&&qr(p)){const{value:S,message:I}=Ro(h);if(Hf(S)&&!p.match(S)&&(b[v]={type:ai.pattern,message:I,ref:s,...N(ai.pattern,I)},!n))return w(I),b}if(g){if(es(g)){const S=await g(p,e),I=RE(S,E);if(I&&(b[v]={...I,...N(ai.validate,I.message)},!n))return w(I.message),b}else if(Yt(g)){let S={};for(const I in g){if(!cr(S)&&!n)break;const O=RE(await g[I](p,e),E,I);O&&(S={...O,...N(I,O.message)},w(O.message),n&&(b[v]=S))}if(!cr(S)&&(b[v]={ref:E,...S},!n))return b}}return w(!0),b};function rB(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ft(t)?r++:t[e[r++]];return t}function iB(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function ln(t,e){const n=Array.isArray(e)?e:Fw(e)?[e]:oP(e),r=n.length===1?t:rB(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Yt(r)&&cr(r)||Array.isArray(r)&&iB(r))&&ln(t,n.slice(0,-1)),t}function Fm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Wf=t=>On(t)||!Zk(t);function Bs(t,e){if(Wf(t)||Wf(e))return t===e;if(Yo(t)&&Yo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Yo(s)&&Yo(o)||Yt(s)&&Yt(o)||Array.isArray(s)&&Array.isArray(o)?!Bs(s,o):s!==o)return!1}}return!0}var uP=t=>t.type==="select-multiple",sB=t=>Uw(t)||bc(t),Vm=t=>zf(t)&&t.isConnected,cP=t=>{for(const e in t)if(es(t[e]))return!0;return!1};function qf(t,e={}){const n=Array.isArray(t);if(Yt(t)||n)for(const r in t)Array.isArray(t[r])||Yt(t[r])&&!cP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},qf(t[r],e[r])):On(t[r])||(e[r]=!0);return e}function dP(t,e,n){const r=Array.isArray(t);if(Yt(t)||r)for(const i in t)Array.isArray(t[i])||Yt(t[i])&&!cP(t[i])?Ft(e)||Wf(n[i])?n[i]=Array.isArray(t[i])?qf(t[i],[]):{...qf(t[i])}:dP(t[i],On(e)?{}:e[i],n[i]):n[i]=!Bs(t[i],e[i]);return n}var $m=(t,e)=>dP(t,e,qf(e)),fP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ft(t)?t:e?t===""?NaN:t&&+t:n&&qr(t)?new Date(t):r?r(t):t;function Um(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return $w(e)?e.files:Uw(e)?lP(t.refs).value:uP(e)?[...e.selectedOptions].map(({value:n})=>n):bc(e)?aP(t.refs).value:fP(Ft(e.value)?t.ref.value:e.value,t)}var oB=(t,e,n,r)=>{const i={};for(const s of t){const o=ae(e,s);o&&lt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Sl=t=>Ft(t)?t:Hf(t)?t.source:Yt(t)?Hf(t.value)?t.value.source:t.value:t,aB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function PE(t,e,n){const r=ae(t,n);if(r||Fw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ae(e,s),a=ae(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var lB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,uB=(t,e)=>!Sc(ae(t,e)).length&&ln(t,e);const cB={mode:Rr.onSubmit,reValidateMode:Rr.onChange,shouldFocusError:!0};function dB(t={},e){let n={...cB,...t},r={submitCount:0,isDirty:!1,isLoading:es(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Yt(n.defaultValues)||Yt(n.values)?$r(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:$r(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Fm(),array:Fm(),state:Fm()},g=t.resetOptions&&t.resetOptions.keepDirtyValues,v=bE(n.mode),y=bE(n.reValidateMode),x=n.criteriaMode===Rr.all,_=P=>F=>{clearTimeout(d),d=setTimeout(P,F)},p=async P=>{if(f.isValid||P){const F=n.resolver?cr((await k()).errors):await z(i,!0);F!==r.isValid&&h.state.next({isValid:F})}},E=P=>f.isValidating&&h.state.next({isValidating:P}),w=(P,F=[],U,le,ee=!0,J=!0)=>{if(le&&U){if(a.action=!0,J&&Array.isArray(ae(i,P))){const pe=U(ae(i,P),le.argA,le.argB);ee&&lt(i,P,pe)}if(J&&Array.isArray(ae(r.errors,P))){const pe=U(ae(r.errors,P),le.argA,le.argB);ee&&lt(r.errors,P,pe),uB(r.errors,P)}if(f.touchedFields&&J&&Array.isArray(ae(r.touchedFields,P))){const pe=U(ae(r.touchedFields,P),le.argA,le.argB);ee&&lt(r.touchedFields,P,pe)}f.dirtyFields&&(r.dirtyFields=$m(s,o)),h.state.next({name:P,isDirty:I(P,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else lt(o,P,F)},b=(P,F)=>{lt(r.errors,P,F),h.state.next({errors:r.errors})},T=(P,F,U,le)=>{const ee=ae(i,P);if(ee){const J=ae(o,P,Ft(U)?ae(s,P):U);Ft(J)||le&&le.defaultChecked||F?lt(o,P,F?J:Um(ee._f)):$(P,J),a.mount&&p()}},R=(P,F,U,le,ee)=>{let J=!1,pe=!1;const Ye={name:P};if(!U||le){f.isDirty&&(pe=r.isDirty,r.isDirty=Ye.isDirty=I(),J=pe!==Ye.isDirty);const Q=Bs(ae(s,P),F);pe=ae(r.dirtyFields,P),Q?ln(r.dirtyFields,P):lt(r.dirtyFields,P,!0),Ye.dirtyFields=r.dirtyFields,J=J||f.dirtyFields&&pe!==!Q}if(U){const Q=ae(r.touchedFields,P);Q||(lt(r.touchedFields,P,U),Ye.touchedFields=r.touchedFields,J=J||f.touchedFields&&Q!==U)}return J&&ee&&h.state.next(Ye),J?Ye:{}},C=(P,F,U,le)=>{const ee=ae(r.errors,P),J=f.isValid&&da(F)&&r.isValid!==F;if(t.delayError&&U?(u=_(()=>b(P,U)),u(t.delayError)):(clearTimeout(d),u=null,U?lt(r.errors,P,U):ln(r.errors,P)),(U?!Bs(ee,U):ee)||!cr(le)||J){const pe={...le,...J&&da(F)?{isValid:F}:{},errors:r.errors,name:P};r={...r,...pe},h.state.next(pe)}E(!1)},k=async P=>n.resolver(o,n.context,oB(P||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),N=async P=>{const{errors:F}=await k();if(P)for(const U of P){const le=ae(F,U);le?lt(r.errors,U,le):ln(r.errors,U)}else r.errors=F;return F},z=async(P,F,U={valid:!0})=>{for(const le in P){const ee=P[le];if(ee){const{_f:J,...pe}=ee;if(J){const Ye=l.array.has(J.name),Q=await kE(ee,o,x,n.shouldUseNativeValidation&&!F,Ye);if(Q[J.name]&&(U.valid=!1,F))break;!F&&(ae(Q,J.name)?Ye?nB(r.errors,Q,J.name):lt(r.errors,J.name,Q[J.name]):ln(r.errors,J.name))}pe&&await z(pe,F,U)}}return U.valid},S=()=>{for(const P of l.unMount){const F=ae(i,P);F&&(F._f.refs?F._f.refs.every(U=>!Vm(U)):!Vm(F._f.ref))&&G(P)}l.unMount=new Set},I=(P,F)=>(P&&F&&lt(o,P,F),!Bs(Z(),s)),O=(P,F,U)=>sP(P,l,{...a.mount?o:Ft(F)?s:qr(P)?{[P]:F}:F},U,F),L=P=>Sc(ae(a.mount?o:s,P,t.shouldUnregister?ae(s,P,[]):[])),$=(P,F,U={})=>{const le=ae(i,P);let ee=F;if(le){const J=le._f;J&&(!J.disabled&&lt(o,P,fP(F,J)),ee=zf(J.ref)&&On(F)?"":F,uP(J.ref)?[...J.ref.options].forEach(pe=>pe.selected=ee.includes(pe.value)):J.refs?bc(J.ref)?J.refs.length>1?J.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(ee)?!!ee.find(Ye=>Ye===pe.value):ee===pe.value)):J.refs[0]&&(J.refs[0].checked=!!ee):J.refs.forEach(pe=>pe.checked=pe.value===ee):$w(J.ref)?J.ref.value="":(J.ref.value=ee,J.ref.type||h.values.next({name:P,values:{...o}})))}(U.shouldDirty||U.shouldTouch)&&R(P,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&j(P)},H=(P,F,U)=>{for(const le in F){const ee=F[le],J=`${P}.${le}`,pe=ae(i,J);(l.array.has(P)||!Wf(ee)||pe&&!pe._f)&&!Yo(ee)?H(J,ee,U):$(J,ee,U)}},A=(P,F,U={})=>{const le=ae(i,P),ee=l.array.has(P),J=$r(F);lt(o,P,J),ee?(h.array.next({name:P,values:{...o}}),(f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:P,dirtyFields:$m(s,o),isDirty:I(P,J)})):le&&!le._f&&!On(J)?H(P,J,U):$(P,J,U),SE(P,l)&&h.state.next({...r}),h.values.next({name:P,values:{...o}}),!a.mount&&e()},D=async P=>{const F=P.target;let U=F.name,le=!0;const ee=ae(i,U),J=()=>F.type?Um(ee._f):eP(P);if(ee){let pe,Ye;const Q=J(),W=P.type===Bf.BLUR||P.type===Bf.FOCUS_OUT,ve=!aB(ee._f)&&!n.resolver&&!ae(r.errors,U)&&!ee._f.deps||lB(W,ae(r.touchedFields,U),r.isSubmitted,y,v),fe=SE(U,l,W);lt(o,U,Q),W?(ee._f.onBlur&&ee._f.onBlur(P),u&&u(0)):ee._f.onChange&&ee._f.onChange(P);const Ee=R(U,Q,W,!1),Ne=!cr(Ee)||fe;if(!W&&h.values.next({name:U,type:P.type,values:{...o}}),ve)return f.isValid&&p(),Ne&&h.state.next({name:U,...fe?{}:Ee});if(!W&&fe&&h.state.next({...r}),E(!0),n.resolver){const{errors:Un}=await k([U]),Is=PE(r.errors,i,U),ri=PE(Un,i,Is.name||U);pe=ri.error,U=ri.name,Ye=cr(Un)}else pe=(await kE(ee,o,x,n.shouldUseNativeValidation))[U],le=isNaN(Q)||Q===ae(o,U,Q),le&&(pe?Ye=!1:f.isValid&&(Ye=await z(i,!0)));le&&(ee._f.deps&&j(ee._f.deps),C(U,Ye,pe,Ee))}},j=async(P,F={})=>{let U,le;const ee=kd(P);if(E(!0),n.resolver){const J=await N(Ft(P)?P:ee);U=cr(J),le=P?!ee.some(pe=>ae(J,pe)):U}else P?(le=(await Promise.all(ee.map(async J=>{const pe=ae(i,J);return await z(pe&&pe._f?{[J]:pe}:pe)}))).every(Boolean),!(!le&&!r.isValid)&&p()):le=U=await z(i);return h.state.next({...!qr(P)||f.isValid&&U!==r.isValid?{}:{name:P},...n.resolver||!P?{isValid:U}:{},errors:r.errors,isValidating:!1}),F.shouldFocus&&!le&&Uv(i,J=>J&&ae(r.errors,J),P?ee:l.mount),le},Z=P=>{const F={...s,...a.mount?o:{}};return Ft(P)?F:qr(P)?ae(F,P):P.map(U=>ae(F,U))},re=(P,F)=>({invalid:!!ae((F||r).errors,P),isDirty:!!ae((F||r).dirtyFields,P),isTouched:!!ae((F||r).touchedFields,P),error:ae((F||r).errors,P)}),ne=P=>{P&&kd(P).forEach(F=>ln(r.errors,F)),h.state.next({errors:P?r.errors:{}})},q=(P,F,U)=>{const le=(ae(i,P,{_f:{}})._f||{}).ref;lt(r.errors,P,{...F,ref:le}),h.state.next({name:P,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&le&&le.focus&&le.focus()},ye=(P,F)=>es(P)?h.values.subscribe({next:U=>P(O(void 0,F),U)}):O(P,F,!0),G=(P,F={})=>{for(const U of P?kd(P):l.mount)l.mount.delete(U),l.array.delete(U),F.keepValue||(ln(i,U),ln(o,U)),!F.keepError&&ln(r.errors,U),!F.keepDirty&&ln(r.dirtyFields,U),!F.keepTouched&&ln(r.touchedFields,U),!n.shouldUnregister&&!F.keepDefaultValue&&ln(s,U);h.values.next({values:{...o}}),h.state.next({...r,...F.keepDirty?{isDirty:I()}:{}}),!F.keepIsValid&&p()},we=(P,F={})=>{let U=ae(i,P);const le=da(F.disabled);return lt(i,P,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:P}},name:P,mount:!0,...F}}),l.mount.add(P),U?le&&lt(o,P,F.disabled?void 0:ae(o,P,Um(U._f))):T(P,!0,F.value),{...le?{disabled:F.disabled}:{},...n.progressive?{required:!!F.required,min:Sl(F.min),max:Sl(F.max),minLength:Sl(F.minLength),maxLength:Sl(F.maxLength),pattern:Sl(F.pattern)}:{},name:P,onChange:D,onBlur:D,ref:ee=>{if(ee){we(P,F),U=ae(i,P);const J=Ft(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,pe=sB(J),Ye=U._f.refs||[];if(pe?Ye.find(Q=>Q===J):J===U._f.ref)return;lt(i,P,{_f:{...U._f,...pe?{refs:[...Ye.filter(Vm),J,...Array.isArray(ae(s,P))?[{}]:[]],ref:{type:J.type,name:P}}:{ref:J}}}),T(P,!1,void 0,J)}else U=ae(i,P,{}),U._f&&(U._f.mount=!1),(n.shouldUnregister||F.shouldUnregister)&&!(tP(l.array,P)&&a.action)&&l.unMount.add(P)}}},ze=()=>n.shouldFocusError&&Uv(i,P=>P&&ae(r.errors,P),l.mount),$e=(P,F)=>async U=>{U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let le=$r(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:ee,values:J}=await k();r.errors=ee,le=J}else await z(i);ln(r.errors,"root"),cr(r.errors)?(h.state.next({errors:{}}),await P(le,U)):(F&&await F({...r.errors},U),ze(),setTimeout(ze)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cr(r.errors),submitCount:r.submitCount+1,errors:r.errors})},ct=(P,F={})=>{ae(i,P)&&(Ft(F.defaultValue)?A(P,ae(s,P)):(A(P,F.defaultValue),lt(s,P,F.defaultValue)),F.keepTouched||ln(r.touchedFields,P),F.keepDirty||(ln(r.dirtyFields,P),r.isDirty=F.defaultValue?I(P,ae(s,P)):I()),F.keepError||(ln(r.errors,P),f.isValid&&p()),h.state.next({...r}))},Ke=(P,F={})=>{const U=P||s,le=$r(U),ee=P&&!cr(P)?le:s;if(F.keepDefaultValues||(s=U),!F.keepValues){if(F.keepDirtyValues||g)for(const J of l.mount)ae(r.dirtyFields,J)?lt(ee,J,ae(o,J)):A(J,ae(ee,J));else{if(jw&&Ft(P))for(const J of l.mount){const pe=ae(i,J);if(pe&&pe._f){const Ye=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(zf(Ye)){const Q=Ye.closest("form");if(Q){Q.reset();break}}}}i={}}o=t.shouldUnregister?F.keepDefaultValues?$r(s):{}:$r(ee),h.array.next({values:{...ee}}),h.values.next({values:{...ee}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!F.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!Bs(P,s)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:F.keepDirtyValues?r.dirtyFields:F.keepDefaultValues&&P?$m(s,P):{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Et=(P,F)=>Ke(es(P)?P(o):P,F);return{control:{register:we,unregister:G,getFieldState:re,handleSubmit:$e,setError:q,_executeSchema:k,_getWatch:O,_getDirty:I,_updateValid:p,_removeUnmounted:S,_updateFieldArray:w,_getFieldArray:L,_reset:Ke,_resetDefaultValues:()=>es(n.defaultValues)&&n.defaultValues().then(P=>{Et(P,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:P=>{r={...r,...P}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(P){a=P},get _defaultValues(){return s},get _names(){return l},set _names(P){l=P},get _formState(){return r},set _formState(P){r=P},get _options(){return n},set _options(P){n={...n,...P}}},trigger:j,register:we,handleSubmit:$e,watch:ye,setValue:A,getValues:Z,reset:Et,resetField:ct,clearErrors:ne,unregister:G,setError:q,setFocus:(P,F={})=>{const U=ae(i,P),le=U&&U._f;if(le){const ee=le.refs?le.refs[0]:le.ref;ee.focus&&(ee.focus(),F.shouldSelect&&ee.select())}},getFieldState:re}}function Ni(t={}){const e=te.useRef(),[n,r]=te.useState({isDirty:!1,isValidating:!1,isLoading:es(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:es(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...dB(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,Mw({subject:i._subjects.state,next:s=>{rP(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),te.useEffect(()=>{t.values&&!Bs(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),te.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=nP(n,i),e.current}function fB({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{d:"M3.53 2.47a.75.75 0 00-1.06 1.06l18 18a.75.75 0 101.06-1.06l-18-18zM22.676 12.553a11.249 11.249 0 01-2.631 4.31l-3.099-3.099a5.25 5.25 0 00-6.71-6.71L7.759 4.577a11.217 11.217 0 014.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113z"}),m.createElement("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0115.75 12zM12.53 15.713l-4.243-4.244a3.75 3.75 0 004.243 4.243z"}),m.createElement("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 00-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 016.75 12z"}))}const hB=m.forwardRef(fB),hP=hB;function pB({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),m.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z",clipRule:"evenodd"}))}const mB=m.forwardRef(pB),pP=mB;function gB({userType:t}){const{control:e,handleSubmit:n}=Ni(),{login:r}=lr(),i=wr(),[s,o]=m.useState(!1),a=()=>o(!s),l=async u=>{console.log(u);const d={email:`${u.username}@benkiko.io`,password:u.password};try{u.password?(localStorage.setItem("isAuth","true"),(await r(d.email,d.password)).success?i("/home"):alert("error trying to login")):alert("Wrong password. Please try again.")}catch(f){console.error("An error occurred:",f)}};return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-3xl",children:"Welcome back!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your username and password to get started."}),c.jsx("div",{className:"relative",children:c.jsx(_t,{name:"username",control:e,defaultValue:"",render:({field:u})=>c.jsx("input",{type:"text",placeholder:"Username",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10",...u})})}),c.jsx("br",{}),c.jsxs("div",{className:"relative",children:[c.jsx(_t,{name:"password",control:e,defaultValue:"",render:({field:u})=>c.jsx("input",{type:s?"text":"password",placeholder:"Password",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10",...u})}),c.jsx("button",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-400 focus:outline-none",onClick:a,children:s?c.jsx(pP,{className:"h-4 w-4"}):c.jsx(hP,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"By logging in, you agree to our Terms and Privacy Policy."}),c.jsx("button",{onClick:n(l),className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859]",children:"Log In"}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Don't have an account?"," ",c.jsx(be,{to:"/signup",children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Sign up"})})]})]})})}function vB(){const[t,e]=m.useState(!1),{control:n,handleSubmit:r,formState:{errors:i}}=Ni(),s=wr(),{login:o}=lr(),[a,l]=m.useState(!1),u=()=>l(!a),d=async f=>{e(!0),console.log(f);try{(await o(f.email,f.password)).success?(e(!1),s("/home")):alert("error trying to login")}catch(h){throw e(!1),h}};return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-3xl",children:"Welcome back!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please, enter your details to access your account."}),c.jsxs("form",{onSubmit:r(d),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx(_t,{name:"email",control:n,rules:{required:"Email is required"},render:({field:f})=>c.jsx("input",{...f,type:"email",placeholder:"Email",className:"w-full py-2 px-3 border border-gray-300 rounded-lg"})}),i.email&&c.jsx("span",{className:"text-red-600",children:i.email.message})]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx(_t,{name:"password",control:n,rules:{required:"Password is required"},render:({field:f})=>c.jsx("input",{...f,type:a?"text":"password",placeholder:"Password",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10"})}),i.password&&c.jsx("span",{className:"text-red-600",children:i.password.message}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-400 focus:outline-none",onClick:u,children:a?c.jsx(pP,{className:"h-4 w-4"}):c.jsx(hP,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"By logging in, you agree to our Terms and Privacy Policy."}),c.jsxs("button",{type:"submit",className:`flex items-center justify-center bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] ${t?"opacity-50 cursor-not-allowed":""}`,disabled:t,children:[t&&c.jsxs(c.Fragment,{children:[c.jsxs("svg",{"aria-hidden":"true",className:"my-2 w-4 h-4 mr-3 text-gray-200 animate-spin dark:text-gray-600 fill-white",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),c.jsx("span",{className:"ml-2 text-white font-semibold",children:"Loading..."})]}),!t&&"Log In"]}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Don't have an account yet?"," ",c.jsx(be,{to:"/signup",children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Sign Up"})})]})]})]})})}const yB=()=>{const t=$n();if(t.user==="driver")return c.jsx(vB,{userType:t});if(t.user==="rider")return c.jsx(gB,{userType:t})},Tc="https://staging.api.benkiko.io",wB="GBSHFCR2W5ZIBP7PEAPTO55N7DKLLEBWP5RC4E3N52HNRNTUY4H57I7O",_B="gAAAAABkVMaORVGtGG8qqALQAQLH2ClHQwWKE3-BXu8yDasN2PYBiv9yxz5WuZVDaOdTTGKdoQmwh7Pae8IfBYS9SZk1kc_rsBzUoqzbU2t0TR0W0P9nqmUWZo2CgFsnHdiw0xy-ZT18r62KmbeMvdmW4Vu6-ENvtA==",xB=`${Tc}/v1/auth/challenge`,EB=`${Tc}/v1/auth/sign`,bB=`${Tc}/v1/auth/token`,AE=`${Tc}/v1/account`,xo=()=>{const{fetchDriverUserInfo:t}=lr(),[e,n]=m.useState(null),[r,i]=m.useState({username:localStorage.getItem("username")?localStorage.getItem("username"):null,mmemonics:localStorage.getItem("mmemonics")?localStorage.getItem("mmemonics"):null,index:0,language:"ENGLISH",home_domain:"benkiko.io"}),s=async()=>{const g=`${Tc}/v1/generate-mnemonic`;try{const v=await fetch(g,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({language:"ENGLISH",strength:256})});if(!v.ok)throw new Error("Network response was not ok");const y=await v.json();return console.log("mmemonics data >>",y),localStorage.setItem("mmemonics",y.data.mnemonic),o(y.data.mnemonic),n(y.data.mnemonic),y}catch(v){console.error("Error:",v)}},o=g=>{console.log("mmemonics to be saved >>",g),i(v=>({...v,mmemonics:g}))},a=async g=>{const v=`${xB}?client_account=${g}&home_domain=benkiko.io`;try{const y=await fetch(v,{method:"GET",headers:{accept:"application/json","Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to obtain JWT token");return await y.json()}catch(y){throw console.error("Error obtaining JWT token:",y),y}},l=async(g,v)=>{console.log("challengeTransactionXDR >>",g.data.transaction);try{const y=await fetch(EB,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({challenge_transaction_xdr:g.data.transaction,client_account_signing_seed:v})});if(!y.ok)throw console.log("sign challenge response >>",y),new Error("Failed to sign challenge");return await y.json()}catch(y){throw console.error("Error signing challenge:",y),y}},u=async g=>{console.log("signedChallengeTransactionXDR >>",g);try{const v=await fetch(bB,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({signed_challenge_transaction_xdr:g.data.transaction})});if(!v.ok)throw console.log("get jwt response >>",v),new Error("Failed to obtain JWT");return await v.json()}catch(v){throw console.error("Error obtaining JWT:",v),v}},d=async()=>{try{console.log("generateAccessToken init ...");const g=await a(wB),v=await l(g,_B),y=await u(v);return console.log("jwt data >> ",y),{success:!0,data:y}}catch(g){return console.error("Error while getting JWT:",g),null}};return{userData:r,mmemonics:e,setUserData:i,createUserTokens:async()=>{try{const g=await d();if(console.log("Token Data >>",g),!g)throw new Error("JWT token not available");const v={username:r.username,mnemonic:r.mmemonics,index:0,language:"ENGLISH",home_domain:"benkiko.io"};if(console.log("request Body <>>",v),console.log("jwtData?.data?.token >> ",g.data.data.token),g){const y=await fetch(AE,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${g.data.data.token}`},body:JSON.stringify(v)});if(y.ok)console.log("response from creating user acc >>",y);else throw console.log("response from creating user acc >>",y),new Error("Failed to create user");const x=await y.json();return localStorage.setItem("publicKey",x.data["public key"]),localStorage.setItem("secretKey",x.data["secret key"]),x}}catch(g){throw console.error("Error creating user:",g),g}},generateMmemonics:s,generateAccessToken:d,createWalletAutomatically:async()=>{var _,p;const g=fn.currentUser.uid,v=await t(g),y=await d(),x=await s();try{let E=function(T){return T=T.trim(),T.includes(" ")&&(T=T.replace(/\s+/g,"")),T.includes("_")&&(T=T.replace(/_/g," ").replace(/\b\w/g,R=>R.toUpperCase())),T};if(console.log("mnemonics >>",x),console.log("accessToken >>",y),console.log("driverData >>",v),!y)throw new Error("JWT token not available");const b={username:E((_=v==null?void 0:v.data)==null?void 0:_.driverUsername),mnemonic:(p=x==null?void 0:x.data)==null?void 0:p.mnemonic,index:0,language:"ENGLISH",home_domain:"benkiko.io"};if(console.log("request Body <>>",b),console.log("access Token >> ",y.data.data.token),y){const T=await fetch(AE,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${y.data.data.token}`},body:JSON.stringify(b)});if(T.ok)console.log("response from creating user acc >>",T);else throw console.log("response from creating user acc >>",T),new Error("Failed to create user");return{...await T.json(),mnemonics:x.data.mnemonic}}}catch(E){throw console.error("error occured tryingto automatically generate a wallet >> ",E),new Error("Failed to auto generate a wallet >> ",E)}}}},SB=({userType:t})=>{const[e,n]=m.useState(!1),{handleSubmit:r,control:i,watch:s,register:o,formState:{errors:a},reset:l}=Ni(),{createUser:u}=lr(),d=wr(),f=async h=>{const g=localStorage.getItem("selectedSacco"),v=JSON.parse(g),y={...h,userType:t.user,sacco:v};console.log(y);try{n(!0);const x=await u(y);x.user.uid&&(localStorage.clear(),localStorage.setItem("username",h.fullName),console.log("response >>",x),n(!1),l(),d("/login"))}catch(x){throw n(!1),x}};return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-3xl my-5",children:"Sign up"}),c.jsxs("form",{onSubmit:r(f),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx(_t,{name:"fullName",control:i,rules:{required:!0},render:({field:h})=>c.jsx("input",{...h,type:"text",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pl-10",placeholder:"Full Name"})}),a.fullName&&c.jsx("span",{className:"text-red-600",children:"Full name is required"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx(_t,{name:"email",control:i,rules:{required:!0,pattern:/^\S+@\S+$/i},render:({field:h})=>c.jsx("input",{...h,type:"email",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pl-10",placeholder:"Email"})}),a.email&&c.jsx("span",{className:"text-red-600",children:"Valid email is required"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx(_t,{name:"password",control:i,rules:{required:!0},render:({field:h})=>c.jsx("input",{...h,type:"password",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pl-10",placeholder:"Password"})}),a.password&&c.jsx("span",{className:"text-red-600",children:"Password is required"})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx("input",{type:"checkbox",className:"h-4 w-4 text-[#F66E3C] border border-gray-400 rounded-md focus:ring-0 focus:ring-offset-0 mr-2",checked:s("rememberPassword"),...o("rememberPassword",{required:!0})}),c.jsx("span",{className:"text-gray-600",children:"Remember Password"})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx("input",{type:"checkbox",className:"h-4 w-4 text-[#F66E3C] border border-gray-400 rounded-md focus:ring-0 focus:ring-offset-0 mr-2",checked:s("agreed"),...o("agreed",{required:!0})}),c.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",c.jsx(be,{to:"/terms",className:"text-[#F66E3C]",children:"Terms & Conditions"})," ","and"," ",c.jsx(be,{to:"/privacy",className:"text-[#F66E3C]",children:"Privacy Policy"})]}),(a==null?void 0:a.agreed)&&c.jsx("p",{className:"text-red-500",children:"You must agree to the terms"})]}),c.jsxs("button",{type:"submit",className:`flex items-center justify-center  bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:[e&&c.jsxs(c.Fragment,{children:[c.jsxs("svg",{"aria-hidden":"true",className:"my-2 mr-3 w-4 h-4 text-gray-200 animate-spin dark:text-gray-600 fill-white",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),c.jsx("span",{className:"ml-2 text-white font-semibold",children:"Loading..."})]}),!e&&"Sign Up"]})]}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Already have an account?"," ",c.jsx(be,{to:"/login",children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Log in"})})]})]})})};function TB({userType:t}){const e=wr(),{generateMmemonics:n,userData:r,setUserData:i}=xo(),[s,o]=m.useState(""),[a,l]=m.useState(!1);console.log("user-type >>",t.user);const u=async()=>{if(r.username){console.log("userData at handleGenerateMmemonics",r),console.log("Generating mmemonics...");try{await n(),console.log("success in try. ok to navigate"),console.log("currentuserData >>",r)}catch(f){console.log("error >>",f)}console.log("success after try. ok to navigate"),r.mmemonics&&(console.log("if userData.mmemonics >>",r),e(`/signup/${t.user}/mmemonics`))}},d=()=>{l(!0);try{s!=""?(console.log(s,"username"),i(f=>({...f,username:s})),localStorage.setItem("username",s),u(),l(!1)):alert("Enter Username")}catch(f){l(!1),console.log("error >>",f)}};return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md flex flex-col gap-3",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-3xl",children:"Welcome !"}),c.jsx("p",{className:"text-gray-800 py-6 ",children:"Enter your username to get started."}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",placeholder:"Username",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10",value:s,onChange:f=>o(f.target.value)})}),c.jsxs("button",{onClick:d,className:`bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] flex justify-center items-center${a?"opacity-50 cursor-not-allowed":""}`,disabled:a,children:[a&&c.jsxs(c.Fragment,{children:[c.jsxs("svg",{"aria-hidden":"true",className:"my-2 mr-3 w-4 h-4 text-gray-200 animate-spin dark:text-gray-600 fill-white",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),c.jsx("span",{className:"ml-2 text-white font-semibold",children:"Loading..."})]}),!a&&"Generate Phrase"]}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Already have a wallet?"," ",c.jsx(be,{to:`/signup/${t.user}/import-wallet`,children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Import"})})]})]})})}const IB=()=>{const t=$n();if(console.log("userType >>",t),(t==null?void 0:t.user)==="driver")return console.log("userType >>",t),c.jsx(SB,{userType:t});if(t.user==="rider")return console.log("userType >>",t),c.jsx(TB,{userType:t})},NE=()=>{const{userData:t,mmemonics:e}=xo(),[n,r]=m.useState(t.mmemonics);m.useEffect(()=>{r(localStorage.getItem("mmemonics"))},[t.mmemonics]),console.log("mmemonics >>",n);const i=$n();console.log("user type >>",i.user);const s=()=>{if(n){const o=document.createElement("textarea");o.value=n,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),console.log("Mnemonic phrase copied to clipboard:",n)}};return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-xl",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-xl",children:"Your Mnemonic Phrase"}),c.jsxs("div",{className:"bg-[#F66E3C08] border border-[#F66E3C26] rounded-lg py-4 px-6 mt-4",children:[n==null?void 0:n.split(" ").map((o,a)=>c.jsx("div",{className:"inline-block my-1  bg-[#F66E3C08] border border-[#F66E3C26] rounded-full px-3 py-1 m-1",children:o},a)),c.jsx("div",{className:"w-full flex justify-end items-center",children:c.jsxs("button",{onClick:s,className:"bg-[#F66E3C14] text-[#F66E3C] py-2 px-4 rounded-lg hover:bg-[#F57859] hover:text-white flex items-center",children:[c.jsx(pM,{className:"h-5 w-5 mr-1"}),"Copy Phrase"]})})]}),c.jsx("div",{className:"my-3",children:c.jsxs("p",{className:"text-gray-600 ",children:[c.jsx(SM,{className:"w-5 h-5 inline-block mr-2  text-[#F19521]"}),"Your mnemonic phrase is the key to your account. Please copy it and store it in a safe place. Without it, you risk losing access to your assets."]})}),c.jsx(be,{to:i.user==="Rider"||i.user==="rider"?`/signup/${i.user}/create-password`:`/settings/${i.user}/settings/paymail/confirm-mmemonics`,className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Create Your Password"}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Already have a wallet?"," ",c.jsx(be,{to:`/signup/${i.user}/import-wallet`,children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Import"})})]})]})})};function DE({func:t}){return console.log("func >>",t),c.jsx("div",{className:"container mx-auto px-40",children:c.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:c.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[c.jsx("div",{children:c.jsxs("h1",{className:"text-center",children:["Welcome to Mataxi! Are you"," ",t==="login"?"signing in":"signing up"," as a rider or a driver today? Please select one of the following options"]})}),c.jsxs("div",{className:"flex w-full items-center justify-center gap-8",children:[c.jsxs(be,{to:`/${t}/rider`,className:`bg-white shadow-lg py-3 px-6 font-medium text-[#F66E3C]\r
              `,children:[" ","Rider"]}),c.jsx(be,{to:t==="signup"?`/${t}/driver/sacco`:`/${t}/driver/`,className:"bg-white shadow-lg py-3 px-6 font-medium text-[#F66E3C]",children:"Driver"})]}),c.jsx("div",{className:"mt-28",children:c.jsx("h2",{className:"text-center text-gray-500",children:"If you're a passenger looking to book a ride, please select option 1. If you're a driver looking to register your vehicle and start earning, please select option 2. Thank you for choosing Mataxi"})})]})})})}const OE=()=>{var _;const{createUserTokens:t}=xo(),{createUser:e,updateDriverProfile:n}=lr(),r=$n();console.log("user Type from create password >>",r.user);const i=wr(),{control:s,handleSubmit:o,register:a,watch:l,errors:u}=Ni(),[d,f]=m.useState(!1),[h,g]=m.useState(!1),v=p=>{f(!d),console.log("prev state >>",p),console.log("current state >>",d)},y=p=>{g(!h),console.log("prev state >>",p),console.log("current state >>",h)},x=async p=>{var R,C,k;console.log(p);const E=localStorage.getItem("username"),w=localStorage.getItem("mmemonics"),b=localStorage.getItem("publicKey"),T=localStorage.getItem("secretKey");try{if(p.password===p.confirmPassword){console.log("Password Matches! Safe to proceed!"),localStorage.setItem("passcode",p.password);const N=await t();if(N){if(console.log("user response from createPassword >>",N),N.status==="success"&&r.user==="Rider"||r.user==="rider"){console.log("USERrES dATA FROM CREATE pASSWORD >> ",N);const z={userType:r.user,email:`${E}@benkiko.io`,username:E,password:p.password,mmemonics:w,paymail:(R=N==null?void 0:N.data)==null?void 0:R.paymail,public_key:(C=N==null?void 0:N.data)==null?void 0:C["public key"],secret_key:(k=N==null?void 0:N.data)==null?void 0:k["secret key"]};(await e(z)).success?(alert("Account Created Successfully"),i(`/signup/${r.user}/complete`)):(alert("Something went wrong while creating account"),i("/signup"))}else if(N.status==="success"&&r.user==="Driver"){const z={mmemonics:w,paymail:N.data.paymail,public_key:b,secret_key:T};(await n(z)).status==="success"?(alert("Account Created Successfully"),i(`/signup/${r.user}/complete`)):(alert("Something went wrong while creating account"),i("/signup"))}}else console.error("User creation failed")}else console.error("Passwords do not match")}catch(N){console.error("Error: ",N||"Something went wrong")}};return c.jsx("div",{className:" inset-0  z-20 first-letter:",children:c.jsx("div",{className:" w-full h-full z-50 flex items-center justify-center top-28",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-xl  ",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-xl",children:"Confirm Your Phrase"}),c.jsxs("form",{onSubmit:o(x),children:[c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-gray-600",children:"Paste your mnemonic phrase here..."}),c.jsx(_t,{name:"mnemonicPhrase",control:s,defaultValue:"",rules:{required:"Mnemonic phrase is required"},render:({field:p})=>c.jsx("textarea",{...p,className:"w-full py-2 px-3 border border-gray-300 rounded-lg mt-2",rows:"4",placeholder:"Paste your mnemonic phrase here..."})}),(u==null?void 0:u.mnemonicPhrase)&&c.jsx("p",{className:"text-red-500",children:"Mnemonic phrase is required"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-gray-600",children:r.user==="Rider"?"Create Password":"Enter your password"}),c.jsxs("div",{className:"relative",children:[c.jsx(_t,{name:"password",control:s,defaultValue:"",rules:{required:"Password is required"},render:({field:p})=>c.jsx("input",{...p,type:d?"text":"password",placeholder:"Create Password",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10 mt-2"})}),c.jsx("button",{onClick:v,className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-400 focus:outline-none",children:d?c.jsx(Tx,{className:"h-5 w-5"}):c.jsx(Ix,{className:"h-5 w-5"})})]}),(u==null?void 0:u.password)&&c.jsx("p",{className:"text-red-500",children:"Password is required"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-gray-600",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(_t,{name:"confirmPassword",control:s,defaultValue:"",rules:{required:"Confirm Password is required",validate:p=>p===l("password")||"Passwords do not match"},render:({field:p})=>c.jsx("input",{...p,type:d?"text":"password",placeholder:"Confirm Password",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10 mt-2"})}),c.jsx("button",{onClick:y,className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-400 focus:outline-none",children:h?c.jsx(Tx,{className:"h-5 w-5"}):c.jsx(Ix,{className:"h-5 w-5"})})]}),(u==null?void 0:u.confirmPassword)&&c.jsx("p",{className:"text-red-500",children:(_=u==null?void 0:u.confirmPassword)==null?void 0:_.message})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx("input",{type:"checkbox",className:"h-4 w-4 text-[#F66E3C] border border-gray-400 rounded-md focus:ring-0 focus:ring-offset-0 mr-2",checked:l("agreed"),...a("agreed",{required:!0})}),c.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",c.jsx(be,{to:"/terms",className:"text-[#F66E3C]",children:"Terms & Conditions"})," ","and"," ",c.jsx(be,{to:"/privacy",className:"text-[#F66E3C]",children:"Privacy Policy"})]}),(u==null?void 0:u.agreed)&&c.jsx("p",{className:"text-red-500",children:"You must agree to the terms"})]}),c.jsx("button",{type:"submit",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Create your password"})]}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Already have a wallet?"," ",c.jsx(be,{to:`/signup/${r.user}/import-wallet`,children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Import"})})]})]})})})},CB=()=>c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-xl",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("div",{className:"relative flex justify-center items-center space-x-4 mb-4",children:c.jsx("div",{className:"h-32 w-32 bg-[#FFCAB7] rounded-full flex justify-center items-center",children:c.jsx("div",{className:" h-20 w-20 bg-[#FF8A5F] rounded-full flex justify-center items-center",children:c.jsx("div",{className:" h-12 w-12 bg-[#F66E3C] rounded-full flex justify-center items-center",children:c.jsx(l0,{className:"h-10 w-10 text-white"})})})})}),c.jsx("p",{className:"text-gray-600 text-center font-bold text-xl",children:"Account successfully created"}),c.jsx(be,{to:"/login",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Go to Login"})]})}),RB=()=>{const[t,e]=m.useState(!1);return c.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-xl",children:"To import your existing wallet into Mataxi"}),c.jsxs("div",{className:"bg-[#F66E3C08] rounded-lg py-4 px-6 mt-4",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("label",{className:"block text-gray-600",children:"Enter your preferred username"}),c.jsx("input",{type:"text",placeholder:"Username",className:"w-full py-2 px-3 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("label",{className:"block text-gray-600",children:"Paste your mnemonic phrase here"}),c.jsx("input",{type:"text",placeholder:"Mnemonic Phrase",className:"w-full py-2 px-3 border border-gray-300 rounded-lg"})]})]}),c.jsx("button",{onClick:()=>e(!0),className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Create your password"}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Don't have a wallet yet?"," ",c.jsx(be,{to:"/signup",className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Create an Account"})]})]}),t&&c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[c.jsx("div",{className:"text-[#F66E3C] text-4xl text-center mb-4",children:c.jsx(vM,{className:"w-12 h-12 inline-block"})}),c.jsx("p",{className:"text-gray-600 text-lg text-center",children:"Wallet Not Found"}),c.jsx("p",{className:"text-gray-600 mt-4 text-center",children:"The wallet you attempted to link to Mataxi is not currently on the Stellar Protocol."}),c.jsx(be,{to:"/signup",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Create an account"})]})})]})};var mP={exports:{}},kB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PB=kB,AB=PB;function gP(){}function vP(){}vP.resetWarningCache=gP;var NB=function(){function t(r,i,s,o,a,l){if(l!==AB){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vP,resetWarningCache:gP};return n.PropTypes=n,n};mP.exports=NB();var DB=mP.exports;const ot=Kv(DB);var OB=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ic(t,e){var n=jB(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function jB(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=OB.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var LB=[".DS_Store","Thumbs.db"];function MB(t){return Ja(this,void 0,void 0,function(){return Za(this,function(e){return Kf(t)&&FB(t.dataTransfer)?[2,BB(t.dataTransfer,t.type)]:VB(t)?[2,$B(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,UB(t)]:[2,[]]})})}function FB(t){return Kf(t)}function VB(t){return Kf(t)&&Kf(t.target)}function Kf(t){return typeof t=="object"&&t!==null}function $B(t){return Bv(t.target.files).map(function(e){return Ic(e)})}function UB(t){return Ja(this,void 0,void 0,function(){var e;return Za(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Ic(r)})]}})})}function BB(t,e){return Ja(this,void 0,void 0,function(){var n,r;return Za(this,function(i){switch(i.label){case 0:return t.items?(n=Bv(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(zB))]):[3,2];case 1:return r=i.sent(),[2,jE(yP(r))];case 2:return[2,jE(Bv(t.files).map(function(s){return Ic(s)}))]}})})}function jE(t){return t.filter(function(e){return LB.indexOf(e.name)===-1})}function Bv(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function zB(t){if(typeof t.webkitGetAsEntry!="function")return LE(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?wP(e):LE(t)}function yP(t){return t.reduce(function(e,n){return V1(V1([],F1(e),!1),F1(Array.isArray(n)?yP(n):[n]),!1)},[])}function LE(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=Ic(e);return Promise.resolve(n)}function HB(t){return Ja(this,void 0,void 0,function(){return Za(this,function(e){return[2,t.isDirectory?wP(t):WB(t)]})})}function wP(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Ja(o,void 0,void 0,function(){var l,u,d;return Za(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(a.map(HB)),i.push(d),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function WB(t){return Ja(this,void 0,void 0,function(){return Za(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=Ic(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var qB=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function ME(t){return QB(t)||GB(t)||xP(t)||KB()}function KB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QB(t){if(Array.isArray(t))return zv(t)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){_P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bu(t,e){return JB(t)||YB(t,e)||xP(t,e)||XB()}function XB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xP(t,e){if(t){if(typeof t=="string")return zv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(t,e)}}function zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YB(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function JB(t){if(Array.isArray(t))return t}var ZB="file-invalid-type",ez="file-too-large",tz="file-too-small",nz="too-many-files",rz=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:ZB,message:"File type must be ".concat(n)}},$E=function(e){return{code:ez,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},UE=function(e){return{code:tz,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},iz={code:nz,message:"Too many files"};function EP(t,e){var n=t.type==="application/x-moz-file"||qB(t,e);return[n,n?null:rz(e)]}function bP(t,e,n){if(Ds(t.size))if(Ds(e)&&Ds(n)){if(t.size>n)return[!1,$E(n)];if(t.size<e)return[!1,UE(e)]}else{if(Ds(e)&&t.size<e)return[!1,UE(e)];if(Ds(n)&&t.size>n)return[!1,$E(n)]}return[!0,null]}function Ds(t){return t!=null}function sz(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var u=EP(l,n),d=Bu(u,1),f=d[0],h=bP(l,r,i),g=Bu(h,1),v=g[0],y=a?a(l):null;return f&&v&&!y})}function Gf(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function ld(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function BE(t){t.preventDefault()}function oz(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function az(t){return t.indexOf("Edge/")!==-1}function lz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return oz(t)||az(t)}function Fr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Gf(r)&&a&&a.apply(void 0,[r].concat(s)),Gf(r)})}}function uz(){return"showOpenFilePicker"in window}function cz(t){if(Ds(t)){var e=Object.entries(t).filter(function(n){var r=Bu(n,2),i=r[0],s=r[1],o=!0;return SP(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(TP))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Bu(r,2),s=i[0],o=i[1];return VE(VE({},n),{},_P({},s,o))},{});return[{description:"Files",accept:e}]}return t}function dz(t){if(Ds(t))return Object.entries(t).reduce(function(e,n){var r=Bu(n,2),i=r[0],s=r[1];return[].concat(ME(e),[i],ME(s))},[]).filter(function(e){return SP(e)||TP(e)}).join(",")}function fz(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function hz(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function SP(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function TP(t){return/^.*\.[\w]+$/.test(t)}var pz=["children"],mz=["open"],gz=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],vz=["refKey","onChange","onClick"];function yz(t){return xz(t)||_z(t)||IP(t)||wz()}function wz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xz(t){if(Array.isArray(t))return Hv(t)}function Bm(t,e){return Sz(t)||bz(t,e)||IP(t,e)||Ez()}function Ez(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IP(t,e){if(t){if(typeof t=="string")return Hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(t,e)}}function Hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Sz(t){if(Array.isArray(t))return t}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){Wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qf(t,e){if(t==null)return{};var n=Tz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Bw=m.forwardRef(function(t,e){var n=t.children,r=Qf(t,pz),i=RP(r),s=i.open,o=Qf(i,mz);return m.useImperativeHandle(e,function(){return{open:s}},[s]),te.createElement(m.Fragment,null,n(Tt(Tt({},o),{},{open:s})))});Bw.displayName="Dropzone";var CP={disabled:!1,getFilesFromEvent:MB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Bw.defaultProps=CP;Bw.propTypes={children:ot.func,accept:ot.objectOf(ot.arrayOf(ot.string)),multiple:ot.bool,preventDropOnDocument:ot.bool,noClick:ot.bool,noKeyboard:ot.bool,noDrag:ot.bool,noDragEventsBubbling:ot.bool,minSize:ot.number,maxSize:ot.number,maxFiles:ot.number,disabled:ot.bool,getFilesFromEvent:ot.func,onFileDialogCancel:ot.func,onFileDialogOpen:ot.func,useFsAccessApi:ot.bool,autoFocus:ot.bool,onDragEnter:ot.func,onDragLeave:ot.func,onDragOver:ot.func,onDrop:ot.func,onDropAccepted:ot.func,onDropRejected:ot.func,onError:ot.func,validator:ot.func};var qv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function RP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Tt(Tt({},CP),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,h=e.onDrop,g=e.onDropAccepted,v=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,_=e.useFsAccessApi,p=e.autoFocus,E=e.preventDropOnDocument,w=e.noClick,b=e.noKeyboard,T=e.noDrag,R=e.noDragEventsBubbling,C=e.onError,k=e.validator,N=m.useMemo(function(){return dz(n)},[n]),z=m.useMemo(function(){return cz(n)},[n]),S=m.useMemo(function(){return typeof x=="function"?x:HE},[x]),I=m.useMemo(function(){return typeof y=="function"?y:HE},[y]),O=m.useRef(null),L=m.useRef(null),$=m.useReducer(Iz,qv),H=Bm($,2),A=H[0],D=H[1],j=A.isFocused,Z=A.isFileDialogActive,re=m.useRef(typeof window<"u"&&window.isSecureContext&&_&&uz()),ne=function(){!re.current&&Z&&setTimeout(function(){if(L.current){var W=L.current.files;W.length||(D({type:"closeDialog"}),I())}},300)};m.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[L,Z,I,re]);var q=m.useRef([]),ye=function(W){O.current&&O.current.contains(W.target)||(W.preventDefault(),q.current=[])};m.useEffect(function(){return E&&(document.addEventListener("dragover",BE,!1),document.addEventListener("drop",ye,!1)),function(){E&&(document.removeEventListener("dragover",BE),document.removeEventListener("drop",ye))}},[O,E]),m.useEffect(function(){return!r&&p&&O.current&&O.current.focus(),function(){}},[O,p,r]);var G=m.useCallback(function(Q){C?C(Q):console.error(Q)},[C]),we=m.useCallback(function(Q){Q.preventDefault(),Q.persist(),ee(Q),q.current=[].concat(yz(q.current),[Q.target]),ld(Q)&&Promise.resolve(i(Q)).then(function(W){if(!(Gf(Q)&&!R)){var ve=W.length,fe=ve>0&&sz({files:W,accept:N,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:k}),Ee=ve>0&&!fe;D({isDragAccept:fe,isDragReject:Ee,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Q)}}).catch(function(W){return G(W)})},[i,u,G,R,N,o,s,a,l,k]),ze=m.useCallback(function(Q){Q.preventDefault(),Q.persist(),ee(Q);var W=ld(Q);if(W&&Q.dataTransfer)try{Q.dataTransfer.dropEffect="copy"}catch{}return W&&f&&f(Q),!1},[f,R]),$e=m.useCallback(function(Q){Q.preventDefault(),Q.persist(),ee(Q);var W=q.current.filter(function(fe){return O.current&&O.current.contains(fe)}),ve=W.indexOf(Q.target);ve!==-1&&W.splice(ve,1),q.current=W,!(W.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ld(Q)&&d&&d(Q))},[O,d,R]),ct=m.useCallback(function(Q,W){var ve=[],fe=[];Q.forEach(function(Ee){var Ne=EP(Ee,N),Un=Bm(Ne,2),Is=Un[0],ri=Un[1],tl=bP(Ee,o,s),M=Bm(tl,2),V=M[0],K=M[1],ue=k?k(Ee):null;if(Is&&V&&!ue)ve.push(Ee);else{var Se=[ri,K];ue&&(Se=Se.concat(ue)),fe.push({file:Ee,errors:Se.filter(function(Te){return Te})})}}),(!a&&ve.length>1||a&&l>=1&&ve.length>l)&&(ve.forEach(function(Ee){fe.push({file:Ee,errors:[iz]})}),ve.splice(0)),D({acceptedFiles:ve,fileRejections:fe,type:"setFiles"}),h&&h(ve,fe,W),fe.length>0&&v&&v(fe,W),ve.length>0&&g&&g(ve,W)},[D,a,N,o,s,l,h,g,v,k]),Ke=m.useCallback(function(Q){Q.preventDefault(),Q.persist(),ee(Q),q.current=[],ld(Q)&&Promise.resolve(i(Q)).then(function(W){Gf(Q)&&!R||ct(W,Q)}).catch(function(W){return G(W)}),D({type:"reset"})},[i,ct,G,R]),Et=m.useCallback(function(){if(re.current){D({type:"openDialog"}),S();var Q={multiple:a,types:z};window.showOpenFilePicker(Q).then(function(W){return i(W)}).then(function(W){ct(W,null),D({type:"closeDialog"})}).catch(function(W){fz(W)?(I(W),D({type:"closeDialog"})):hz(W)?(re.current=!1,L.current?(L.current.value=null,L.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(W)});return}L.current&&(D({type:"openDialog"}),S(),L.current.value=null,L.current.click())},[D,S,I,_,ct,G,z,a]),Nt=m.useCallback(function(Q){!O.current||!O.current.isEqualNode(Q.target)||(Q.key===" "||Q.key==="Enter"||Q.keyCode===32||Q.keyCode===13)&&(Q.preventDefault(),Et())},[O,Et]),Lr=m.useCallback(function(){D({type:"focus"})},[]),gn=m.useCallback(function(){D({type:"blur"})},[]),P=m.useCallback(function(){w||(lz()?setTimeout(Et,0):Et())},[w,Et]),F=function(W){return r?null:W},U=function(W){return b?null:F(W)},le=function(W){return T?null:F(W)},ee=function(W){R&&W.stopPropagation()},J=m.useMemo(function(){return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=Q.refKey,ve=W===void 0?"ref":W,fe=Q.role,Ee=Q.onKeyDown,Ne=Q.onFocus,Un=Q.onBlur,Is=Q.onClick,ri=Q.onDragEnter,tl=Q.onDragOver,M=Q.onDragLeave,V=Q.onDrop,K=Qf(Q,gz);return Tt(Tt(Wv({onKeyDown:U(Fr(Ee,Nt)),onFocus:U(Fr(Ne,Lr)),onBlur:U(Fr(Un,gn)),onClick:F(Fr(Is,P)),onDragEnter:le(Fr(ri,we)),onDragOver:le(Fr(tl,ze)),onDragLeave:le(Fr(M,$e)),onDrop:le(Fr(V,Ke)),role:typeof fe=="string"&&fe!==""?fe:"presentation"},ve,O),!r&&!b?{tabIndex:0}:{}),K)}},[O,Nt,Lr,gn,P,we,ze,$e,Ke,b,T,r]),pe=m.useCallback(function(Q){Q.stopPropagation()},[]),Ye=m.useMemo(function(){return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=Q.refKey,ve=W===void 0?"ref":W,fe=Q.onChange,Ee=Q.onClick,Ne=Qf(Q,vz),Un=Wv({accept:N,multiple:a,type:"file",style:{display:"none"},onChange:F(Fr(fe,Ke)),onClick:F(Fr(Ee,pe)),tabIndex:-1},ve,L);return Tt(Tt({},Un),Ne)}},[L,n,a,Ke,r]);return Tt(Tt({},A),{},{isFocused:j&&!r,getRootProps:J,getInputProps:Ye,rootRef:O,inputRef:L,open:F(Et)})}function Iz(t,e){switch(e.type){case"focus":return Tt(Tt({},t),{},{isFocused:!0});case"blur":return Tt(Tt({},t),{},{isFocused:!1});case"openDialog":return Tt(Tt({},qv),{},{isFileDialogActive:!0});case"closeDialog":return Tt(Tt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Tt(Tt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Tt(Tt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Tt({},qv);default:return t}}function HE(){}function Cz({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const Rz=m.forwardRef(Cz),kP=Rz;function kz({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))}const Pz=m.forwardRef(kz),Xf=Pz;function Az(){var ye;const t=$n(),[e,n]=m.useState(!1),[r,i]=m.useState(null),[s,o]=m.useState([]),a=wr(),{profilePictureImageURL:l,inspectionReportImageURL:u,insurancePolicyImageURL:d,profilePictureUploadProgress:f,inspectionReportUploadProgress:h,insurancePolicyUploadProgress:g,loading:v,uploadProfilePicture:y,uploadInspectionReport:x,uploadInsurancePolicy:_,updateDriverProfile:p,addVehicle:E,fetchDriverUserInfo:w,fetchRiderUserInfo:b}=lr(),{fetchSaccos:T}=_o(),R=async()=>{var G,we;t.user==="Driver"?i(await w((G=fn==null?void 0:fn.currentUser)==null?void 0:G.uid)):i(await b((we=He==null?void 0:He.currentUser)==null?void 0:we.uid))};m.useEffect(()=>{R()},[]),m.useEffect(()=>{(async()=>{const we=await T();o(we==null?void 0:we.saccos),console.log("fetchSaccosResponse >> ",we),console.log("fetchSaccosResponse.saccos >> ",we.saccos)})()},[]),console.log("driver info >>",r);const{register:C,handleSubmit:k,control:N,reset:z,errors:S,getValues:I,setValue:O}=Ni(),{field:{onChange:L,value:$},fieldState:{error:H}}=Vw({name:"sacco",control:N,defaultValue:""}),A=(G,we)=>{O(G,we[0])},[D,j]=m.useState(s?s[0]:"select Sacco"),[Z,re]=m.useState(""),ne=Z===""?s:s==null?void 0:s.filter(G=>G.saccoName.toLowerCase().replace(/\s+/g,"").includes(Z.toLowerCase().replace(/\s+/g,"")));RP({onDrop:A});const q=async G=>{console.log("SUBMIT data >> ",G);const{driverPicture:we,inspectionReport:ze,insurancePolicy:$e}=G,ct=we[0],Ke=ze[0],Et=$e[0];if(console.log("driverPictureFile>>",ct),console.log("inspectionReportFile >>",Ke),console.log("insurancePolicyFile>>",Et),l&&u&&d){console.log("Image URLs are available"),console.log("ProfilePictureImageURL available>>",l),console.log("InspectionReportImageURL available>>",u),console.log("setInsurancePolicyImageURL available>>",d);const Nt={driverPicture:l,inspectionReport:u,insurancePolicy:d,licenseExpirationDate:G.licenseExpirationDate,licenseNumber:G.licenseNumber,saccoNumber:G.saccoNumber,seatCapacity:G.seatCapacity,vehicleColor:G.vehicleColor,vehicleMake:G.vehicleMake,vehicleModel:G.vehicleModel},Lr={sacco:G.sacco,driverUid:fn.currentUser.uid,seatCapacity:G.seatCapacity,vehicleColor:G.vehicleColor,vehicleMake:G.vehicleMake,vehicleModel:G.vehicleModel,vehicleNumberPlate:G.vehicleNumberPlate,isAvailable:!1,isFull:!1},gn=G.rideType==="Mataxi Standard"?"mataxiStandard":G.rideType==="Mataxi XL"?"mataxiXl":G.rideType==="Mataxi Luxe"?"mataxiLuxe":null;try{const P=await p(Nt);console.log("ride Type >> ",gn);const F=await E(Lr,gn);console.log("Driver profile creation response >>",P),console.log("Vehicle Registration response >>",F),z(),a("/home")}catch{console.error("Error occurred during creating Profile")}}else console.log("ImagesUploaded...",e),console.log("else state variables..."),console.log("ProfilePictureImageURL available @else from firbase >>",l),console.log("InspectionReportImageURL available @else>>",u),console.log("setInsurancePolicyImageURL available @else>>",d),e||(alert("Uploading Files. Click Ok to continue"),console.log("Image URLs not available."),ct&&Ke&&Et&&(y(ct).then(Nt=>(console.log("profile pic url >>",Nt.data),Nt.data)).catch(Nt=>{console.error("Error uploading profile picture: ",Nt)}),x(Ke).then(Nt=>Nt.data).catch(Nt=>{console.error("Error uploading inspection report: ",Nt)}),_(Et).then(Nt=>Nt.data).catch(Nt=>{console.error("Error uploading insurance policy: ",Nt)}),n(!0)))};return c.jsx("div",{className:"mt-20 inset-0 flex justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-xl",children:[c.jsxs("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:["Mataxi"," "]}),c.jsxs("h2",{className:"text-lg font-semibold text-[#F66E3C]",children:["Welcome"," ",r!=null?(ye=r==null?void 0:r.data)==null?void 0:ye.driverUsername:"No driver"]}),c.jsxs("form",{onSubmit:k(q),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-[#f66E3C]",children:"Driver's Information"}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"block mb-1 text-gray-600",children:"Upload your picture"}),c.jsxs("div",{className:"w-full border border-yellow-400 rounded py-2 px-3 cursor-pointer",children:[c.jsx("input",{type:"file",...C("driverPicture",{required:!0})}),c.jsx("p",{children:S!=null&&S.driverPicture?"This field is required":"Drag and drop an image here or click to browse"})]})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx(_t,{name:"licenseNumber",control:N,rules:{required:!0},render:({field:G})=>c.jsx("input",{...G,type:"text",placeholder:"Driver's License Number",className:"border rounded-lg p-2 w-full"})}),(S==null?void 0:S.licenseNumber)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx(_t,{name:"licenseExpirationDate",control:N,rules:{required:!0},render:({field:G})=>c.jsx("input",{...G,type:"date",placeholder:"Driver's License Expiration Date",className:"border rounded-lg p-2 w-full"})}),(S==null?void 0:S.licenseExpirationDate)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]}),c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"sacco",control:N,defaultValue:"",render:()=>c.jsx(Bt,{value:D,onChange:j,children:c.jsxs("div",{className:"relative mt-1",children:[c.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left border focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm p-1",children:[c.jsx(Bt.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:G=>G.saccoName,onChange:G=>re(G.target.value)}),c.jsx(Bt.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Xf,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),c.jsx(It,{as:m.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>re(""),children:c.jsx(Bt.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:(ne==null?void 0:ne.length)===0&&Z!==""?c.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):ne==null?void 0:ne.map(G=>c.jsx(Bt.Option,{className:({active:we})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${we?"bg-[#F66E3C] text-white":"text-gray-900"}`,value:G,onClick:()=>{L(G)},children:({selectedSacco:we,active:ze})=>c.jsxs(c.Fragment,{children:[c.jsx("span",{className:`block truncate ${we?"font-medium":"font-normal"}`,children:G.saccoName}),we?c.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${ze?"text-white":"text-teal-600"}`,children:c.jsx(kP,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},G.id))})})]})})})}),c.jsxs("div",{className:"mt-2",children:[c.jsx(_t,{name:"saccoNumber",control:N,rules:{required:!0},render:({field:G})=>c.jsx("input",{...G,type:"text",placeholder:"Sacco Number",className:"border rounded-lg p-2 w-full"})}),(S==null?void 0:S.saccoNumber)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-[#f66E3C]",children:"Vehicle Information"}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"block mb-1 text-gray-600",children:"Ride Type"}),c.jsxs("select",{...C("rideType",{required:!0}),className:"border rounded-lg p-2 w-full",children:[c.jsx("option",{value:"",children:"Select Ride Type"}),c.jsx("option",{value:"Mataxi Standard",children:"Mataxi Standard"}),c.jsx("option",{value:"Mataxi XL",children:"Mataxi XL"}),c.jsx("option",{value:"Mataxi Luxe",children:"Mataxi Luxe"})]}),(S==null?void 0:S.rideType)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]}),c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"vehicleMake",control:N,rules:{required:!0},render:({field:G})=>c.jsxs("div",{children:[c.jsx("input",{...G,type:"text",className:"border rounded-lg p-2 w-full",placeholder:"Vehicle Make"}),(S==null?void 0:S.vehicleMake)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]})})}),c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"vehicleModel",control:N,rules:{required:!0},render:({field:G})=>c.jsxs("div",{children:[c.jsx("input",{...G,type:"text",className:"border rounded-lg p-2 w-full",placeholder:"Vehicle Model"}),(S==null?void 0:S.vehicleModel)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]})})}),c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"vehicleColor",control:N,rules:{required:!0},render:({field:G})=>c.jsxs("div",{children:[c.jsx("input",{...G,type:"text",className:"border rounded-lg p-2 w-full",placeholder:"Vehicle Color"}),(S==null?void 0:S.vehicleColor)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]})})}),c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"vehicleNumberPlate",control:N,rules:{required:!0},render:({field:G})=>c.jsxs("div",{children:[c.jsx("input",{...G,type:"text",className:"border rounded-lg p-2 w-full",placeholder:"Vehicle Number Plate"}),(S==null?void 0:S.vehicleNumberPlate)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]})})}),c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"seatCapacity",control:N,rules:{required:!0},render:({field:G})=>c.jsxs("div",{children:[c.jsx("input",{...G,type:"number",className:"border rounded-lg p-2 w-full",placeholder:"Total Seat Capacity"}),(S==null?void 0:S.seatCapacity)&&c.jsx("span",{className:"text-red-500",children:"This field is required"})]})})}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"block mb-1 text-gray-600",children:"Upload Vehicle Inspection Report"}),c.jsxs("div",{className:"w-full border border-yellow-400 rounded py-2 px-3 cursor-pointer",children:[c.jsx("input",{type:"file",...C("inspectionReport",{required:!0})}),c.jsx("p",{children:S!=null&&S.inspectionReport?"This field is required":"Drag and drop an image here or click to browse"})]})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"block mb-1 text-gray-600",children:"Upload Vehicle Insurance Policy"}),c.jsxs("div",{className:"w-full border border-yellow-400 rounded py-2 px-3 cursor-pointer",children:[c.jsx("input",{type:"file",...C("insurancePolicy",{required:!0})}),c.jsx("p",{children:S!=null&&S.insurancePolicy?"This field is required":"Drag and drop an image here or click to browse"})]})]})]}),c.jsx("button",{type:"submit",className:"bg-[#F66E3C] text-white rounded-lg py-2 px-4 hover:bg-[#F74909] transition duration-300",children:v?`${f||h||g} % Images uploading...`:"Submit"})]})]})})}const Nz=m.createContext(),Dz=({children:t})=>{const[e,n]=m.useState(null);m.useEffect(()=>{const i=fn.onAuthStateChanged(s=>{s?(console.log("user exists!"),console.log("user Details >>",s),n(s)):n(null)});return()=>i()},[]);const r={driverUser:fn};return console.log("User data > ",fn),c.jsx(Nz.Provider,{value:r,children:t})},Oz=()=>{const[t,e]=m.useState([]);let[n,r]=m.useState(!1);const i=wr(),{handleSubmit:s,formState:{errors:o},reset:a,control:l}=Ni(),{field:{onChange:u,value:d},fieldState:{error:f}}=Vw({name:"sacco",control:l,defaultValue:""});function h(){r(!1)}function g(){r(!0)}const{fetchSaccos:v}=_o(),y=async()=>{const T=await v();e(T==null?void 0:T.saccos),console.log("fetchSaccosResponse >> ",T),console.log("fetchSaccosResponse.saccos >> ",T.saccos),n&&r(!n)};m.useEffect(()=>{y()},[]);const[x,_]=m.useState(t?t[0]:"select Sacco"),[p,E]=m.useState(""),w=p===""?t:t==null?void 0:t.filter(T=>T.saccoName.toLowerCase().replace(/\s+/g,"").includes(p.toLowerCase().replace(/\s+/g,""))),b=T=>{localStorage.setItem("selectedSacco",JSON.stringify(T)),console.log("SUBMIT data >> ",T),i("/signup/driver/")};return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-3xl my-5",children:"Select Your Sacco"}),c.jsx(It,{appear:!0,show:n,as:m.Fragment,children:c.jsxs(Zt,{as:"div",className:"relative z-20",onClose:h,children:[c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-black/25"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto ",children:c.jsx("div",{className:"flex h-screen items-center justify-center p-4 text-center ",children:c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zt.Panel,{className:"w-full shadow-xl border-b  max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle transition-all",children:[c.jsx(Zt.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"An error occured while geting the Saccos"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Click the button below to fetch Saccos Again"})}),c.jsxs("div",{className:"mt-4 flex justify-around",children:[c.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:y,children:"Fetch Saccos"}),c.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-red-400 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:h,children:"Close X"})]})]})})})})]})}),c.jsxs("form",{onSubmit:s(b),children:[c.jsx("div",{className:"mt-2",children:c.jsx(_t,{name:"sacco",control:l,defaultValue:"",render:()=>c.jsx(Bt,{value:x,onChange:_,children:c.jsxs("div",{className:"relative mt-1",children:[c.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left border focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm p-1",children:[c.jsx(Bt.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:T=>T.saccoName,onChange:T=>E(T.target.value)}),c.jsx(Bt.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Xf,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),c.jsx(It,{as:m.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>E(""),children:c.jsx(Bt.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:(w==null?void 0:w.length)===0&&p!==""?c.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):w==null?void 0:w.map(T=>c.jsx(Bt.Option,{className:({active:R})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${R?"bg-[#F66E3C] text-white":"text-gray-900"}`,value:T,onClick:()=>{u(T)},children:({selectedSacco:R,active:C})=>c.jsxs(c.Fragment,{children:[c.jsx("span",{className:`block truncate ${R?"font-medium":"font-normal"}`,children:T.saccoName}),R?c.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${C?"text-white":"text-teal-600"}`,children:c.jsx(kP,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},T.id))})})]})})})}),c.jsx("button",{type:"submit",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover-bg-[#f57859]",children:"Sign Up"})]}),c.jsxs("p",{className:"text-md text-center mt-4",children:["Already have an account?"," ",c.jsx(be,{to:"/signup/driver/",children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Submit"})})]}),c.jsx("br",{}),c.jsxs("p",{className:"text-sm text-center ",children:["don't see your sacco ?"," ",c.jsx("button",{onClick:g,children:c.jsx("span",{className:"text-blue-500 underline text-md font-bold cursor-pointer",children:"fetch saccos"})})]})]})})};function jz(){const t=localStorage.getItem("isDriver")?"Driver":"Rider";return c.jsx("div",{className:"inset-0 flex items-center justify-center z-20 overflow-y-auto",children:c.jsxs("div",{className:"w-full bg-white p-8 rounded-lg shadow-md max-w-xl mt-20",children:[c.jsx("div",{className:"flex justify-between border-b mb-4 pb-2",children:c.jsxs("div",{className:"space-x-6",children:[t==="Driver"?c.jsx(be,{to:`/settings/${t}/dashboard`,className:"text-[#F66E3C] hover:text-[#F74909] font-semibold",children:"Dashboard"}):c.jsx(be,{to:`/settings/${t}/book-trip`,className:"text-[#F66E3C] hover:text-[#F74909] font-semibold",children:"Book Your Trip"}),c.jsx(be,{to:`/settings/${t}/wallet/deposit`,className:"text-[#F66E3C] hover:text-[#F74909] font-semibold",children:"Wallet"}),c.jsx(be,{to:"#",className:"text-[#F66E3C] hover:text-[#F74909] font-semibold",children:"Notifications"}),c.jsx(be,{to:`/settings/${t}/settings`,className:"text-[#F66E3C] hover:text-[#F74909] font-semibold",children:"Settings"})]})}),c.jsx("div",{className:"mt-6",children:c.jsx(Wy,{})})]})})}function Lz(){var pe,Ye,Q;const{register:t,handleSubmit:e,watch:n,getValues:r}=Ni(),[i,s]=m.useState(null),{approvedRoutes:o,mataxiStandard:a,mataxiLuxe:l,mataxiXl:u,getSelectedRoute:d,registerNewBooking:f,fetchAvailableVehicle:h,fetchSelectedAvailableVehicleData:g,addSelectedVehicleToBookingAllocationCollection:v}=_o(),y=$n();console.log("userr >> ",y);const[x,_]=m.useState([]),[p,E]=m.useState(),[w,b]=m.useState([]),[T,R]=m.useState(!1),[C,k]=m.useState({show:!1,message:null});console.log("approved Routes from Bookings Trip >>",o),console.log("mataxi std >>",a),console.log("mataxi luxe >>",l),console.log("mataxi xl >>",u);const N=o.map(W=>W.startPoint),z=o.map(W=>W.endPoint);console.log("pickUpPoints >>",N),console.log("destinations >>",z),console.log([...new Set(z)]);const S=[...new Set(z)],I=[...new Set(N)];let[O,L]=m.useState(!1),[$,H]=m.useState(!1),[A,D]=m.useState(!1),[j,Z]=m.useState();const re=wr(),[ne,q]=m.useState(z[0]),[ye,G]=m.useState(N[0]),[we,ze]=m.useState(""),$e=we===""?S:S.filter(W=>W.toLowerCase().replace(/\s+/g,"").includes(we.toLowerCase().replace(/\s+/g,""))),ct=we===""?I:I.filter(W=>W.toLowerCase().replace(/\s+/g,"").includes(we.toLowerCase().replace(/\s+/g,"")));function Ke(){L(!1)}function Et(){D(!1)}function Nt(){H(!1)}function Lr(){H(!0)}const gn=async W=>{var fe;R(!0),k({show:!1,message:null});const ve=(fe=W==null?void 0:W.target)==null?void 0:fe.value;try{s(ve),_([]),console.log("selectedRideType >>",ve),await F(ve);const Ee=ye,Ne=ne;Ee&&Ne&&(console.log(`watchFrom and watchTo exists! : ${Ee} and ${Ne}`),U(Ee,Ne))}catch(Ee){console.log("error at handleRadioChange >> ",Ee)}R(!1)},P=(W,ve)=>{if(ve){alert("This seat is already booked. Please choose another seat.");return}if(x.includes(W)){const fe=x.filter(Ee=>Ee!==W);_(fe),console.log("selectedSeats >> ",fe)}else{const fe=[...x,W];_(fe),console.log("selectedSeats >> ",fe)}},F=async W=>{var ve;console.log("selected Ride Type from getVehicle () >>",W);try{const fe=await h(W);if(console.log("fetchAvailableVehicleResponse >>",fe),fe!=null&&fe.success){const Ee=await g(W,(ve=fe==null?void 0:fe.data)==null?void 0:ve.id);if(console.log("fetchSelectedAvailableVehicleDataResponse  >> ",Ee),Ee!=null&&Ee.success){const Ne=Ee==null?void 0:Ee.data;console.log("chosen vehicle >> ",Ne),E(Ne)}else{console.log("no vehicle found! We gon have to add this one to the list >> ",Ee==null?void 0:Ee.data);try{const Ne=await v(W,Ee==null?void 0:Ee.data);if(console.log("addVehicleForBookingResponse >> ",Ne),Ne!=null&&Ne.success){console.log("addVehicleForBookingResponse >> ",Ne==null?void 0:Ne.message),console.log("data to use for Booking Ui >> ",Ne==null?void 0:Ne.data);const Un=Ne==null?void 0:Ne.data;E(Un);return}else{console.log("addVehicleForBookingErrResponse  >> ",Ne==null?void 0:Ne.error);return}}catch(Ne){console.log("error tying to add vehicle data to and fetch from Booking Allocation Collection. >> ",Ne)}}}else{console.log("fetchAvailableVehicleResponse >> ",fe==null?void 0:fe.message),k({show:!0,message:fe==null?void 0:fe.message});return}}catch(fe){console.log("Error in getVehicle >>",fe)}},U=async(W,ve)=>{const fe=W,Ee=ve;try{R(!0);const Ne=await d(fe,Ee);Ne!=null&&Ne.success?(b(Ne),console.log("getSelectedRouteResponse >> ",Ne),R(!1)):(D(!0),console.log("selected Route does not exist"))}catch(Ne){console.error("Error at getting estimated price",Ne)}},le=async W=>{if(!He||!He.currentUser||!He.currentUser.uid){Lr();return}const ve={rider:He.currentUser.email,riderId:He.currentUser.uid,...W,to:ne,from:ye,rideType:i,selectedSeats:x,price:w.data.fare*x.length,driverUid:p==null?void 0:p.driverUid,vehicleNumberPlate:p==null?void 0:p.vehicleNumberPlate,vehicleId:p==null?void 0:p.id};if(He)try{console.log("Booking data to use >> ",ve);const fe=await f(ve);console.log("registerNewBookingResponse >> ",fe),fe.bookingId&&(L(!0),Z(fe.bookingId))}catch(fe){throw console.error("Error registering new booking:",fe),fe}else{alert("Please login first"),Lr();return}console.log("bookingData >>",ve)},ee=()=>{console.log("saving Ticket ...");let W=0;for(;localStorage.getItem(`ticket ${W}`);)W++;localStorage.setItem(`ticket ${W}`,j),re(`/settings/${y.user}/book-trip/success`)},J=()=>{console.log("Copying Ticket ..."),navigator.clipboard.writeText(j).then(()=>{alert("Copied!")}),re(`/settings/${y.user}/book-trip/success`)};return c.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Book Your Trip"}),c.jsx(It,{appear:!0,show:O,as:m.Fragment,children:c.jsxs(Zt,{as:"div",className:"relative z-50 ",onClose:Ke,children:[c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex h-screen items-center justify-center p-4 text-center",children:c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-md transition-all",children:[c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:Ke,className:"text-gray-600 hover:text-[#F66C3E] focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),c.jsx(Zt.Title,{as:"h3",className:"text-lg font-medium leading-6 text-[#F66E3C]",children:"Booking Successful"}),c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"text-sm text-gray-500",children:["Your booking has been successfully made. Here's your booking ticket number: ",j,"."]})}),c.jsxs("div",{className:"mt-4 w-full",children:[c.jsxs("div",{className:"flex  justify-around",children:[c.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-[#F66E3C] hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:ee,children:"Save ticket"}),c.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-[#F66E3C] hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:J,children:"Copy ticket"})]}),c.jsx("div",{className:"flex justify-center items-center",children:c.jsxs(be,{to:"checkout",className:"rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-[#F66E3C] hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:["Proceed to checkout"," "]})})]})]})})})})]})}),c.jsx(It,{appear:!0,show:$,as:m.Fragment,children:c.jsxs(Zt,{as:"div",className:"relative z-50 ",onClose:Ke,children:[c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex h-screen items-center justify-center p-4 text-center",children:c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-md transition-all",children:[c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:Nt,className:"text-gray-600 hover:text-[#F66C3E] focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),c.jsx(Zt.Title,{as:"h3",className:"text-lg font-medium leading-6 text-[#F66E3C]",children:"Please log in or create an account to continue"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Before you book your trip, please log in or create a new account.Once you're logged in, you can connect your Benkiko wallet to make payments."})}),c.jsx("div",{className:"mt-4 w-full",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx(be,{to:"/login",className:"rounded-md border border-transparent bg-[#F66E3C] px-4 py-2 text-sm font-medium text-white hover:bg-[#ff4806] focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Create account"})})})]})})})})]})}),c.jsx(It,{appear:!0,show:A,as:m.Fragment,children:c.jsxs(Zt,{as:"div",className:"relative z-50 ",onClose:Et,children:[c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex h-screen items-center justify-center p-4 text-center",children:c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-md transition-all",children:[c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:Et,className:"text-gray-600 hover:text-[#F66C3E] focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),c.jsx(Zt.Title,{as:"h3",className:"text-lg font-medium leading-6 text-[#F66E3C]",children:"Selected route does not exist"}),c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"text-sm text-gray-500",children:["try the following desinations from"," ",c.jsxs("span",{className:"font-semibold",children:[" ",ye]})]})})]})})})})]})}),c.jsxs("form",{onSubmit:e(le),className:"relative",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"mb-2",children:"Choose preferred mode of transport"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{children:[c.jsx("input",{type:"radio",...t("transport"),value:"express",className:"mr-2"}),"Express"]}),c.jsxs("label",{children:[c.jsx("input",{type:"radio",...t("transport"),value:"beba-beba",className:"mr-2"}),"Beba Beba"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"mb-2",children:"Select Destination"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"pickup",children:"From"}),c.jsx(Bt,{value:ye,onChange:G,children:c.jsxs("div",{className:"relative mt-1",children:[c.jsxs("div",{className:"relative border w-full cursor-default overflow-hidden rounded-lg bg-white text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:[c.jsx(Bt.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:W=>W,onChange:W=>ze(W.target.value)}),c.jsx(Bt.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Xf,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),c.jsx(It,{as:m.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>ze(""),children:c.jsx(Bt.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:ct.length===0&&we!==""?c.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):ct.map(W=>c.jsx(Bt.Option,{className:({active:ve})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${ve?"bg-teal-600 text-white":"text-gray-900"}`,value:W,children:({selected:ve,active:fe})=>c.jsx(c.Fragment,{children:c.jsx("span",{className:`block truncate ${ve?"font-medium":"font-normal"}`,children:W})})},W))})})]})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"destination",children:"To"}),c.jsx(Bt,{value:ne,onChange:q,children:c.jsxs("div",{className:"relative mt-1",children:[c.jsxs("div",{className:"relative w-full border cursor-default overflow-hidden rounded-lg bg-white text-left  focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:[c.jsx(Bt.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:W=>W,onChange:W=>ze(W.target.value)}),c.jsx(Bt.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Xf,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),c.jsx(It,{as:m.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>ze(""),children:c.jsx(Bt.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:$e.length===0&&we!==""?c.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):$e.map(W=>c.jsx(Bt.Option,{className:({active:ve})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${ve?"bg-teal-600 text-white":"text-gray-900"}`,value:W,children:({selected:ve,active:fe})=>c.jsx(c.Fragment,{children:c.jsx("span",{className:`block truncate ${ve?"font-medium":"font-normal"}`,children:W})})},W))})})]})})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Date"}),c.jsx("input",{type:"date",...t("date"),className:"w-full p-2 border rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Time"}),c.jsx("input",{type:"time",...t("time"),className:"w-full p-2 border rounded-lg"})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"mb-2",children:"Select Your Ride"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{children:[c.jsx("input",{type:"radio",name:"ride",value:"Mataxi Standard",onChange:gn,checked:i==="Mataxi Standard",className:"mr-2"}),"Mataxi Standard"]}),c.jsxs("label",{children:[c.jsx("input",{type:"radio",name:"ride",value:"Mataxi XL",onChange:gn,checked:i==="Mataxi XL",className:"mr-2"}),"Mataxi XL"]}),c.jsxs("label",{children:[c.jsx("input",{type:"radio",name:"ride",value:"Mataxi Luxe",onChange:gn,checked:i==="Mataxi Luxe",className:"mr-2"}),"Mataxi Luxe"]})]})]}),c.jsxs("p",{children:["Selected Ride Type:"," ",i||"Select a ride type first"]}),c.jsxs("div",{className:"mb-4 ",children:[c.jsx("h3",{className:"mb-2",children:"Select Your Seat Number"}),(C==null?void 0:C.show)===!0?c.jsx("div",{className:" left-0 top-0 w-full h-32 my-6",children:c.jsx("div",{className:"bg-red-600 border border-rounded-lg py-4 px-6 border-yellow-600 text-white p-2 rounded-lg",children:C==null?void 0:C.message})}):p?c.jsxs("div",{children:[c.jsxs("p",{children:["Available seats:"," ",isNaN(x.length)?"Select a Ride":parseInt(`${p==null?void 0:p.availableSeats.length}`,10)-x.length]}),c.jsx("div",{className:"grid grid-cols-5 gap-4",children:Array.from({length:parseInt(p==null?void 0:p.seatCapacity,10)},(W,ve)=>{const fe=`${p==null?void 0:p.vehicleNumberPlate}_seat${ve+1}`,Ee=p==null?void 0:p.bookedSeats.includes(fe);return c.jsx("div",{className:`rounded-lg w-8 h-8 flex items-center justify-center cursor-pointer ${x.includes(fe)?"bg-[#F66E3C] text-white":Ee?"bg-green-500 text-white cursor-not-allowed":"bg-white"}`,onClick:()=>P(fe,Ee),children:ve+1},fe)})}),c.jsxs("p",{children:["Unavailable seats"," ",isNaN(x.length)?"Select a Ride":`${x.length} seats`]}),c.jsx("div",{className:"flex space-x-2"})]}):c.jsx("div",{className:"bg-[#F66E3C] text-white p-2 rounded-lg",children:"Select a ride to see available seats"})]}),c.jsxs("div",{className:"mb-4 border-b-2 border-[#F66E3C] p-2",children:[c.jsx("span",{children:"Estimated Price"}),x.length>0?c.jsx("span",{className:"float-right",children:(pe=w==null?void 0:w.data)!=null&&pe.fare?((Ye=w==null?void 0:w.data)==null?void 0:Ye.fare)*(x==null?void 0:x.length):" "}):c.jsx("span",{className:"float-right",children:((Q=w==null?void 0:w.data)==null?void 0:Q.fare)||" 00"})]}),c.jsx("button",{type:"submit",className:"bg-[#F66E3C] text-white py-2 px-4 rounded-lg hover:bg-[#F74909] transition duration-300",children:"Book Now"}),T&&c.jsx("div",{role:"status",class:"absolute border rounded-lg shadow-md shadow-[#F66E3C]  bg-[#F66E3C]/50 flex justify-center items-center  left-0 top-0 w-full h-3/4",children:c.jsxs("div",{className:"flex justify-center items-center flex-col bg-white py-4 px-6 rounded-lg shadow-lg",children:[c.jsx("span",{className:"text-lg text-black",children:"Fetching the selected routes..."}),c.jsx("span",{className:"text-lg text-black py-2",children:"Please Wait..."}),c.jsxs("svg",{"aria-hidden":"true",className:" my-2 w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-white",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),c.jsx("span",{class:"sr-only",children:"Loading..."})]})})]})]})}function Mz(){const{control:t,handleSubmit:e,formState:{errors:n},reset:r}=Ni(),{registerNewRoute:i}=_o(),s=async o=>{console.log({...o,author:fn.currentUser.email});const a={...o,author:fn.currentUser.email,approved:!0};try{const l=await i(a);console.log("routeResponse >>",l),r()}catch(l){console.warn("Error in submitting the new Route ",l)}};return c.jsx("div",{className:"text-center",children:c.jsxs("form",{className:"mt-4",onSubmit:e(s),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"text-gray-600 block",children:"Start Point"}),c.jsx(_t,{name:"startPoint",control:t,rules:{required:"Start Point is required"},render:({field:o})=>c.jsx("input",{type:"text",placeholder:"Nairobi",className:`w-full border rounded-lg p-2 ${n.startPoint?"border-red-500":""}`,...o})}),n.startPoint&&c.jsx("span",{className:"text-red-500",children:n.startPoint.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"text-gray-600 block",children:"End Point"}),c.jsx(_t,{name:"endPoint",control:t,rules:{required:"End Point is required"},render:({field:o})=>c.jsx("input",{type:"text",placeholder:"Thika",className:`w-full border rounded-lg p-2 ${n.endPoint?"border-red-500":""}`,...o})}),n.endPoint&&c.jsx("span",{className:"text-red-500",children:n.endPoint.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"text-gray-600 block",children:"Fare"}),c.jsx(_t,{name:"fare",control:t,rules:{required:"Fare is required",pattern:{value:/^\d+(\.\d{1,2})?$/,message:"Invalid fare amount"}},render:({field:o})=>c.jsx("input",{type:"text",placeholder:"Enter Fare",className:`w-full border rounded-lg p-2 ${n.fare?"border-red-500":""}`,...o})}),n.fare&&c.jsx("span",{className:"text-red-500",children:n.fare.message})]}),c.jsx("button",{className:"bg-[#F66E3C] text-white py-2 px-4 rounded-lg",children:"Publish Route"})]})})}function Fz(){let[t,e]=m.useState(!1);const n=localStorage.getItem("username"),r=n==null?void 0:n.split(" ")[0];function i(){e(!1)}function s(){e(!0)}return m.useRef(),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-semibold mt-8",children:"Dashboard"}),c.jsxs("div",{className:"flex my-5",children:[c.jsx("div",{className:"w-20  h-20 mt-2 rounded-full bg-cover bg-center bg-no-repeat bg-gray-900 overflow-hidden",children:c.jsx("img",{src:"https://cdn2.vectorstock.com/i/thumb-large/13/66/person-gray-photo-placeholder-man-vector-23511366.jpg",alt:"",className:"object-cover w-full h-full"})}),c.jsxs("div",{className:" px-6",children:[c.jsxs("p",{className:"text-xl text-[#F66E3C] font-semibold mt-2",children:["Welcome ",r]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ratings: 4/5"})]})]}),c.jsxs("div",{className:"flex justify-between my-6",children:[c.jsx("div",{children:c.jsx("p",{className:"text-lg font-semibold",children:"Total Earnings"})}),c.jsxs("div",{children:[c.jsx("button",{onClick:s,className:"bg-[#F66E3C] text-white py-2 px-4 rounded-lg",children:"Publish New Route"}),c.jsx(It,{appear:!0,show:t,as:m.Fragment,children:c.jsxs(Zt,{as:"div",className:"relative z-50 ",onClose:i,children:[c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex h-screen items-center justify-center p-4 text-center",children:c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-md transition-all",children:[c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:i,className:"text-gray-600 hover:text-gray-900 focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),c.jsx(Zt.Title,{as:"h3",className:"text-2xl text-[#F66E3C] font-semibold mt-8",children:"Publish New Route"}),c.jsx("div",{className:"py-10 px-4",children:c.jsx(Mz,{})})]})})})})]})})]})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-lg font-semibold text-[#F66E3C]",children:"Item 1"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Item description"})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-lg font-semibold text-[#F66E3C]",children:"Item 2"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Item description"})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-lg font-semibold text-[#F66E3C]",children:"Item 3"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Item description"})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-lg font-semibold text-[#F66E3C]",children:"Item 4"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Item description"})]})]})]})}function WE(){const t=$n();return c.jsx("div",{className:"inset-0 flex justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-xl",children:[c.jsx("div",{className:"relative flex justify-center items-center space-x-4 mb-4",children:c.jsx("div",{className:"h-32 w-32 bg-[#FFCAB7] rounded-full flex justify-center items-center",children:c.jsx("div",{className:" h-20 w-20 bg-[#FF8A5F] rounded-full flex justify-center items-center",children:c.jsx("div",{className:" h-12 w-12 bg-[#F66E3C] rounded-full flex justify-center items-center",children:c.jsx(l0,{className:"h-10 w-10 text-white"})})})})}),c.jsx("h1",{className:"text-center text-md font-semibold mb-4 text-[#F66E3C]",children:"Congratulations! Your booking has been confirmed"}),c.jsx("p",{className:"text-gray-900 text-center  ",children:"Thank you for choosing Mataxi for your transportation needs. We look forward to providing you with a safe and comfortable journey"}),c.jsxs("div",{className:"flex items-center py-10 justify-around",children:[c.jsx(be,{to:`/settings/${t.user}/book-trip/checkout`,className:"bg-green-800 text-white rounded-full py-2 px-4 mt-4  hover:bg-green-500 block text-center",children:"Proceed to Checkout"}),c.jsx(be,{to:"/home",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4  hover:bg-[#f57859] block text-center",children:"Return to homepage"})]})]})})}function Vz(){return c.jsx("div",{className:" inset-0 flex justify-center z-20",children:c.jsx(Wy,{})})}const $z=()=>{var d;const t=$n(),[e,n]=te.useState(He),[r,i]=te.useState({}),[s,o]=te.useState({}),{fetchRiderUserInfo:a,fetchDriverUserInfo:l}=lr();console.log("cuurent user >>",(d=He==null?void 0:He.currentUser)==null?void 0:d.uid);const u=async()=>{var f,h;if(t.user==="Rider"){const g=await a((f=e==null?void 0:e.currentUser)==null?void 0:f.uid);i(g.data),console.log("riderDetailResponse >>",g)}else{const g=await l((h=e==null?void 0:e.currentUser)==null?void 0:h.uid);o(g.data),console.log("driverDetailsResponse >>",g)}};return m.useEffect(()=>{u()},[]),c.jsx("div",{className:"inset-0 flex justify-center z-20",children:c.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md w-full max-w-xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:" mb-3 flex justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}),c.jsx("div",{className:`absolute bottom-0 -right-5\r
            `,children:c.jsx(Cx,{className:"h-6 w-6 text-gray-500 cursor-pointer"})})]})}),c.jsx("p",{className:"font-bold text-lg",children:t.user==="Rider"?r.name:s.driverUsername}),c.jsx("p",{className:"text-gray-500",children:t.user==="Rider"?r.email:s.email})]}),c.jsxs("div",{className:"mt-8 space-y-4",children:[c.jsxs(be,{to:t.user==="Rider"?"profile":`/accounts/${t.user}/profile`,className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:["Edit Profile",c.jsx(Cx,{className:"h-5 w-5 text-gray-500"})]}),c.jsx(be,{to:"paymail",className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:"Paymail"}),c.jsx("button",{className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:"Trip History"}),c.jsx("button",{className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:"Notification"}),c.jsx("button",{className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:"Account"}),c.jsx("button",{className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:"Help"}),c.jsx("button",{className:"bg-gray-100 p-3 hover:bg-gray-200 w-full flex items-center justify-between",children:"Support"})]}),c.jsx("div",{className:"mt-8",children:c.jsx("button",{className:"bg-[#F66E3C] text-white p-3 hover:bg-red-500 w-1/3 text-center",children:"Logout"})})]})})};function Uz(){return c.jsx("div",{children:"EditProfile"})}const zw=()=>({handleDeposit:async(r,i,s)=>{var l,u;console.log("data at handle deposit () >> ",r);const o={clickpesa:"connect.clickpesa.com",ultrastellar:"ultrastellar.com",anclap:"api.anclap.com"},a=`https://staging.api.benkiko.io/v1/transactions/deposit/interactive?asset_code=${r==null?void 0:r.code}&secret_key=${i}&domain=${o[r==null?void 0:r.domain]}`;try{const d=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${(u=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:u.token}`}});console.log("token >> ",s.data.data.token),console.log("assetData.code >> ",r==null?void 0:r.code),console.log("assetData.domain >> ",o[r.domain]),console.log("secret key >> ",i),d&&console.log("fetch response >> ",d);const f=await d.json();return console.log(JSON.stringify(f)),{success:!0,data:f}}catch(d){return console.error("Fetch error:",d),{success:!1,error:d.message}}},handleWithdraw:async(r,i,s)=>{var l,u;console.log("data at handlewithdraw() >> ",r);const o={clickpesa:"connect.clickpesa.com",ultrastellar:"ultrastellar.com",anclap:"api.anclap.com"},a=`https://staging.api.benkiko.io/v1/transactions/withdraw/interactive?asset_code=${r==null?void 0:r.code}&secret_key=${i}&domain=${o[r==null?void 0:r.domain]}`;try{const d=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${(u=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:u.token}`}});console.log("token >> ",s.data.data.token),console.log("assetData.code >> ",r==null?void 0:r.code),console.log("assetData.domain >> ",o[r.domain]),console.log("secret key >> ",i),d&&console.log("fetch response >> ",d);const f=await d.json();return console.log(JSON.stringify(f)),{success:!0,data:f}}catch(d){return console.error("Fetch error:",d),{success:!1,error:d.message}}},handlePayment:async(r,i)=>{var l,u,d,f;const s="https://staging.api.benkiko.io/v1/payment";console.log("ACCESS TOKEN TO USE FOR PAYMENT >> ",(u=(l=i==null?void 0:i.data)==null?void 0:l.data)==null?void 0:u.token);const o=JSON.stringify(r);console.log("stringifiedData >> ",o);const a=await fetch(s,{method:"post",maxBodyLength:1/0,headers:{"Content-Type":"application/json",Authorization:`Bearer ${(f=(d=i==null?void 0:i.data)==null?void 0:d.data)==null?void 0:f.token}`},body:o});try{const h=await a.json();if(console.log("payment api response >> ",a),console.log("payment api response.JSON() >> ",h),(h==null?void 0:h.code)!==201)throw new Error(`HTTP error Status: ${h==null?void 0:h.message}`);return console.log(`HTTP SUCCESS REQUEST Status: ${h==null?void 0:h.status}`),console.log("Payment responseData >> ",h),{success:!0,message:"Successfully created payment.",data:h}}catch(h){console.error("Error in Payment :",h)}}});function Bz(){var w;const t=$n(),[e,n]=te.useState(He),[r,i]=te.useState({}),[s,o]=te.useState({}),[a,l]=m.useState(""),{fetchRiderUserInfo:u,fetchDriverUserInfo:d}=lr();console.log("cuurent user >>",(w=He==null?void 0:He.currentUser)==null?void 0:w.uid);const f=async()=>{var b,T;if(t.user==="Rider"){const R=await u((b=e==null?void 0:e.currentUser)==null?void 0:b.uid);i(R.data),l(R.data.secret_key),console.log("riderDetailResponse >>",R)}else{const R=await d((T=e==null?void 0:e.currentUser)==null?void 0:T.uid);o(R.data),l(R.data.secret_key),console.log("driverDetailsResponse >>",R)}};m.useEffect(()=>{f()},[]);const{handleWithdraw:h}=zw(),{generateAccessToken:g}=xo(),[v,y]=m.useState(null),[x,_]=m.useState(!1),p=b=>{y(b)},E=async()=>{console.log("Selected Asset >> ",v);try{_(!1),console.log("Generating access token ...");const b=await g();if(b){console.log("accessToken obtined >>",b);const T=await h(v,a,b);console.log("handleWithdrawResponse >>",T);const R=T.data.data.url;window.open(R,"_blank")}}catch(b){throw console.log("Error in withdrawing asset >>>",b),b}};return c.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md w-full max-w-xl",children:[c.jsx("div",{className:" w-full",children:c.jsx("h3",{className:"text-[#F66E3C] text-xl font-bold text-center mb-3",children:"Withdraw Funds"})}),c.jsxs("div",{className:"w-full flex items-center justify-between",children:[c.jsx("p",{className:"text-gray-600",children:"Top up your wallet with ease."}),c.jsxs("div",{className:"mr-3 flex space-x-4",children:[c.jsx(be,{to:"/settings",className:"bg-gray-300 px-4 py-2 rounded border border-[#254E70] font-bold text-[#254E70] hover:bg-[#254E70] hover:text-white",children:"Back"}),c.jsx(be,{to:`/settings/${t.user}/wallet/deposit`,className:"bg-gray-300 px-4 py-2 rounded border border-[#254E70] font-bold text-[#254E70] hover:bg-[#254E70] hover:text-white",children:"Deposit Funds"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Select the asset type you want to Withdraw"}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("select",{className:"w-32 p-2 border rounded-l focus:outline-none",onChange:b=>p(rf.find(T=>T.code===b.target.value)),value:v?v.code:"",children:[c.jsx("option",{value:"",disabled:!0,children:"Select Asset"}),rf.map(b=>c.jsx("option",{value:b.code,children:b.code},b.code))]}),v&&c.jsx("div",{className:"flex items-center bg-gray-100 border border-l-0 rounded-r p-2 ml-1",children:c.jsxs(c.Fragment,{children:[c.jsx("img",{src:v.icon,alt:`${v.code} icon`,className:"h-6 w-6 mr-2"}),v.fullName]})})]})]}),c.jsxs("div",{className:"mt-4 flex w-full justify-around",children:[c.jsx("button",{onClick:E,className:"bg-[#828282] text-white w-1/3 px-4 py-2 rounded hover:bg-[#f66e3c]",children:"Withdraw"}),c.jsx("button",{className:"border rounded border-[#828282] px-4 py-2 ml-2  w-1/3",children:"Cancel"})]})]})}function zz(){var w;const t=$n(),[e,n]=te.useState(He),[r,i]=te.useState({}),[s,o]=te.useState({}),[a,l]=m.useState(""),{fetchRiderUserInfo:u,fetchDriverUserInfo:d}=lr();console.log("cuurent user >>",(w=He==null?void 0:He.currentUser)==null?void 0:w.uid);const f=async()=>{var b,T;if(t.user==="Rider"){const R=await u((b=e==null?void 0:e.currentUser)==null?void 0:b.uid);i(R.data),l(R.data.secret_key),console.log("riderDetailResponse >>",R)}else{const R=await d((T=e==null?void 0:e.currentUser)==null?void 0:T.uid);o(R.data),l(R.data.secret_key),console.log("driverDetailsResponse >>",R)}};m.useEffect(()=>{f()},[]);const{handleDeposit:h}=zw(),{generateAccessToken:g}=xo(),[v,y]=m.useState(null),[x,_]=m.useState(!1),p=b=>{y(b)},E=async()=>{console.log("Selected Asset >> ",v);try{_(!1),console.log("Generating access token ...");const b=await g();if(b){console.log("accessToken obtined >>",b);const T=await h(v,a,b);console.log("handleDepositResponse >>",T);const R=T.data.data.url;window.open(R,"_blank")}}catch(b){throw console.log("Error in depositing asset >>>",b),b}};return c.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md w-full max-w-xl",children:[c.jsx("div",{className:" w-full",children:c.jsx("h3",{className:"text-[#F66E3C] text-xl font-bold text-center mb-3",children:"Deposit Fund"})}),c.jsxs("div",{className:"w-full flex items-center justify-between",children:[c.jsx("p",{className:"text-gray-600",children:"Top up your wallet with ease."}),c.jsxs("div",{className:"mr-3 flex space-x-4",children:[c.jsx(be,{to:"/settings",className:"bg-gray-300 px-4 py-2 rounded border border-[#254E70] font-bold text-[#254E70] hover:bg-[#254E70] hover:text-white",children:"Back"}),c.jsx(be,{to:`/settings/${t.user}/wallet/withdraw`,className:"bg-gray-300 px-4 py-2 rounded border border-[#254E70] font-bold text-[#254E70] hover:bg-[#254E70] hover:text-white",children:"Withdraw Funds"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Select the asset type you want to Deposit"}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("select",{className:"w-32 p-2 border rounded-l focus:outline-none",onChange:b=>p(rf.find(T=>T.code===b.target.value)),value:v?v.code:"",children:[c.jsx("option",{value:"",disabled:!0,children:"Select Asset"}),rf.map(b=>c.jsx("option",{value:b.code,children:b.code},b.code))]}),v&&c.jsx("div",{className:"flex items-center bg-gray-100 border border-l-0 rounded-r p-2 ml-1",children:c.jsxs(c.Fragment,{children:[c.jsx("img",{src:v.icon,alt:`${v.code} icon`,className:"h-6 w-6 mr-2"}),v.fullName]})})]})]}),c.jsxs("div",{className:"mt-4 flex w-full justify-around",children:[c.jsx("button",{onClick:E,className:"bg-[#828282] text-white w-1/3 px-4 py-2 rounded hover:bg-[#f66e3c]",children:"Deposit"}),c.jsx("button",{className:"border rounded border-[#828282] px-4 py-2 ml-2  w-1/3",children:"Cancel"})]})]})}function Hz(){const[t,e]=m.useState(""),[n,r]=m.useState(null),{fetchTripDetails:i,addTransactionToFirestore:s,updateBookingPaidStatus:o,updateSeatNumberBooking:a}=_o(),{fetchDriverUserInfo:l,fetchRiderUserInfo:u}=lr(),d=$n(),{generateAccessToken:f}=xo(),{handlePayment:h}=zw();let[g,v]=m.useState(!1);function y(){v(!1)}function x(){v(!0)}const _=async()=>{try{const w=await i(t);console.log("tripDetailsResponse >> ",w),r(w==null?void 0:w.data)}catch(w){console.error("Error fetching trip details:",w)}},p=()=>{let w=0;for(;localStorage.getItem(`ticket ${w}`);)w++;const b=localStorage.getItem(`ticket ${w-1}`);console.log("Fetched Ticket Number:",b),e(b)},E=async()=>{var C,k,N,z,S,I,O,L,$;console.log("authUser?.currentUser.uid >> ",(C=He==null?void 0:He.currentUser)==null?void 0:C.uid);const w=await l(n==null?void 0:n.driverUid),b=await u((k=He==null?void 0:He.currentUser)==null?void 0:k.uid);console.log("riderData from checkout >> ",b),console.log("driverData from checkout >> ",w);const T={destination:(N=w==null?void 0:w.data)==null?void 0:N.publicKey,asset_code:"XLM",amount:n.price,text_memo:"transaction successfull",secret_key:(z=b==null?void 0:b.data)==null?void 0:z.secret_key,home_domain:"benkiko.io"};console.log("Generating access token ...");const R=await f();try{if(R&&b){console.log("accessToken obtined >>",R),console.log("data to use to handle payment >> ",T);const H=await h(T,R);if(console.log("handlePaymentResponse >>",H),H!=null&&H.success){alert("Your Payment is Successful! Trip booked successfully.");const A={riderUid:(S=He==null?void 0:He.currentUser)==null?void 0:S.uid,driverUid:n.driverUid,createdAt:new Date().toISOString(),status:"completed",ticketNumber:t,transactionHash:(O=(I=H==null?void 0:H.data)==null?void 0:I.data)!=null&&O.payment["Transaction Hash"]?($=(L=H==null?void 0:H.data)==null?void 0:L.data)==null?void 0:$.payment["Transaction Hash"]:"error hash"},D=await s(A);if(console.log("addTransactionToFirestoreResponse >> ",D),D!=null&&D.success){const j=await o(t);if(console.log("updatePaidStatusRes  >> ",j),j!=null&&j.success){const Z=await a(n);console.log("updateSeatNumberBookingRes >> ",Z)}x()}}else{const A=await a(n);console.log("updateSeatNumberBookingRes >> ",A)}}}catch(H){console.log("error occurred during pay now >> ",H)}};return c.jsx("div",{className:"inset-0 flex justify-center z-20",children:c.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[c.jsx(It,{appear:!0,show:g,as:m.Fragment,children:c.jsxs(Zt,{as:"div",className:"relative z-50 ",onClose:y,children:[c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex h-screen items-center justify-center p-4 text-center",children:c.jsx(It.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-md transition-all",children:[c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:y,className:"text-gray-600 hover:text-[#F66C3E] focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),c.jsx(Zt.Title,{as:"h3",className:"text-lg font-medium leading-6 text-[#F66E3C]",children:"You have successfully Paid for your Trip"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Before you book your trip, please log in or create a new account.Once you're logged in, you can connect your Benkiko wallet to make payments."})}),c.jsx("div",{className:"mt-4 w-full flex justify-around items-center",children:c.jsxs("div",{className:"flex justify-between  items-center py-5",children:[c.jsx(be,{to:"/home",className:"mr-2 rounded-md border border-transparent bg-[#F66E3C] px-4 py-2 text-sm font-medium text-white hover:bg-[#ff4806] focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Back to home"}),c.jsx(be,{to:`/settings/${d.user}/trip-history`,className:"rounded-md border border-transparent bg-green-700 px-4 py-2 text-sm font-medium text-white hover:bg-green-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Proceed to see Trip History"})]})})]})})})})]})}),c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Book Trip Checkout"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"ticketNumber",className:"block text-sm font-medium text-gray-700",children:"Enter your booking ticket number:"}),c.jsx("input",{type:"text",id:"ticketNumber",name:"ticketNumber",value:t,onChange:w=>e(w.target.value),className:"mt-1 p-2 border rounded-md w-full"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[!n||n?c.jsx("button",{onClick:_,className:"bg-blue-500 text-white px-4 py-2 rounded-md mr-2",disabled:n,children:"Fetch Trip Details"}):c.jsx("button",{onClick:_,className:"bg-gray-500 text-white px-4 py-2 rounded-md mr-2",children:"Fetch Trip Details Buuton"}),!n&&c.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-4 py-2 rounded-md",disabled:t,children:"Fetch Trip Ticket Number"})]}),n&&c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("p",{className:"font-bold",children:"Destination:"}),c.jsx("p",{children:n.to}),c.jsx("p",{className:"font-bold",children:"Pickup Point:"}),c.jsx("p",{children:n.from}),c.jsx("p",{className:"font-bold",children:"Mode of Transport:"}),c.jsx("p",{children:n.transport}),c.jsx("p",{className:"font-bold",children:"Date:"}),c.jsx("p",{children:n.date}),c.jsx("p",{className:"font-bold",children:"Time:"}),c.jsx("p",{children:n.time}),c.jsx("p",{className:"font-bold",children:"Ride Type:"}),c.jsx("p",{children:n.rideType}),c.jsx("p",{className:"font-bold",children:"Selected Seats:"}),c.jsx("p",{children:n.selectedSeats.join(", ")}),c.jsx("p",{className:"font-bold",children:"Vehicle Number Plate:"}),c.jsx("p",{children:n.vehicleNumberPlate}),c.jsx("p",{className:"font-bold",children:"Total Price:"}),c.jsxs("p",{children:["Ksh ",n.price]})]}),n&&c.jsx("div",{className:"mt-8",children:c.jsx("button",{disabled:n.paid,onClick:E,className:"bg-green-500 text-white px-4 py-2 rounded-md",children:"Pay Now"})}),c.jsx("div",{children:c.jsxs("p",{className:"text-md text-center mt-4",children:["See your"," ",c.jsx(be,{to:`/settings/${d.user}/trip-history`,children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Trip History"})})]})})]})})}function Wz({userDetails:t}){console.log("userDetails from create PATMAIL >> ",t);const e=wr(),[n,r]=m.useState(!1),{control:i,handleSubmit:s}=Ni(),o=$n(),{generateMmemonics:a,userData:l,createWalletAutomatically:u}=xo(),{updateDriverProfile:d}=lr(),f=async g=>{try{if(g.username!=""){console.log(g.username,"username"),localStorage.setItem("username",g.username);const v=await a();l.mmemonics&&(console.log("if userData.mmemonics >>",l),e("mmemonics"))}else alert("Enter Username")}catch(v){console.log("error >>",v)}},h=async()=>{r(!0);const g=await u();console.log("autoWalletGenerationResponse >> ",g);try{const v={mmemonics:g.mnemonics,paymail:g.data.paymail,publicKey:g.data["public key"],secretKey:g.data["secret key"]};console.log("driverWallet Data >> ",v);const y=await d(v);r(!1),e("success")}catch(v){throw console.error("ERROR OCCURED TRYING TO UPDATE THE DRIVER'S DATA >>",v),r(!1),v}};return c.jsxs("div",{className:"inset-0 flex flex-col justify-center z-20 bg-white p-5 rounded-lg shadow-md ",children:[c.jsxs("div",{className:"w-full max-w-xl",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("p",{className:"text-gray-600 font-bold text-3xl",children:"Welcome !"}),c.jsx("p",{className:"text-gray-800 py-6 ",children:"Enter your username to get started."}),c.jsxs("form",{onSubmit:s(f),children:[c.jsx("div",{className:"relative",children:c.jsx(_t,{name:"username",control:i,defaultValue:"",rules:{required:!0},render:({field:g})=>c.jsx("input",{...g,type:"text",placeholder:"Username",className:"w-full py-2 px-3 border border-gray-300 rounded-lg pr-10"})})}),c.jsx("button",{type:"submit",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] flex justify-center items-center",children:"Generate Phrase"})]})]}),c.jsx("div",{className:"text-center mt-6 mb-6",children:c.jsx("span",{className:"text-gray-600",children:"or"})}),c.jsx("button",{onClick:h,className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 w-full hover:bg-[#f57859] flex justify-center items-center",children:n?"Loading ...":"Click here to generate your wallet automatically"}),c.jsxs("p",{className:"text-md t ext-center mt-4",children:["Already have a wallet?"," ",c.jsx(be,{to:`/signup/${o.user}/import-wallet`,children:c.jsx("span",{className:"text-[#f66E3C] text-lg font-bold cursor-pointer",children:"Import"})})]})]})}function qz({userData:t}){const e=$n();return console.log("userData from PaymailView >> ",t),c.jsx("div",{className:"bg-white p-5 rounded-lg shadow-md w-full max-w-xl",children:c.jsxs("div",{className:" w-full",children:[c.jsxs("h3",{className:"text-[#F66E3C] text-xl font-bold text-center mb-3",children:[" ","PAYMAIL VIEW"]}),c.jsxs("p",{className:"text-center",children:[c.jsx("span",{className:"font-bold",children:"Paymail :"})," ",t==null?void 0:t.paymail]}),c.jsx("br",{}),c.jsx(be,{to:`/settings/${e.user}/settings`,className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Return to Settings"})]})})}function Kz(){var l,u;const{fetchDriverUserInfo:t,fetchRiderUserInfo:e}=lr(),[n,r]=m.useState(null),i=$n(),s=(l=He==null?void 0:He.currentUser)==null?void 0:l.uid;let o;const a=async()=>{i.user==="Rider"?(o=await e(s),r(o)):i.user==="Driver"&&(o=await t(s),r(o))};return m.useEffect(()=>{(async()=>{await a()})()},[]),console.log("userData in Paymail >> ",n),console.log("mataxiUserInfo >> ",o),(u=n==null?void 0:n.data)!=null&&u.paymail?c.jsx(qz,{userData:n==null?void 0:n.data}):c.jsx(Wz,{userDetails:n==null?void 0:n.data})}function Gz({data:t,selectedRideType:e}){const{addVehicleToQueue:n,removeVehicleFromQueue:r}=_o(),[i,s]=m.useState(!1);console.log("data from the table >> ",t),console.log("selectedRideType >> ",e);const o=async l=>{console.log(`Removing ${l==null?void 0:l.vehicleNumberPlate} from the queue`);try{const u=await r(l,e);console.log("removeFromQueueResponse >> ",u)}catch(u){console.log("error >> >> ",u)}},a=async l=>{console.log("Data to add to queue  >> ",l),s(!0),console.log(`Adding ${l==null?void 0:l.id} to the queue`);try{const u=await n(l,e);console.log("addToQueueResponse >> ",u)}catch(u){console.log("error >> >> ",u)}};return c.jsx("div",{children:c.jsxs("table",{className:"w-full my-0 align-middle text-dark border-neutral-200",children:[c.jsx("thead",{className:"align-bottom",children:c.jsxs("tr",{className:"font-semibold text-[0.95rem] text-secondary-dark",children:[c.jsx("th",{className:"pb-3 text-start min-w-[175px]",children:"Vehicle Number Plate"}),c.jsx("th",{className:"pb-3 text-end min-w-[100px]",children:"Driver"}),c.jsx("th",{className:"pb-3 text-end min-w-[100px]",children:"Is Full"}),c.jsx("th",{className:"pb-3 pr-12 text-end min-w-[175px]",children:"Is Available"}),c.jsx("th",{className:"pb-3 pr-12 text-end min-w-[100px]",children:"Actions"})]})}),c.jsx("tbody",{children:(t==null?void 0:t.length)===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"text-center py-4",children:"No vehicles in this category."})}):t==null?void 0:t.map(l=>c.jsxs("tr",{className:"border-b border-dashed last:border-b-0 ",children:[c.jsx("td",{className:"p-3 pl-0",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"relative inline-block shrink-0 rounded-2xl me-3",children:c.jsx("img",{src:(l==null?void 0:l.imageSrc)||"default-image-src.jpg",className:"w-[50px] h-[50px] inline-block shrink-0 rounded-2xl",alt:`Vehicle ${l==null?void 0:l.vehicleNumberPlate}`})}),c.jsx("div",{className:"flex flex-col justify-start",children:c.jsx("a",{href:"javascript:void(0)",className:"mb-1 font-semibold transition-colors duration-200 ease-in-out text-lg/normal text-secondary-inverse hover:text-primary",children:l==null?void 0:l.vehicleNumberPlate})})]})}),c.jsx("td",{className:"p-3 pr-0 text-end",children:c.jsx("span",{className:"font-semibold text-light-inverse text-md/normal",children:(l==null?void 0:l.driver)||"Unknown Driver"})}),c.jsx("td",{className:"p-3 pr-0 text-end",children:c.jsx("span",{className:`text-center align-baseline inline-flex px-2 py-1 mr-auto items-center font-semibold text-base/none ${l!=null&&l.isFull?"text-danger bg-danger-light":"text-success bg-success-light"} rounded-lg`,children:l!=null&&l.isFull?"Yes":"No"})}),c.jsx("td",{className:"p-3 pr-12 text-end",children:c.jsx("span",{className:`text-center align-baseline inline-flex px-4 py-3 mr-auto items-center font-semibold text-[.95rem] leading-none ${l!=null&&l.isAvailable?"text-primary bg-primary-light":"text-warning bg-warning-light"} rounded-lg`,children:l!=null&&l.isAvailable?"Yes":"No"})}),c.jsxs("td",{className:"flex flex-col justify-around w-48 my-4 ",children:[c.jsx("button",{onClick:()=>o(l),className:"bg-red-700 hover:bg-red-600 active:bg-red-700 focus:outline-none focus:ring focus:ring-red-300 rounded-2xl px-2 py-1 text-white mb-2",children:"Remove from Queue"}),c.jsx("button",{onClick:()=>a(l),className:"bg-amber-700 hover:bg-amber-600 active:bg-amber-700 focus:outline-none focus:ring focus:ring-amber-300 rounded-2xl px-2 py-1 text-white",children:"Add to Queue"})]})]},l==null?void 0:l.vehicleNumberPlate))})]})})}function qE(...t){return t.filter(Boolean).join(" ")}function Qz(){const{fetchAllMataxis:t,fetchAllVehiclesInCollection:e}=_o(),[n,r]=m.useState([]),[i,s]=m.useState({}),[o,a]=m.useState({});m.useState([]),m.useState(!1);const[l,u]=m.useState([]),[d,f]=m.useState([]),[h,g]=m.useState([]);console.log("mataxi std >>",l),console.log("mataxi luxe >>",d),console.log("mataxi xl >>",h);let v={MATAXI_STD:l,MATAXI_XL:h,MATAXI_LUXE:d};const y=async _=>{console.log(`fetching allVehicles in ${_}`);try{const p=await e(_);console.log(`allVehiclesIn${_}Response >> `,p),p&&p.forEach(E=>{const{mataxiRideType:w,data:b}=E;w==="mataxiStandard"&&b?u(b):w==="mataxiXl"&&b?g(b):w==="mataxiLuxe"&&b&&f(b)})}catch(p){console.log("error >> ",p)}},x=async()=>{const _="BookingAllocationCollection",p="VehicleCollection";try{console.log("Initializing fetch & merge ...");const E=await e(p),w=await e(_);console.log("allVehiclesResponse >> ",E),console.log("allBookingAllocationVehiclesResponse >> ",w);const b=E.map(T=>{const R=w.find(C=>C.mataxiRideType===T.mataxiRideType);return console.log("validBookingAllocationVehicle >> ",R),R&&T.data&&T.data.forEach(C=>{const k=R.data[0];C.isFull=k.isFull??!1,C.isAvailable=k.isAvailable??!1}),T});console.log("mergedData >> ",b),r(b.find(T=>T.mataxiRideType==="mataxiStandard")),s(b.find(T=>T.mataxiRideType==="mataxiXl")),a(b.find(T=>T.mataxiRideType==="mataxiLuxe"))}catch(E){console.error("Error fetching and merging data: ",E)}};return c.jsx("div",{className:"mt-20 flex justify-center w-full",children:c.jsxs("div",{className:"w-4/5 ",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-[#F66E3C] font-bold",children:'Welcome "username"'}),c.jsx("p",{className:"text-[#F66E3C]",children:"saccoName"}),c.jsxs("div",{className:"flex items-center justify-around py-4",children:[c.jsx("button",{onClick:x,class:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-blue-500 py-2 px-4 border border-blue-500 hover:border-transparent rounded",children:"Button"}),c.jsx("button",{onClick:()=>y("BookingAllocationCollection"),class:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-blue-500 py-2 px-4 border border-blue-500 hover:border-transparent rounded",children:"fetch Bookings"}),c.jsx("button",{onClick:()=>y("AvailableVehicleCollection"),class:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-blue-500 py-2 px-4 border border-blue-500 hover:border-transparent rounded",children:"fetch Available"}),c.jsx("button",{onClick:()=>y("VehicleCollection"),class:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-blue-500 py-2 px-4 border border-blue-500 hover:border-transparent rounded",children:"fetch all"})]})]}),c.jsx("div",{children:c.jsx("div",{className:"w-4/5  px-2 py-2 sm:px-0",children:c.jsxs(yl.Group,{children:[c.jsx(yl.List,{className:"flex space-x-1 rounded-xl bg-blue-900/20 p-1",children:Object.keys(v).map(_=>c.jsx(yl,{className:({selected:p})=>qE("w-4/5 rounded-lg py-2.5 text-sm font-medium leading-5","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",p?"bg-white text-blue-700 shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"),children:_},_))}),c.jsx(yl.Panels,{className:"mt-2",children:Object.entries(v).map(([_,p],E)=>c.jsx(yl.Panel,{className:qE("rounded-xl bg-white p-3","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:c.jsx(Gz,{data:p,selectedRideType:_})},E))})]})})}),c.jsx("p",{children:"This page is under construction. Please come back later."})]})})}const Xz=()=>c.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-xl",children:[c.jsx("h1",{className:"text-center text-2xl font-semibold mb-4 text-[#F66E3C]",children:"Mataxi"}),c.jsx("div",{className:"relative flex justify-center items-center space-x-4 mb-4",children:c.jsx("div",{className:"h-32 w-32 bg-[#FFCAB7] rounded-full flex justify-center items-center",children:c.jsx("div",{className:" h-20 w-20 bg-[#FF8A5F] rounded-full flex justify-center items-center",children:c.jsx("div",{className:" h-12 w-12 bg-[#F66E3C] rounded-full flex justify-center items-center",children:c.jsx(l0,{className:"h-10 w-10 text-white"})})})})}),c.jsx("p",{className:"text-gray-600 text-center font-bold text-xl",children:"Wallet successfully created"}),c.jsx(be,{to:"/settings",className:"bg-[#f66E3C] text-white rounded-full py-2 px-4 mt-4 w-full hover:bg-[#f57859] block text-center",children:"Go back"})]})}),Yz=gD($g(c.jsxs(Oe,{children:[c.jsx(Oe,{path:"/",element:c.jsx(VD,{})}),c.jsxs(Oe,{element:c.jsx($9,{}),children:[c.jsx(Oe,{path:"welcome-screen/:title",element:c.jsx(U9,{screensData:MD})}),c.jsx(Oe,{path:"home",element:c.jsx(Q8,{})}),c.jsx(Oe,{path:"login",element:c.jsx(DE,{func:"login"})}),c.jsx(Oe,{path:"login/:user",element:c.jsx(yB,{})}),c.jsx(Oe,{path:"signup",element:c.jsx(DE,{func:"signup"})}),c.jsx(Oe,{path:"signup/:user",element:c.jsx(IB,{})}),c.jsx(Oe,{path:"signup/:user/sacco",element:c.jsx(Oz,{})}),c.jsx(Oe,{path:"signup/:user/mmemonics",element:c.jsx(NE,{})}),c.jsx(Oe,{path:"signup/:user/create-password",element:c.jsx(OE,{})}),c.jsx(Oe,{path:"signup/:user/complete",element:c.jsx(CB,{})}),c.jsx(Oe,{path:"signup/:user/import-wallet",element:c.jsx(RB,{})}),c.jsx(Oe,{path:"accounts/:user/profile",element:c.jsx(Az,{})}),c.jsxs(Oe,{path:"settings",element:c.jsx(jz,{}),children:[c.jsxs(Oe,{path:":user/book-trip",children:[c.jsx(Oe,{index:!0,element:c.jsx(Lz,{})}),c.jsx(Oe,{path:"checkout",element:c.jsx(Hz,{})}),c.jsx(Oe,{path:"success",element:c.jsx(WE,{})})]}),c.jsx(Oe,{path:":user/trip-history",element:c.jsx(WE,{})}),c.jsx(Oe,{path:":user/dashboard",element:c.jsx(Fz,{})}),c.jsxs(Oe,{path:":user/wallet",element:c.jsx(Vz,{}),children:[c.jsx(Oe,{index:!0,path:"deposit",element:c.jsx(zz,{})}),c.jsx(Oe,{path:"withdraw",element:c.jsx(Bz,{})})]}),c.jsxs(Oe,{path:":user/settings",children:[c.jsx(Oe,{index:!0,element:c.jsx($z,{})}),c.jsx(Oe,{path:"profile",element:c.jsx(Uz,{})}),c.jsxs(Oe,{path:"paymail",children:[c.jsx(Oe,{index:!0,element:c.jsx(Kz,{})}),c.jsx(Oe,{path:"mmemonics",element:c.jsx(NE,{})}),c.jsx(Oe,{path:"confirm-mmemonics",element:c.jsx(OE,{})}),c.jsx(Oe,{path:"success",element:c.jsx(Xz,{})})]})]})]}),c.jsxs(Oe,{path:"sacco.mataxi",children:[c.jsx(Oe,{path:"auth/login"}),c.jsx(Oe,{path:"home"})]}),c.jsxs(Oe,{path:"route-manager",children:[c.jsx(Oe,{path:"auth/login"}),c.jsx(Oe,{path:"home"}),c.jsx(Oe,{path:"route-queue",element:c.jsx(Qz,{})})]})]})]})));zm.createRoot(document.getElementById("root")).render(c.jsx(te.StrictMode,{children:c.jsx(Dz,{children:c.jsx(lD,{router:Yz})})}));
